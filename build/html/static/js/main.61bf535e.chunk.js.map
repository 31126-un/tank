{"version":3,"sources":["assets/image/file/folder.svg","assets/image/file/pdf.svg","assets/image/file/doc.svg","assets/image/file/ppt.svg","assets/image/file/xls.svg","assets/image/file/audio.svg","assets/image/file/video.svg","assets/image/file/text.svg","assets/image/file/psd.svg","assets/image/file/image.svg","assets/image/file/file.svg","assets/image/logo.png","common/component/TankComponent.tsx","common/util/SafeUtil.ts","common/util/StringUtil.ts","common/model/base/SortDirection.ts","common/model/base/filter/Filter.ts","common/model/base/filter/SortFilter.ts","common/util/HttpUtil.ts","common/util/DateUtil.ts","common/util/JsonUtil.ts","common/util/ObjectUtil.ts","common/model/base/Base.ts","common/model/base/WebResultCode.ts","common/model/base/ViewBase.ts","common/model/global/Sun.ts","common/util/MessageBoxUtil.ts","common/model/base/HttpBase.ts","common/model/base/option/Color.ts","common/model/base/BaseEntity.ts","common/model/user/UserRole.ts","common/util/BrowserUtil.ts","common/model/global/i18n/LangEn.ts","common/model/global/i18n/LangZh.ts","common/model/global/Lang.ts","common/model/user/UserStatus.ts","common/util/NumberUtil.ts","common/util/MimeUtil.ts","common/util/ImageUtil.ts","common/model/base/filter/SelectionFilterType.ts","common/model/base/filter/InputFilter.ts","common/model/base/filter/SelectionFilter.ts","common/model/user/User.ts","common/model/preference/model/PreviewEngine.ts","common/model/preference/model/PreviewConfig.ts","common/model/preference/Preference.ts","common/model/global/Moon.ts","pages/user/Login.tsx","pages/user/Register.tsx","common/model/base/Pager.ts","common/util/FileUtil.ts","pages/widget/filter/InputFilterBox.tsx","common/model/base/filter/DateTimeFilter.ts","pages/widget/filter/DateTimeFilterBox.tsx","common/model/base/filter/CheckFilter.ts","pages/widget/filter/CheckFilterBox.tsx","pages/widget/filter/SelectionFilterBox.tsx","pages/widget/filter/SortFilterBox.tsx","common/model/base/filter/HttpSelectionFilter.ts","pages/widget/filter/HttpSelectionFilterBox.tsx","pages/widget/filter/DateFilterBox.tsx","common/model/base/filter/DateFilter.ts","pages/widget/filter/FilterPanel.tsx","pages/widget/TableEmpty.tsx","pages/widget/TankTitle.tsx","common/util/ClipboardUtil.ts","pages/user/widget/TransfigurationModal.tsx","pages/user/List.tsx","pages/widget/InfoCell.tsx","pages/widget/Expanding.tsx","pages/user/widget/MobileUserPanel.tsx","pages/user/MobileList.tsx","pages/widget/TankContentCard.tsx","pages/widget/previewer/ImagePreviewer.tsx","pages/widget/SingleTextModal.tsx","pages/user/widget/ChangePasswordModal.tsx","pages/user/Detail.tsx","common/util/EnvUtil.ts","pages/widget/previewer/BrowserPreviewer.tsx","common/model/download/token/DownloadToken.ts","pages/widget/previewer/PreviewerHelper.ts","common/model/matter/Matter.ts","pages/matter/widget/UploadMatterPanel.tsx","pages/matter/widget/MatterImage.tsx","pages/user/Edit.tsx","pages/user/Authentication.tsx","pages/preference/Index.tsx","pages/preference/widget/PreviewEngineCell.tsx","pages/preference/widget/PreviewConfigPanel.tsx","pages/preference/Edit.tsx","pages/preference/PreviewEngineEdit.tsx","pages/dashboard/widget/RatePanel.tsx","common/model/dashboard/Dashboard.ts","pages/dashboard/Index.tsx","common/model/install/Install.ts","pages/install/widget/SetAdminPanel.tsx","pages/install/widget/MysqlPanel.tsx","pages/install/widget/CreateTablePanel.tsx","pages/install/widget/inner/PhaseSelectingPanel.tsx","pages/install/widget/inner/PhaseVerifyPanel.tsx","pages/install/widget/inner/PhaseCreatePanel.tsx","common/model/share/ShareType.ts","pages/install/widget/FinishPanel.tsx","pages/install/Index.tsx","pages/matter/widget/Director.ts","common/util/AnimateUtil.ts","pages/matter/widget/MatterPanel.tsx","pages/matter/widget/MoveBatchModal.tsx","common/model/share/ShareExpireOption.ts","common/model/share/Share.ts","pages/matter/widget/ShareOperationModal.tsx","pages/share/widget/ShareDialogModal.tsx","pages/widget/BreadcrumbPanel.tsx","pages/matter/List.tsx","common/model/image/cache/ImageCache.ts","pages/matter/widget/imageCache/ImageCachePanel.tsx","pages/matter/widget/imageCache/ImageCacheList.tsx","pages/matter/Detail.tsx","pages/share/widget/ShareBar.tsx","pages/share/List.tsx","pages/widget/FrameLoading.tsx","pages/share/Detail.tsx","pages/layout/BottomLayout.tsx","common/menu/MenuItem.ts","common/menu/MenuManager.tsx","pages/layout/widget/AboutModal.tsx","pages/layout/SideLayout.tsx","pages/layout/TopLayout.tsx","pages/layout/ContentLayout.tsx","pages/Frame.tsx","App.tsx","index.tsx","assets/image/file/archive.svg","assets/image/avatar.png","assets/image/empty.svg","assets/image/error.png"],"names":["module","exports","TankComponent","mounted","this","setState","console","info","constructor","name","React","Component","SafeUtil","callback","noop","e","stopPropagation","domEvent","func","safeCallback","StringUtil","str","error","replace","letter","index","log","substr","toUpperCase","toLowerCase","father","child","indexOf","bytes","si","thresh","Math","abs","units","u","length","toFixed","c","result","exec","toString","obj","key","path","num","parts","split","filter","item","splice","join","prefix","suffix","substring","a","b","separator","text","undefined","trim","isBlank","Date","getTime","level","standardString","list","len","floor","push","code","forEach","exchangeString","strNew","map","i","pow","UPPER_CASES","SortDirection","Filter","visible","value","SortFilter","DESC","DESCEND","ASC","ASCEND","HttpUtil","url","params","successCallback","errorCallback","finallyCallback","axios","get","then","response","catch","finally","opts","post","formData","processCallback","config","headers","onUploadProgress","DateUtil","date","moment","format","DEFAULT_HOUR_MINUTE","DEFAULT_FORMAT","DATE_FORMAT","add","formatString","isValid","toDate","SLASH_DATE_FORMAT","TIME_FORMAT","COMPACT_DATE_FORMAT","JsonUtil","Array","JSON","parse","stringify","json","ObjectUtil","standardObj","extraObj","hasOwnProperty","checkKey","Object","deepExtend","field","str2Date","Clazz","String","parseList","beans","bean","clazz","assign","arr","encodeURIComponent","Base","autoId","generateAutoId","extend","assignList","EntityClazz","prototype","AUTO_INCREMENT_ID","target","WebResultCode","ViewBase","reactComponent","updateComponentUI","component","entity","_version","warn","Sun","frameComponent","reactRouter","showDrawer","isMobile","test","window","navigator","userAgent","singleton","getSingleton","route","keys","query","URLSearchParams","navigateTo","go","updateUI","WebResultCodes","k","WebResultCodeMap","OK","BAD_REQUEST","NEED_SHARE_CODE","SHARE_CODE_ERROR","LOGIN","NOT_INSTALLED","SERVER","UNKNOWN","WebResultCodeList","type","MessageBoxUtil","content","success","warning","HttpBase","needReactComponentUpdate","loading","errorMessage","msg","temp","getErrorMessage","data","lastLoginErrorTimestamp","jumpLogin","that","httpGet","specialErrorHandler","err","defaultErrorHandler","res","qs","httpPost","Color","BaseEntity","uuid","sort","createTime","updateTime","detailLoading","assignEntity","className","functionName","lowerCamel","lowerSlash","getTAG","getUrlPrefix","getUrlCreate","getUrlEdit","validate","getForm","getUrlDetail","getUrlDel","UserRole","BrowserUtil","nameEQ","ca","document","cookie","charAt","location","href","results","RegExp","decodeURIComponent","reg","r","search","match","unescape","storage","localStorage","setItem","removeItem","isLocalStorageNameSupported","protocol","host","lang","language","userLanguage","LangEn","eyeblueTank","dashboard","totalInvokeNum","weekRate","dayRate","yesterdayInvoke","totalUV","yesterdayUV","totalMatterNum","yesterdayMatterNum","totalFileSize","yesterdayMatterSize","recentDayInvokeUV","downloadMatterTop10","activeIpTop10","warnHint","reRun","install","configMysql","port","schema","username","password","charset","mysqlConnectionPass","testMysqlConnection","notice","mysqlNotice1","mysqlNotice2","validateMysqlFirst","preStep","nextStep","createTable","installed","installedButMissing","toBeInstalled","allFields","missingFields","tableNotice","tableNotice1","tableNotice2","tableNotice3","tableNotice4","oneKeyCreate","createFinish","createTableSuccess","crateTableFirst","setAdministrator","detectAdministrator","useOrCreateAdministrator","validateAdministrator","createAdministrator","administratorUsername","administratorPassword","administratorRePassword","usernameRule","congratulationInstall","configAdminFirst","createAdminSuccess","validateAdminSuccess","pressToHome","enterHome","finish","layout","allFiles","myShare","setting","users","logout","about","dragMouseUp","matter","file","directory","rename","download","delete","more","share","close","size","preview","move","moveTo","upload","create","root","fillInPicLink","rePick","chooseImage","uploadMode","fillMode","sizeExceedLimit","setPublic","setPrivate","copyLink","enterName","publicFileEveryoneCanVisit","fileDetail","expire","copyLinkAndCode","uploaded","speed","fileInfo","fileName","copyPath","publicOrPrivate","privateInfo","publicInfo","downloadTimes","operations","oneTimeLink","oneTimeLinkInfo","imageCache","searchFile","noContentYet","newDirectory","notChoose","exceed1000","noImageCache","router","login","autoLogin","register","userDetail","changePassword","editUser","createUser","shareDetail","preference","basic","scan","websiteName","logo","logoSquare","onlyAllowIco","copyright","extraInfo","zipMaxNumLimit","zipMaxSizeLimit","current","noLimit","userDefaultSizeLimit","docLink","tankDocLink","allowRegister","systemCleanup","systemCleanupDescription","systemCleanupPrompt","previewConfig","editPreference","editPreviewEngine","enterWebsiteName","enterZipMaxNumLimit","enterZipMaxSizeLimit","enterUserDefaultSizeLimit","engine","noEngine","newEngine","engineReg","engineSuffix","enginePreview","engineRegHelper","engineRegPlaceHolder","engineSuffixPlaceHolder","previewCurrent","previewOpen","shareTime","expireTime","noExpire","expired","shareSuccess","sharer","link","copyCode","copySuccess","cancelShare","getLink","noContent","enterCode","getFiles","codeError","cancelPrompt","hour","day","week","month","year","infinity","user","redirecting","oldPassword","newPassword","confirmNewPassword","cannotBeNull","passwordNotSame","role","singleFileSizeLimit","totalFileSizeLimit","status","lastLogin","lastLoginIp","lastLoginTime","resetPassword","transfiguration","enterPassword","enterUsername","enterNewPassword","profile","avatar","confirmPassword","disabled","disableUser","disable","active","sync","activeUser","deleteUser","deleteHint","welcomeLogin","logining","loginSuccess","toToRegister","welcomeRegister","registering","goToLogin","roleGuest","roleUser","roleAdministrator","statusActive","statusDisabled","webdavLink","editSomebodyPassword","transfigurationPromptText","transfigurationPrompt","model","passwordRule","linkCodeText","copyLinkCodeSuccess","plugin","cannotPreview","emptyHintDefault","everyPage","items","total","clickRefresh","selectAll","edit","required","cancel","actionCanNotRevertConfirm","prompt","confirm","copy","copyError","showMore","submit","save","operationSuccess","operation","notFound","yes","no","all","refresh","inputRequired","LangZh","Lang","browserLang","localLang","Cookies","keyParts","jsonBody","part","param","UserStatus","UserRoles","UserRoleMap","GUEST","t","WARNING","USER","PRIMARY","ADMINISTRATOR","DANGER","UserRoleList","UserStatuss","UserStatusMap","SUCCESS","DISABLED","UserStatusList","NumberUtil","gcd","numerator","denominator","maxFactor","parseInt","numerator1","denominator1","numerator2","denominator2","fraction1","reduce","fraction2","MimeUtil","filename","dotIndex","lastIndexOf","extension","getExtension","MIMES","ImageUtil","origin","width","height","supportExtensions","fractionEqual","IMAGE_PLACEHOLDER_10_10","IMAGE_PLACEHOLDER_20_7","IMAGE_PLACEHOLDER_4_3","IMAGE_PLACEHOLDER_16_9","IMAGE_PLACEHOLDER_2_1","SelectionFilterType","InputFilter","placeholder","SelectionFilter","options","selectionType","COMBOBOX","j","User","avatarUrl","lastIp","lastTime","sizeLimit","totalSize","totalSizeLimit","handleImageUrl","defaultAvatarPath","finalCallback","form","URL_LOGIN","URL_REGISTER","URL_INFO","URL_LOGOUT","URL_USER_CHANGE_PASSWORD","URL_USER_RESET_PASSWORD","URL_USER_TOGGLE_STATUS","authentication","URL_AUTHENTICATION_LOGIN","URL_USER_TRANSFIGURATION","URL_USER_SCAN","PreviewEngine","extensions","previewInSite","getExtensionWithoutDot","canHandle","defaultEngines","officeEngine","globalEngine","PreviewConfig","previewEngines","Preference","logoUrl","faviconUrl","record","downloadDirMaxSize","downloadDirMaxNum","defaultTotalSizeLimit","version","toJson","querySelector","createElement","rel","getElementsByTagName","appendChild","title","URL_API_PREFERENCE_FETCH","updateTitleAndFavicon","URL_API_SYSTEM_CLEANUP","URL_API_PREFERENCE_EDIT_PREVIEW_CONFIG","Moon","Login","props","state","httpLogout","updateFrame","values","httpLogin","history","errorInfo","span","offset","initialValues","remember","onFinish","bind","onFinishFailed","Item","rules","message","UserOutlined","Password","LockOutlined","icon","block","htmlType","to","Register","httpRegister","dependencies","hasFeedback","getFieldValue","validator","rule","Promise","reject","resolve","Pager","pageSize","page","totalItems","totalPages","urlPage","filters","getUrlList","getFilters","queryPageNum","getQueryByName","queryPageSize","isInteger","queryValue","putValue","reset","setFilterValue","getFilter","getValueString","isEmpty","getParams","replaceState","pathname","showTotal","totalNum","showSizeChanger","columnKey","filterKey","capitalize","sortFilter","antdSortValue","getAntdValue","pagination","sorter","extra","resetSortFilters","isEmptyObject","underScoreToCamel","order","httpList","MAX_PAGE_SIZE","FileUtil","mimeType","getMimeType","startWith","idDir","require","isPdf","isDoc","isPpt","isXls","isAudio","isVideo","isText","isPsd","isImage","endWith","InputFilterBox","event","inputFilter","onChange","onValueChange","DateTimeFilter","DateTimeFilterBox","momentTime","dateString","dateTimeFilter","showTime","CheckFilter","Option","CheckFilterBox","checkFilter","backValue","style","minWidth","SelectionFilterBox","selectionFilter","Group","Button","SortFilterBox","HttpSelectionFilter","HttpSelectionFilterBox","httpSelectionFilter","strictPutValue","selectionOptions","DateFilterBox","dateFilter","DateFilter","FilterPanel","onReset","onSearch","needSearchButton","needResetButton","selectionButtonLoose","val","onChildChange","onClick","TableEmpty","pager","emptyContent","image","EmptyImage","description","onRefresh","errorContent","ErrorImage","TankTitle","children","ClipboardUtil","textAreaElement","cssText","body","select","execCommand","TransfigurationModal","httpTransfiguration","textToCopy","fullHost","onClose","modal","okCancel","okButtonProps","destroy","List","enableHistory","getCurrentSortFilter","httpToggleStatus","twoToneColor","onOk","httpDel","open","columns","dataIndex","render","prePath","alt","src","getAvatarUrl","color","humanFileSize","simpleDateTime","sortOrder","getDefaultSortOrder","sortDirections","StopOutlined","toggleStatus","CheckCircleOutlined","UserSwitchOutlined","PlusOutlined","rowKey","dataSource","getPagination","tableOnChange","locale","emptyText","InfoCell","firstSpan","secondSpan","Expanding","VelocityTransitionGroup","enter","animation","leave","MobileUserPanel","clickRow","toggleHandles","isCurrentUser","EllipsisOutlined","stopPropagationWrap","EditOutlined","onToggleStatus","DeleteOutlined","onDelete","onTransfiguration","MobileList","ExclamationCircleFilled","resetFilter","changeSearch","currentTarget","changePage","currentUser","Search","enterButton","hideOnSinglePage","TankContentCard","ImagePreviewer","div","setAttribute","innerHTML","showMultiPhoto","urls","w","h","fullscreenEl","shareEl","tapToToggleControls","pswpDom","photoSwipe","PhotoSwipe","PhotoSwipeUIDefault","listen","img","Image","onload","updateSize","init","parentNode","removeChild","SingleTextModal","innerValue","onSuccess","onSubmitClick","initialValue","ChangePasswordModal","httpChangePassword","tailLayout","wrapperCol","labelCol","label","Detail","syncLoading","httpDetail","httpResetPassword","httpScan","handles","UnlockOutlined","danger","syncPhysics","showSinglePhoto","EnvUtil","BrowserPreviewer","CloseOutlined","element","ReactDOM","DownloadToken","userUuid","matterUuid","ip","URL_FETCH_DOWNLOAD_TOKEN","PreviewerHelper","needTokenUrl","downloadToken","httpFetchDownloadToken","matterUrl","getPreviewUrl","previewEngine","canPreview","defaultPreviewEngines","targetUrl","needToken","privacy","prepareMatterUrl","show","Matter","puuid","dir","alien","md5","times","visitTime","parent","check","editMode","uploadHint","progress","uuidsString","currentHost","URL_MATTER_ZIP","getIcon","downloadUrl","getDownloadUrl","previewUrl","URL_MATTER_CREATE_DIRECTORY","URL_MATTER_DELETE","uuids","URL_MATTER_DELETE_BATCH","URL_MATTER_RENAME","URL_CHANGE_PRIVACY","srcUuids","destUuid","URL_MATTER_MOVE","simpleType","containStr","failureCallback","validateFilter","validateFileType","FormData","append","lastTimeStamp","lastSize","httpPostFile","URL_MATTER_UPLOAD","clear","loaded","currentTime","deltaTime","currentSize","deltaSize","downloadTokenUuid","shareUuid","shareCode","shareRootUuid","URL_MATTER_DOWNLOAD","MATTER_ROOT","UploadMatterPanel","percent","strokeColor","from","MatterImage","manual","changeLink","triggerUpload","fileObj","httpUpload","toggleHandle","previewWidth","customRequest","showUploadList","Edit","formRef","createRef","createMode","httpSave","navigateBack","editSelf","roleEditable","ref","onValuesChange","noStyle","min","Authentication","httpAuthenticationLogin","Index","httpFetch","httpSystemCleanup","cleanup","ThunderboltOutlined","dangerouslySetInnerHTML","__html","engines","PreviewEngineCell","QuestionCircleOutlined","checked","PreviewConfigPanel","addEngine","delEngineCell","refreshPreference","max","valuePropName","SaveOutlined","PreviewEngineEdit","httpSavePreviewEngine","RatePanel","standardValue","compareValue","v2","noData","infinite","getValue","fontSize","Dashboard","invokeNum","uv","totalUv","matterNum","fileSize","avgCost","dt","URL_ACTIVE_IP_TOP10","URL_ETL","Echarts","registerTheme","theme","yesterdayDashboard","matterPager","days","dateStrings","standardWeekInvokeNum","compareWeekInvokeNum","standardDayInvokeNum","compareDayInvokeNum","standardWeekUv","compareWeekUv","standardDayUv","compareDayUv","standardWeekMatterNum","compareWeekMatterNum","standardDayMatterNum","compareDayMatterNum","standardWeekSize","compareWeekSize","standardDaySize","compareDaySize","invokeListOption","tooltip","legend","xAxis","yAxis","series","updateDateStrings","refreshDashboardPager","refreshMatterPager","refreshActiveIpTop10","d","thenDate","simpleDate","invokeNumData","uvData","matterNumData","fileSizeData","httpActiveIpTop10","httpEtl","gutter","xs","sm","md","lg","option","notMerge","lazyUpdate","onChartReady","showLoading","renderer","Install","mysqlPort","mysqlHost","mysqlSchema","mysqlUsername","mysqlPassword","mysqlCharset","adminUsername","adminPassword","adminRepassword","tableInfoList","adminList","verified","adminConfigured","tableInfo","tableExist","URL_VERIFY","getMysqlForm","URL_TABLE_INFO_LIST","URL_CREATE_TABLE","tableCreated","URL_ADMIN_LIST","renderList","URL_CREATE_ADMIN","URL_VALIDATE_ADMIN","URL_FINISH","Phase","MysqlPanel","httpVerify","onNextStep","ghost","goToNext","CreateTablePanel","createTableLoading","fetchTableInfoList","httpTableInfoList","httpCreateTable","onPreStep","spinning","DBName","goToPrevious","PhaseSelectingPanel","loadingAdminList","refreshAdminList","httpAdminList","admin","onSelectVerify","onSelectCreate","PhaseVerifyPanel","httpValidateAdmin","PhaseCreatePanel","httpCreateAdmin","ShareType","SetAdminPanel","phase","SELECTING","CREATE","VERIFY","FinishPanel","httpFinish","subTitle","TabPane","activeName","activeKey","onTabClick","tab","Director","renameMode","moveMode","AnimateUtil","startValue","endValue","duration","processHandler","startHandler","endHandler","standard","totalStep","ceil","delta","sum","intervalHandler","setInterval","clearInterval","input","startPos","endPos","focus","selectionStart","selectionEnd","selection","createRange","range","collapse","moveEnd","moveStart","MatterPanel","renameMatterName","renamingLoading","inputRef","prepareRename","director","isEditing","setTimeout","setInputSelection","clipboard","deleteMatter","httpDelete","onDeleteSuccess","changeMatterName","finishRename","httpRename","finishCreateDirectory","onCreateDirectoryCallback","httpCreateDirectory","blurTrigger","enterTrigger","blur","changePrivacy","httpChangePrivacy","checkToggle","onCheckMatter","highLight","onGoToDirectory","onPreviewImage","renderPcOperation","shareMode","DownloadOutlined","simpleDateHourMinute","InfoCircleOutlined","LinkOutlined","renderMobileOperation","onBlur","onKeyUp","MoveBatchModal","targetUuid","treeData","fetchData","treeNode","concat","onLoadData","onSelect","selectedKeys","DirectoryTree","defaultExpandedKeys","loadData","expanded","FolderOpenFilled","FolderFilled","ShareExpireOption","ShareTypes","ShareTypeMap","FILE","DIRECTORY","MIX","ShareTypeList","ShareExpireOptions","ShareExpireOptionMap","HOUR","deltaMillisecond","DAY","WEEK","MONTH","YEAR","INFINITY","ShareExpireOptionList","Share","shareType","expireInfinity","dirMatter","matters","rootUuid","expireOption","now","URL_ZIP","matterUuids","getExpireTime","URL_CREATE","URL_DELETE_BATCH","URL_BROWSE","errorMsg","ShareOperationModal","selectChange","confirmCallback","ShareDialogModal","copyAll","CopyOutlined","maskClosable","BreadcrumbPanel","breadcrumbModels","displayDirect","navigateQueryTo","newMatter","uploadMatters","selectedMatters","searchText","newMatterRef","dragEnterCount","drag","dragEnterListener","preventDefault","dragleaveListener","dragoverListener","dropListener","launchUpload","dataTransfer","files","el","getElementById","addEventListener","remove","removeEventListener","getFilterValue","refreshPager","refreshBreadcrumbs","checkMatter","findIndex","checkAll","checkNone","deleteBatch","httpDeleteBatch","downloadZip","toggleMoveBatch","httpMove","m","shareBatch","httpCreate","createDirectory","previewImage","imageArray","startIndex","goToDirectory","id","cur","reduceRight","nextProps","nextContext","CloudUploadOutlined","PlusSquareOutlined","MinusSquareOutlined","DragOutlined","ShareAltOutlined","multiple","FolderOutlined","SyncOutlined","Children","toArray","ImageCache","matterName","mode","ImageCachePanel","onCheckImageCache","deleteImageCache","onPreviewImageCache","getOriginUrl","SmallDashOutlined","ImageCacheList","selectedImageCaches","checkBatch","checkImageCache","initFilter","previewImageCache","getResizeUrl","tip","ShareBar","showShare","delShare","hasExpired","FrameLoading","LoadingOutlined","needShareCode","sharePagerSize","httpBrowse","setFilterValues","orderCreateTime","orderDir","paramId","pMatter","BottomLayout","changeLang","DefaultLogoPng","set","MenuItem","MenuManager","getMenuItems","menuItem","menuItems","AppstoreOutlined","SettingOutlined","DashboardOutlined","TeamOutlined","PoweroffOutlined","AboutModal","okText","SideLayout","selectMenu","menuManager","getSelectedKeys","TopLayout","goHome","toggleDrawer","ContentLayout","RawFrame","initialized","initialize","startsWith","httpInfo","errMessage","exact","UserLogin","UserRegister","UserDetail","UserList","MobileUserList","UserEdit","UserAuthentication","DashboardIndex","PreferenceIndex","PreferenceEdit","PreferenceEngineEdit","MatterDetail","MatterList","ShareList","ShareDetail","InstallIndex","Frame","withRouter","App","en_US"],"mappings":"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","file":"static/js/main.61bf535e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/folder.f8d1b500.svg\";","module.exports = __webpack_public_path__ + \"static/media/pdf.c256fdcb.svg\";","module.exports = __webpack_public_path__ + \"static/media/doc.1e70a87c.svg\";","module.exports = __webpack_public_path__ + \"static/media/ppt.9ec3e018.svg\";","module.exports = __webpack_public_path__ + \"static/media/xls.ef5ba31b.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.30a1ea02.svg\";","module.exports = __webpack_public_path__ + \"static/media/video.4387235d.svg\";","module.exports = __webpack_public_path__ + \"static/media/text.49dc13ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/psd.be6691be.svg\";","module.exports = __webpack_public_path__ + \"static/media/image.06f036ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/file.fd3e15f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.21458adb.png\";","import React from 'react';\r\n\r\n\r\n/**\r\n * 带有挂载状态的自定义组件\r\n */\r\nexport default class TankComponent<P, S> extends React.Component <P, S> {\r\n\r\n  //是否处于挂载的状态。\r\n  mounted: boolean = false\r\n\r\n  componentWillUnmount() {\r\n    let that = this\r\n    that.mounted = false\r\n  }\r\n\r\n  componentWillMount() {\r\n    let that = this\r\n    that.mounted = true\r\n  }\r\n\r\n  //更新当前视图。\r\n  updateUI() {\r\n    let that = this\r\n    if (that.mounted) {\r\n      that.setState({})\r\n    } else {\r\n      console.info(this.constructor.name + \"已经脱离挂载，不再刷新视图。\")\r\n    }\r\n  }\r\n\r\n  //获取当前组件的唯一标识\r\n  getIdentifier() {\r\n    return this.constructor.name;\r\n  }\r\n}\r\n\r\n","export default class SafeUtil {\r\n\r\n  //安全的调用某个函数，函数不存在，创建一个空函数。\r\n  static safeCallback(callback: any) {\r\n    if (typeof callback === \"function\") {\r\n      return callback\r\n    } else {\r\n      return SafeUtil.noop\r\n    }\r\n  }\r\n\r\n\r\n  //空函数\r\n  static noop = () => {\r\n  };\r\n\r\n\r\n  //停止事件冒泡\r\n  static stopPropagation(e: any) {\r\n    if (!e) {\r\n      return\r\n    }\r\n\r\n    if (e.stopPropagation) {\r\n      //系统的点击事件\r\n      e.stopPropagation()\r\n    } else if (e.domEvent && e.domEvent.stopPropagation) {\r\n      //antd的事件\r\n      e.domEvent.stopPropagation()\r\n\r\n    }\r\n  }\r\n\r\n  // 停止事件冒泡包装函数\r\n  static stopPropagationWrap(e: any) {\r\n    SafeUtil.stopPropagation(e);\r\n    return (func?: any) => {\r\n      SafeUtil.safeCallback(func);\r\n    }\r\n  }\r\n\r\n}\r\n","export default class StringUtil {\r\n\r\n  //大写字母\r\n  static UPPER_CASES = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\r\n\r\n  //下划线转驼峰\r\n  static underScoreToCamel(str: string) {\r\n\r\n    if (!str) {\r\n      console.error('不能转换空的驼峰字符串。')\r\n      return str\r\n    }\r\n\r\n    const regex = /_[a-z]/gm;\r\n\r\n    return str.replace(regex, function (letter: any, index: any) {\r\n      console.log(\"letter\", letter)\r\n      return letter.substr(1).toUpperCase()\r\n    })\r\n  }\r\n\r\n  //转换成首字母小写的驼峰法\r\n  static lowerCamel(str: any) {\r\n\r\n    if (!str) {\r\n      console.error('不能转换空的驼峰字符串。')\r\n      return str\r\n    }\r\n\r\n    return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (letter: any, index: any) {\r\n      return index === 0 ? letter.toLowerCase() : letter.toUpperCase()\r\n    }).replace(/\\s+/g, '')\r\n  }\r\n\r\n\r\n  //转换成全部小写的使用 /分隔的字符串\r\n  static lowerSlash(str: any) {\r\n    return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (letter: any, index: any) {\r\n      return '/' + letter.toLowerCase()\r\n    }).replace(/\\s+/g, '')\r\n  }\r\n\r\n  //一个字符串包含子字符串\r\n  static containStr(father: string | null, child: string): boolean {\r\n\r\n    if (father === null || father === '') {\r\n      return false\r\n    }\r\n    return father.indexOf(child) !== -1\r\n  }\r\n\r\n  //把一个大小转变成方便读的格式\r\n  //human readable file size\r\n  static humanFileSize(bytes: number, si:boolean = false) {\r\n    let thresh = si ? 1000 : 1024\r\n    if (Math.abs(bytes) < thresh) {\r\n      return bytes + ' B'\r\n    }\r\n    let units = si\r\n      ? ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\r\n      : ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\r\n    let u = -1\r\n    do {\r\n      bytes /= thresh\r\n      ++u\r\n    } while (Math.abs(bytes) >= thresh && u < units.length - 1)\r\n    return bytes.toFixed(1) + ' ' + units[u]\r\n  }\r\n\r\n  //将首字母大写\r\n  static capitalize(str: any) {\r\n\r\n    if (!str) {\r\n      return str;\r\n    }\r\n\r\n    str = str.replace(/^\\w/, (c: any) => c.toUpperCase());\r\n\r\n    return str\r\n  }\r\n\r\n  //将首字母小写\r\n  static lower(str: any) {\r\n\r\n    if (!str) {\r\n      return str;\r\n    }\r\n\r\n    str = str.replace(/^\\w/, (c: any) => c.toLowerCase());\r\n\r\n    return str\r\n  }\r\n\r\n  //获取一个function的名字\r\n  static functionName(func: any) {\r\n    // Match:\r\n    // - ^          the beginning of the string\r\n    // - function   the word 'function'\r\n    // - \\s+        at least some white space\r\n    // - ([\\w\\$]+)  capture one or more valid JavaScript identifier characters\r\n    // - \\s*        optionally followed by white space (in theory there won't be any here,\r\n    //              so if performance is an issue this can be omitted[1]\r\n    // - \\(         followed by an opening brace\r\n    //\r\n    let result = /^function\\s+([\\w\\$]+)\\s*\\(/.exec(func.toString())\r\n\r\n    return result ? result[1] : '' // for an anonymous function there won't be a match\r\n  }\r\n\r\n  //check whether an obj is empty\r\n  static isEmptyObject(obj: any) {\r\n\r\n    if (!obj) {\r\n      return true;\r\n    }\r\n\r\n    for (let key in obj) {\r\n      return false;\r\n    }\r\n    return true\r\n  }\r\n\r\n\r\n  /**\r\n   * 获取到上num级路径\r\n   * 例子： /tank/setting/notification -> /tank/setting\r\n   * @param path 原路径\r\n   * @param num 上几级，默认1级\r\n   */\r\n  static prePath(path: string, num: number = 1): string {\r\n    if (!path) {\r\n      return path\r\n    }\r\n\r\n    //去除掉最后的/符号。\r\n    let parts: string[] = path.split(\"/\");\r\n    //去除所有的空\r\n    parts = parts.filter((item: string, index: number) => {\r\n      return item !== \"\"\r\n    })\r\n\r\n    //前面几层就是删掉前面几个元素。如果超出了，会全部删掉。\r\n    parts.splice(parts.length - num)\r\n\r\n    return \"/\" + parts.join(\"/\")\r\n  }\r\n\r\n\r\n  static startWith(str: any, prefix: any) {\r\n    if (typeof prefix === 'undefined' || prefix === null || prefix === '' || typeof str === 'undefined' || str === null || str.length === 0 || prefix.length > str.length) {\r\n      return false\r\n    }\r\n\r\n    return str.substr(0, prefix.length) === prefix\r\n  }\r\n\r\n  static endWith(str: any, suffix: any) {\r\n    if (suffix === null || suffix === '' || str === null || str.length === 0 || suffix.length > str.length) {\r\n      return false\r\n    }\r\n\r\n    return str.substring(str.length - suffix.length) === suffix\r\n  }\r\n\r\n\r\n  /**\r\n   * 去除掉开头的前缀\r\n   * @param str 待处理的字符串\r\n   * @param prefix 前缀\r\n   */\r\n  static trimPrefix(str: string | null, prefix: string): string {\r\n\r\n    if (!str) {\r\n      return \"\"\r\n    } else {\r\n      if (str.substr(0, prefix.length) === prefix) {\r\n        return str.substr(prefix.length)\r\n      } else {\r\n        return str\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * 去除掉后缀\r\n   * @param str 待处理的字符串\r\n   * @param suffix 前缀\r\n   */\r\n  static trimSuffix(str: string | null, suffix: string): string {\r\n\r\n    if (!str) {\r\n      return \"\"\r\n    } else {\r\n      if (str.substring(str.length - suffix.length) === suffix) {\r\n        return str.substr(0, str.length - suffix.length)\r\n      } else {\r\n        return str\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  //在字符串a后面追加字符串b\r\n  static append(a: any, b: any, separator = \"\") {\r\n\r\n    if (a === null || a === \"\" || typeof a !== \"string\") {\r\n      return b;\r\n    } else {\r\n      return a + separator + b;\r\n    }\r\n  }\r\n\r\n\r\n  static isBlank(text: string | null | undefined): boolean {\r\n\r\n    if (text === null || text == undefined) {\r\n      return true\r\n    }\r\n\r\n    return text.trim() === \"\";\r\n\r\n  }\r\n\r\n  static isNotBlank(text: string | null | undefined): boolean {\r\n\r\n    return !StringUtil.isBlank(text)\r\n\r\n  }\r\n\r\n\r\n  //将时间戳转换成62进制\r\n  static generateUniqueCode(num?: number): string {\r\n    //获取时间戳\r\n\r\n    if (num === undefined) {\r\n      num = new Date().getTime()\r\n    }\r\n\r\n    let standardString = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\r\n    let result;\r\n    let list: number[] = [];\r\n    let len = standardString.length;\r\n    let level;\r\n    for (level = 0; Math.floor(num / len) > 0; level++) {\r\n      result = num % len;\r\n      list.push(result)\r\n      num = (num - result) / len\r\n    }\r\n    list.push(num);\r\n    let code = '';\r\n    list.forEach((item) => {\r\n      code = standardString[item] + code;\r\n    })\r\n    return code\r\n  }\r\n\r\n  //字符串转换成十进制\r\n  static parseUniqueCode(str: string): number {\r\n\r\n    let exchangeString = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\r\n    let strNew = str.split(\"\");\r\n    let list: number[] = [];\r\n    strNew.map((item: string) => {\r\n      list.push(exchangeString.indexOf(item));\r\n    });\r\n    let num = 0;\r\n    for (let i = 0; i < list.length; i++) {\r\n      num += list[i] * Math.pow(exchangeString.length, list.length - i - 1);\r\n    }\r\n    return num;\r\n  }\r\n\r\n\r\n}\r\n","enum SortDirection {\r\n  //这两个是后台通用的标准\r\n  ASC = 'ASC',\r\n  DESC = 'DESC',\r\n\r\n  //这两项是antd的标准\r\n  DESCEND = 'descend',\r\n  ASCEND = 'ascend'\r\n}\r\n\r\n\r\nexport default SortDirection\r\n","/**\r\n * 这个是列表筛选器的基类。\r\n */\r\nexport default class Filter {\r\n\r\n  //中文名\r\n  name: string\r\n  //提交时候的键值，英文\r\n  key: string\r\n  //是否可见\r\n  visible: boolean = true\r\n\r\n  constructor(name: string, key: string, visible?: boolean) {\r\n    this.name = name\r\n    this.key = key\r\n\r\n    //没有传默认为true.\r\n    if (visible === undefined) {\r\n      this.visible = true\r\n    } else {\r\n      this.visible = visible\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取到一个字符串的值\r\n   */\r\n  getValueString(): string {\r\n    console.error(`${this.constructor.name} 的 getValue 不存在，请开发者及时配置。`)\r\n    return \"\"\r\n  }\r\n\r\n  /**\r\n   * 把一个字符串放置到value中去，因为有可能从请求参数中回填值\r\n   */\r\n  putValue(value: string) {\r\n    console.error(`${this.constructor.name} 的 putValue 不存在，请开发者及时配置。`)\r\n  }\r\n\r\n  /**\r\n   * 将过滤器的值清空\r\n   */\r\n  reset() {\r\n    console.error(`${this.constructor.name} 的 reset 不存在，请开发者及时配置。`)\r\n  }\r\n\r\n  /**\r\n   * 当前过滤器是否为空\r\n   */\r\n  isEmpty():boolean {\r\n    console.error(`${this.constructor.name} 的 isEmpty 不存在，请开发者及时配置。`)\r\n    return false\r\n  }\r\n\r\n}\r\n","import Filter from \"./Filter\";\r\nimport SortDirection from \"../SortDirection\";\r\n\r\n\r\n/**\r\n *\r\n * 排序过滤器\r\n *\r\n */\r\nexport default class SortFilter extends Filter {\r\n\r\n  //值，最终填写的内容。null表示这个值不设置\r\n  value: SortDirection | null = null\r\n\r\n  constructor(name: string, code: string, visible?: boolean) {\r\n    super(name, code, visible)\r\n    //过滤排序器，more是不显示的。\r\n    //没有传默认为true.\r\n    if (visible === undefined) {\r\n      this.visible = false\r\n    } else {\r\n      this.visible = visible\r\n    }\r\n  }\r\n\r\n  //获取值字符串，[null,true,false] => [\"\",\"true\",\"false\"]\r\n  getValueString(): string {\r\n    if (this.value) {\r\n      return this.value\r\n    } else {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  //通过一个字符串来设置值\r\n  putValue(value: string) {\r\n    if (value === SortDirection.DESC || value === SortDirection.DESCEND) {\r\n      this.value = SortDirection.DESC\r\n    } else if (value === SortDirection.ASC || value === SortDirection.ASCEND) {\r\n      this.value = SortDirection.ASC\r\n    } else {\r\n      this.value = null\r\n    }\r\n  }\r\n\r\n\r\n  //获取到antd需要使用的值 TODO: SortOrder\r\n  getAntdValue(): any | null {\r\n    if (this.value === SortDirection.DESC || this.value === SortDirection.DESCEND) {\r\n      return SortDirection.DESCEND\r\n    } else if (this.value === SortDirection.ASC || this.value === SortDirection.ASCEND) {\r\n      return SortDirection.ASCEND\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = null\r\n  }\r\n\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === null;\r\n  }\r\n\r\n\r\n}\r\n","import axios, {AxiosRequestConfig} from \"axios\";\r\nimport SafeUtil from \"./SafeUtil\";\r\n\r\n\r\n//http请求全部收口在这个工具类中，可以快速切换http框架。\r\nexport default class HttpUtil {\r\n\r\n\r\n  static httpGet(url: any, params = {}, successCallback?: any, errorCallback?: any, finallyCallback?: any, opts?: any) {\r\n\r\n    axios\r\n      .get(url, {\r\n        params: params\r\n      })\r\n      .then(function (response) {\r\n        SafeUtil.safeCallback(successCallback)(response)\r\n\r\n      })\r\n      .catch(function (error) {\r\n\r\n        SafeUtil.safeCallback(errorCallback)(error)\r\n\r\n      })\r\n      .finally(function () {\r\n\r\n        SafeUtil.safeCallback(finallyCallback)()\r\n\r\n      });\r\n  }\r\n\r\n\r\n  static httpPost(url: any, params = {}, successCallback?: any, errorCallback?: any, finallyCallback?: any, opts?: any) {\r\n\r\n    axios\r\n      .post(url, params, opts)\r\n      .then(function (response) {\r\n\r\n        SafeUtil.safeCallback(successCallback)(response)\r\n\r\n      })\r\n      .catch(function (error) {\r\n\r\n        SafeUtil.safeCallback(errorCallback)(error)\r\n\r\n      })\r\n      .finally(function () {\r\n\r\n        SafeUtil.safeCallback(finallyCallback)()\r\n\r\n      });\r\n  }\r\n\r\n  /**\r\n   * 上传文件的请求\r\n   */\r\n  static httpPostFile(url: string,\r\n                      formData: FormData,\r\n                      successCallback?: any,\r\n                      errorCallback?: any,\r\n                      finallyCallback?: any,\r\n                      processCallback?: (progressEvent: any) => void,\r\n                      opts?: any) {\r\n\r\n    const config: AxiosRequestConfig = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      },\r\n      onUploadProgress: processCallback\r\n    }\r\n\r\n    axios\r\n      .post(url, formData, config)\r\n      .then(function (response) {\r\n\r\n        SafeUtil.safeCallback(successCallback)(response)\r\n\r\n      })\r\n      .catch(function (error) {\r\n\r\n        SafeUtil.safeCallback(errorCallback)(error)\r\n\r\n      })\r\n      .finally(function () {\r\n\r\n        SafeUtil.safeCallback(finallyCallback)()\r\n\r\n      });\r\n  }\r\n\r\n}\r\n\r\n","import moment from \"moment\"\r\n\r\nexport default class DateUtil {\r\n\r\n  static DEFAULT_FORMAT = \"YYYY-MM-DD HH:mm:ss\";\r\n  static DEFAULT_HOUR_MINUTE = \"YYYY-MM-DD HH:mm\";\r\n  static SLASH_DATE_FORMAT = \"YYYY/MM/DD\";\r\n  static TIME_FORMAT = \"HH:mm:ss\";\r\n  static DATE_FORMAT = \"YYYY-MM-DD\";\r\n  //紧凑型的时间格式\r\n  static COMPACT_DATE_FORMAT = \"YYYYMMDD\";\r\n\r\n  static simpleDateHourMinute(date: Date |null): string {\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).format(DateUtil.DEFAULT_HOUR_MINUTE)\r\n    }\r\n  }\r\n  static simpleDateTime(date: Date | null): string {\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).format(DateUtil.DEFAULT_FORMAT)\r\n    }\r\n  }\r\n\r\n  static simpleDate(date: Date | null): string {\r\n\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).format(DateUtil.DATE_FORMAT)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 某个日期的前一天\r\n   */\r\n  static lastDay(date: Date | null, format?: string): string {\r\n\r\n    if (format === undefined) {\r\n      format = DateUtil.DEFAULT_FORMAT\r\n    }\r\n\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).add(-1, 'days').format(format)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 按照指定格式进行格式化\r\n   */\r\n  static format(date: Date | null, formatString: string): string {\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).format(formatString)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 将字符串，按照指定的格式反序列化成为时间对象\r\n   * @param str\r\n   */\r\n  static parse(str: string): Date | null {\r\n\r\n    let valid = moment(str).isValid();\r\n    if (valid) {\r\n      return moment(str).toDate()\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n\r\n  //将时间字符串转化成js date\r\n  //deprecated,使用 parse方法替代。\r\n  static str2Date(str: any): Date {\r\n\r\n    let valid = moment(str).isValid();\r\n    if (valid) {\r\n      return moment(str).toDate()\r\n    } else {\r\n      //console.warn(\"不能转换成时间对象:\", str)\r\n      return new Date()\r\n    }\r\n  }\r\n\r\n}\r\n","export default class JsonUtil {\r\n\r\n\r\n  //将一个json字符串转换成 json 数组\r\n  static parseList(str: any) {\r\n    if (!str) {\r\n      return []\r\n    }\r\n    if (str instanceof Array) {\r\n      return str;\r\n    }\r\n    try {\r\n      let list = JSON.parse(str);\r\n      if (list instanceof Array) {\r\n        return list;\r\n      } else {\r\n        console.error(\"不能将\" + str + \"转换成数组\");\r\n        return [];\r\n      }\r\n    } catch (e) {\r\n      console.error(\"不能将\" + str + \"转换成JSON\");\r\n      return [];\r\n    }\r\n  }\r\n\r\n\r\n  //将一个字符串转成js对象\r\n  static toObj(str: any) {\r\n\r\n    if (!str) {\r\n      return {}\r\n    }\r\n\r\n    try {\r\n      return JSON.parse(str)\r\n    } catch (e) {\r\n      console.error(\"不能将json字符串\" + str + \"转换成对象\");\r\n      return {};\r\n    }\r\n  }\r\n\r\n  //将一个对象转成json字符串\r\n  static toJson(obj: any): string {\r\n\r\n    if (!obj) {\r\n      obj = {}\r\n    }\r\n\r\n    return JSON.stringify(obj)\r\n  }\r\n\r\n  //将JSON进行格式化。\r\n  static prettyJson(json: any) {\r\n\r\n    if (typeof json === 'string') {\r\n      json = JSON.parse(json);\r\n    }\r\n\r\n    return JSON.stringify(json, null, 2)\r\n  };\r\n\r\n}\r\n","import DateUtil from \"./DateUtil\";\r\nimport JsonUtil from \"./JsonUtil\";\r\n\r\nexport default class ObjectUtil {\r\n  //将 extraObj 中的属性全部赋值给standardObj\r\n  static extend(standardObj: any, extraObj: any) {\r\n    for (let key in extraObj) {\r\n      if (extraObj.hasOwnProperty(key)) {\r\n        if (standardObj.hasOwnProperty(key)) {\r\n          standardObj[key] = extraObj[key];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // 深拷贝，保留standardObj第一层全部属性\r\n  static deepExtend(standardObj: any, extraObj: any, checkKey: boolean = true) {\r\n    for (let key in extraObj) {\r\n      if (checkKey) {\r\n        if (standardObj.hasOwnProperty(key)) {\r\n          standardObj[key] =\r\n            extraObj[key] instanceof Object\r\n              ? ObjectUtil.deepExtend({}, extraObj[key], false)\r\n              : extraObj[key];\r\n        }\r\n      } else {\r\n        standardObj[key] =\r\n            extraObj[key] instanceof Object\r\n              ? ObjectUtil.deepExtend({}, extraObj[key], false)\r\n              : extraObj[key];\r\n      }\r\n    }\r\n    return standardObj;\r\n  }\r\n\r\n  //将standardObj的field属性规整成时间格式。\r\n  static assignDate(standardObj: any, field: any) {\r\n    if (standardObj.hasOwnProperty(field)) {\r\n      standardObj[field] = DateUtil.str2Date(standardObj[field]);\r\n    }\r\n  }\r\n\r\n  //吧standardObj的field属性归整成Clazz类型\r\n  static assignList(standardObj: any, field: any, Clazz: any) {\r\n    if (standardObj.hasOwnProperty(field)) {\r\n      //如果我们要转换成字符串的数组形式，那么this[field]应该是一个字符串才对。\r\n      if (Clazz === String) {\r\n        standardObj[field] = JsonUtil.parseList(standardObj[field]);\r\n\r\n        return;\r\n      }\r\n\r\n      //下面就是转换实体数组了。\r\n      let beans = standardObj[field];\r\n      if (!beans) {\r\n        //服务器返回这个字段为空 维持构造函数中的默认值（一般而言是一个[]）\r\n        standardObj[field] = new standardObj.constructor()[field];\r\n        return;\r\n      }\r\n\r\n      standardObj[field] = [];\r\n\r\n      if (!Clazz) {\r\n        return;\r\n      }\r\n\r\n      for (let i = 0; i < beans.length; i++) {\r\n        let bean = beans[i];\r\n        let clazz = new Clazz();\r\n\r\n        if (clazz.assign) {\r\n          clazz.assign(bean);\r\n        } else {\r\n          console.error(clazz);\r\n          console.error(\"没有定义assign方法\");\r\n        }\r\n\r\n        standardObj[field].push(clazz);\r\n      }\r\n    }\r\n  }\r\n\r\n  //check whether an obj is empty\r\n  static isEmptyObject(obj: object) {\r\n    if (typeof obj !== \"object\") {\r\n      console.error(\"判定的不是obj对象\");\r\n      return true;\r\n    }\r\n\r\n    for (let key in obj) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * 将键值对转换成  age=18&name=xxx 的形式\r\n   */\r\n  static param(map: any) {\r\n    let arr: string[] = [];\r\n    for (let key in map) {\r\n      if (map.hasOwnProperty(key)) {\r\n        let value = map[key];\r\n        arr[arr.length] =\r\n          encodeURIComponent(key) +\r\n          \"=\" +\r\n          encodeURIComponent(value == null ? \"\" : value);\r\n      }\r\n    }\r\n\r\n    return arr.join(\"&\");\r\n  }\r\n}\r\n","import ObjectUtil from \"../../util/ObjectUtil\";\r\nimport JsonUtil from \"../../util/JsonUtil\";\r\nimport DateUtil from \"../../util/DateUtil\";\r\n\r\n/**\r\n *\r\n * 基类。使我们前端的所有自定义类的基类。\r\n * 在这个类中可以统计建立的实体个数。\r\n */\r\nexport default class Base {\r\n\r\n  //id自增长值\r\n  private static AUTO_INCREMENT_ID = 0\r\n\r\n  //当前对象的ID，这个字段让我们可以很轻松的统计出共创建了多少个实体类。\r\n  autoId: number = 0\r\n\r\n\r\n  //我们认为每个实体都会存放于某个react组件中，当然可以不传入。\r\n  constructor() {\r\n\r\n    this.autoId = Base.generateAutoId()\r\n  }\r\n\r\n  static generateAutoId() {\r\n    Base.AUTO_INCREMENT_ID++\r\n    return Base.AUTO_INCREMENT_ID\r\n  }\r\n\r\n\r\n  //把obj中的属性，赋值到this中来。采用深拷贝。\r\n  assign(obj: any) {\r\n    ObjectUtil.extend(this, obj)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param field 字段名\r\n   * @param Clazz 类型名\r\n   */\r\n  assignList<F extends keyof this>(field: string, Clazz: any) {\r\n\r\n    ObjectUtil.assignList(this, field, Clazz)\r\n  }\r\n\r\n\r\n  /**\r\n   * 根据一个类型，渲染出对应的数组。\r\n   * @param json 字符串或者数组对象。\r\n   * @param Clazz 需要渲染的目标对象\r\n   * @returns {*}\r\n   */\r\n  static renderList(json: any, Clazz: any) {\r\n\r\n    let target: any = []\r\n\r\n\r\n    let arr: any = []\r\n\r\n    if (json instanceof String || typeof json === \"string\") {\r\n\r\n      arr = JsonUtil.parseList(json)\r\n\r\n    } else if (json instanceof Array) {\r\n      arr = json\r\n    } else {\r\n\r\n      console.error(\"源必须为字符或者数组\", json, typeof json)\r\n      return target\r\n    }\r\n\r\n    //如果我们要转换成字符串的数组形式，那么this[field]应该是一个字符串才对。\r\n    if (Clazz === String) {\r\n      return arr\r\n    }\r\n\r\n    if (!Clazz || !(Clazz.prototype instanceof Base)) {\r\n      console.error(\"指定的类型必须是 Base的子类 \")\r\n      return target\r\n    }\r\n\r\n    for (let i = 0; i < arr.length; i++) {\r\n      let bean = arr[i]\r\n\r\n      let clazz = new Clazz()\r\n\r\n      clazz.assign(bean)\r\n\r\n      target.push(clazz)\r\n    }\r\n\r\n    return target\r\n  }\r\n\r\n  //直接render出一个Entity. field字段名，Clazz类名。\r\n  assignEntity(field: any, Clazz: any) {\r\n\r\n    let thisObj: any = this\r\n\r\n    let obj: any = thisObj[field]\r\n    if (!obj) {\r\n      if (Clazz) {\r\n        let EntityClazz: any = this.constructor\r\n        obj = (new EntityClazz())[field]\r\n\r\n      } else {\r\n        return\r\n      }\r\n    }\r\n\r\n    if (Clazz === Date) {\r\n\r\n      thisObj[field] = DateUtil.str2Date(obj)\r\n\r\n    } else if (Clazz.prototype instanceof Base) {\r\n\r\n      //可能此处的该项属性做了特殊处理的。\r\n      //1024*1024 以及 \"图片尺寸不超过1M\"用let bean = new Clazz(); 就无法反映出来。因为父类assign的时候已经将avatar给变成了Object.\r\n      let bean = (new thisObj.constructor())[field]\r\n      if (!bean) {\r\n        bean = new Clazz()\r\n      }\r\n\r\n\r\n      if (typeof obj === \"string\") {\r\n        try {\r\n          obj = JSON.parse(obj)\r\n        } catch (e) {\r\n          console.error(\"JSON parse obj error\", e)\r\n        }\r\n      }\r\n\r\n      if (obj !== null) {\r\n        bean.assign(obj)\r\n        thisObj[field] = bean\r\n      }\r\n\r\n    } else {\r\n      console.error('调用错误！')\r\n    }\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import SelectionOption from \"../base/option/SelectionOption\";\r\n\r\n\r\nenum WebResultCode {\r\n  OK = \"OK\",\r\n  BAD_REQUEST = \"BAD_REQUEST\",\r\n  NEED_SHARE_CODE = \"NEED_SHARE_CODE\",\r\n  SHARE_CODE_ERROR = \"SHARE_CODE_ERROR\",\r\n  LOGIN = \"LOGIN\",\r\n  NOT_INSTALLED = \"NOT_INSTALLED\",\r\n  SERVER = \"SERVER\",\r\n  UNKNOWN = \"UNKNOWN\",\r\n}\r\n\r\nlet WebResultCodes: WebResultCode[] = Object.keys(WebResultCode).map(k => k as WebResultCode)\r\n\r\nlet WebResultCodeMap: { [key in keyof typeof WebResultCode]: SelectionOption } = {\r\n  OK: {\r\n    \"name\": \"成功\",\r\n    \"value\": \"OK\",\r\n  },\r\n  BAD_REQUEST: {\r\n    \"name\": \"请求错误\",\r\n    \"value\": \"BAD_REQUEST\",\r\n  },\r\n  NEED_SHARE_CODE: {\r\n    name: \"提取码必填\",\r\n    value: \"NEED_SHARE_CODE\"\r\n  },\r\n  SHARE_CODE_ERROR: {\r\n    name: \"提取码错误\",\r\n    value: \"SHARE_CODE_ERROR\"\r\n  },\r\n  LOGIN: {\r\n    \"name\": \"未登录\",\r\n    \"value\": \"LOGIN\",\r\n  },\r\n  NOT_INSTALLED: {\r\n    \"name\": \"未安装\",\r\n    \"value\": \"NOT_INSTALLED\",\r\n  },\r\n  SERVER: {\r\n    \"name\": \"服务器出错\",\r\n    \"value\": \"SERVER\",\r\n  },\r\n  UNKNOWN: {\r\n    \"name\": \"未知错误\",\r\n    \"value\": \"UNKNOWN\",\r\n  },\r\n}\r\n\r\nlet WebResultCodeList: SelectionOption[] = []\r\nWebResultCodes.forEach((type: WebResultCode, index: number) => {\r\n  WebResultCodeList.push(WebResultCodeMap[type])\r\n})\r\n\r\n\r\nexport {WebResultCode, WebResultCodes, WebResultCodeMap, WebResultCodeList}\r\n\r\n\r\n\r\n\r\n","/**\r\n *\r\n * 基类。\r\n *\r\n * 这个类附带了一个视图，通过对这个类的操作可以对对应的视图进行更新等操作。\r\n * Castle中的类，大多数直接继承这个类。\r\n */\r\nimport Base from \"./Base\";\r\nimport React from \"react\";\r\n\r\nexport default class ViewBase extends Base {\r\n\r\n  //该类对应的React视图。\r\n  reactComponent: React.Component | null = null\r\n\r\n  //更新某一个组件对应的UI\r\n  static updateComponentUI(component: React.Component | null, entity?: any) {\r\n    if (component) {\r\n      //_version在这里是充当fake的。\r\n      component.setState({_version: new Date().getTime()})\r\n    } else {\r\n      console.warn(`${entity && entity.constructor ? entity.constructor.name : '未知对象'} 的 reactComponent 不存在，无法更新其对应的UI`)\r\n    }\r\n  }\r\n\r\n  //更新当前的视图\r\n  updateUI() {\r\n\r\n    ViewBase.updateComponentUI(this.reactComponent, this)\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","/**\r\n * 全局性的对象，主要和整个框架相关的\r\n * 这个类不包含Base的子类，比如User, Preference.\r\n * 和Moon形成姊妹篇\r\n */\r\nimport BrowserUtil from \"../../util/BrowserUtil\";\r\nimport Cookies from \"js-cookie\"\r\n\r\nexport default class Sun {\r\n\r\n  //全局的一个store对象\r\n  static singleton: Sun | null = null;\r\n\r\n  //持有整个网站最外层的frame，方便我们刷新整个页面。\r\n  frameComponent: any = null;\r\n\r\n  //持有全局的react-router对象，方便我们在非jsx环境中控制路由跳转\r\n  reactRouter: any = null;\r\n\r\n  //全局布局样式，是否展示出左边的菜单.\r\n  showDrawer: boolean = true;\r\n\r\n  //全局mobile标识\r\n  isMobile: boolean = /Mobile|iP(hone|od|ad)|iOS|Android|BlackBerry/i.test(window.navigator.userAgent);\r\n\r\n\r\n\r\n  //由于这个类采用单例模式，因此所有属性都是独一份的。\r\n  constructor() {\r\n\r\n  }\r\n\r\n  //使用懒加载模式。\r\n  static getSingleton(): Sun {\r\n    if (Sun.singleton == null) {\r\n      Sun.singleton = new Sun();\r\n\r\n    }\r\n    return Sun.singleton\r\n  }\r\n\r\n\r\n  //*******************和路由相关的方法 开始 *******************//\r\n\r\n  /**\r\n   * 跳转到某个页面去\r\n   */\r\n  static navigateTo(path: any) {\r\n    if (Sun.getSingleton().reactRouter) {\r\n      Sun.getSingleton().reactRouter.push(path)\r\n    } else {\r\n      console.error(\"全局的 reactRouter 未定义，请检查代码！\")\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 跳转到某个页面去，带query\r\n   * route: {path: '', query: {}}\r\n   */\r\n  static navigateQueryTo(route: any) {\r\n    let path = route.path;\r\n    if (Object.keys(route.query).length) {\r\n      const params = new URLSearchParams(route.query).toString();\r\n      path += `?${params}`;\r\n    }\r\n    Sun.navigateTo(path);\r\n  }\r\n\r\n  /**\r\n   * 回到上一页\r\n   */\r\n  static navigateBack() {\r\n    if (Sun.getSingleton().reactRouter) {\r\n      Sun.getSingleton().reactRouter.go(-1)\r\n    } else {\r\n      console.error(\"全局的 reactRouter 未定义，请检查代码！\")\r\n    }\r\n  }\r\n\r\n  //******************* 和路由相关的方法 结束 *******************//\r\n\r\n  //*******************和全局视图相关的方法 开始 *******************//\r\n  /**\r\n   * 刷新主框架内容\r\n   */\r\n  static updateFrame() {\r\n    if (Sun.getSingleton().frameComponent) {\r\n      Sun.getSingleton().frameComponent.updateUI()\r\n    } else {\r\n      console.error(\"全局的 frameComponent 未定义，请检查代码！\")\r\n    }\r\n  }\r\n\r\n  //******************* 和全局视图相关的方法 结束 *******************//\r\n}\r\n","import {message} from 'antd';\r\n\r\n/**\r\n * 消息弹出框，统一进行收口\r\n */\r\nexport default class MessageBoxUtil {\r\n\r\n  static success(content: string) {\r\n    message.success(content)\r\n  }\r\n\r\n  static info(content: string) {\r\n    message.info(content)\r\n  }\r\n\r\n  static error(content: string) {\r\n    message.error(content)\r\n  }\r\n\r\n  static warn(content: string) {\r\n    message.warn(content)\r\n  }\r\n\r\n  static warning(content: string) {\r\n    message.warning(content)\r\n  }\r\n\r\n}\r\n","import HttpUtil from \"../../util/HttpUtil\";\r\nimport SafeUtil from \"../../util/SafeUtil\";\r\nimport qs from \"qs\"\r\nimport React from \"react\";\r\nimport ViewBase from \"./ViewBase\";\r\nimport Sun from \"../global/Sun\";\r\nimport {WebResultCode} from \"./WebResultCode\";\r\nimport MessageBoxUtil from \"../../util/MessageBoxUtil\";\r\n\r\n/**\r\n * 基类。带有网络请求能力的基类\r\n * 继承了该类就表示具有了去服务器请求的能力。\r\n */\r\nexport default class HttpBase extends ViewBase {\r\n\r\n  static lastLoginErrorTimestamp = 0\r\n\r\n  //是否需要自动刷新State\r\n  needReactComponentUpdate: boolean = true\r\n\r\n  //当前是否正在进行http请求\r\n  loading: boolean = false\r\n\r\n  //请求http的时候是否有错误\r\n  errorMessage: string | null = null\r\n\r\n  //我们认为每个实体都会存放于某个react组件中，当然可以不传入。\r\n  constructor(reactComponent?: React.Component | null) {\r\n\r\n    super()\r\n\r\n    if (reactComponent) {\r\n      this.reactComponent = reactComponent\r\n    }\r\n\r\n  }\r\n\r\n\r\n  //更新当前的视图，只在需要更新的情况下才更新。\r\n  updateUI() {\r\n    if (this.needReactComponentUpdate && this.reactComponent) {\r\n      ViewBase.updateComponentUI(this.reactComponent, this)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 转跳到登录页面\r\n   */\r\n  jumpLogin() {\r\n\r\n    Sun.navigateTo(\"/user/login\")\r\n\r\n\r\n  }\r\n\r\n  /**\r\n   * 转跳到网站安装页面\r\n   */\r\n  jumpInstall() {\r\n\r\n    Sun.navigateTo(\"/install/index\")\r\n\r\n  }\r\n\r\n  //从一个返回中获取出其错误信息。适配各种错误的类型。\r\n  getErrorMessage(response: any) {\r\n\r\n    console.error(\"getErrorMessage\", response)\r\n    let msg = '服务器出错，请稍后再试!'\r\n\r\n    if (!response) {\r\n      msg = '出错啦，请稍后重试！'\r\n    } else if (typeof response === 'string') {\r\n      msg = response\r\n    } else if (response['msg']) {\r\n      msg = response['msg']\r\n    } else if (response['message']) {\r\n      msg = response['message']\r\n    } else {\r\n      let temp = response['data']\r\n      if (temp !== null && typeof temp === 'object') {\r\n        if (temp['message']) {\r\n          msg = temp['message']\r\n        } else if (temp['msg']) {\r\n          msg = temp['msg']\r\n        } else {\r\n          if (temp['error'] && temp['error']['message']) {\r\n            msg = temp['error']['message']\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.errorMessage = msg\r\n    return msg\r\n  }\r\n\r\n\r\n  //提供全局的默认处理方式，可以自定义错误处理\r\n  defaultErrorHandler(response: any, errorCallback?: any) {\r\n\r\n    let msg = this.getErrorMessage(response)\r\n\r\n    console.error(\"请求出错了\", typeof msg, msg)\r\n\r\n    if (typeof errorCallback === 'function') {\r\n      errorCallback(msg, response)\r\n    } else {\r\n      MessageBoxUtil.error(msg)\r\n    }\r\n\r\n  }\r\n\r\n\r\n  //专门捕捉没有登录这种错误。return true -> 有错误（已经处理掉了）  false -> 没错误 （什么都没干）\r\n  specialErrorHandler(response: any) {\r\n\r\n    if (!response || !response.data) {\r\n      return false\r\n    }\r\n\r\n    //1.判断是不是登录错误\r\n    if (response.data[\"code\"] === WebResultCode.LOGIN) {\r\n\r\n      //这个问题不能报的太频繁，比如一个页面请求了两个接口，两个接口都报没有登录。\r\n      if ((new Date().getTime()) - HttpBase.lastLoginErrorTimestamp < 3000) {\r\n        return true\r\n      } else {\r\n        HttpBase.lastLoginErrorTimestamp = (new Date().getTime());\r\n      }\r\n\r\n      MessageBoxUtil.error(\"您尚未登录，请登录后访问！\")\r\n\r\n      //立即进行登录跳转。\r\n      this.jumpLogin()\r\n\r\n      return true;\r\n    }\r\n\r\n\r\n    return false\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * 基类中的http请求会去统一处理错误情况。\r\n   * 1.登录过期\r\n   *\r\n   */\r\n  httpGet(url: any, params = {}, successCallback?: any, errorCallback?: any, finallyCallback?: any, opts?: any) {\r\n\r\n    let that = this\r\n\r\n    if (!opts) {\r\n      opts = {}\r\n    }\r\n\r\n\r\n    that.loading = true\r\n\r\n    //更新react控件的状态\r\n    that.updateUI()\r\n\r\n    return HttpUtil.httpGet(url, params, function (response: any) {\r\n      //有可能正常接口回来的数据也是错误的。交给错误处理器处理。\r\n      if (that.specialErrorHandler(response)) {\r\n\r\n        SafeUtil.safeCallback(errorCallback)(response)\r\n        return\r\n      }\r\n\r\n\r\n      SafeUtil.safeCallback(successCallback)(response)\r\n\r\n    }, function (err: any) {\r\n\r\n      let response = err.response\r\n      console.error(\"请求出错啦\", response)\r\n\r\n      //特殊错误情况的通用处理方式\r\n      if (that.specialErrorHandler(response)) {\r\n        return\r\n      }\r\n\r\n\r\n      that.defaultErrorHandler(response, errorCallback)\r\n\r\n    }, function (res: any) {\r\n\r\n      that.loading = false\r\n\r\n      //更新react控件的状态\r\n      that.updateUI()\r\n\r\n      SafeUtil.safeCallback(finallyCallback)(res)\r\n\r\n    }, opts);\r\n  }\r\n\r\n\r\n  /**\r\n   * 基类中的http请求会去统一处理错误情况。\r\n   * 1.登录过期\r\n   *\r\n   */\r\n  httpPost(url: any, params = {}, successCallback?: any, errorCallback?: any, finallyCallback?: any, opts?: any) {\r\n\r\n    let that = this\r\n\r\n    if (!opts) {\r\n      opts = {}\r\n    }\r\n\r\n    that.loading = true\r\n\r\n    //更新react控件的状态\r\n    that.updateUI()\r\n\r\n\r\n    let formData = qs.stringify(params);\r\n\r\n    if (!opts[\"headers\"]) {\r\n      opts[\"headers\"] = {}\r\n    }\r\n    opts[\"headers\"]['Content-Type'] = 'application/x-www-form-urlencoded'\r\n\r\n\r\n    return HttpUtil.httpPost(url, formData, function (response: any) {\r\n\r\n      //有可能正常接口回来的数据也是错误的。交给错误处理器处理。\r\n      if (that.specialErrorHandler(response)) {\r\n\r\n        SafeUtil.safeCallback(errorCallback)(response)\r\n        return\r\n      }\r\n\r\n      SafeUtil.safeCallback(successCallback)(response)\r\n\r\n    }, function (err: any) {\r\n\r\n      let response = err.response\r\n\r\n      console.error(\"请求出错啦\", response ? response : err)\r\n\r\n      //特殊错误情况的通用处理方式\r\n      if (that.specialErrorHandler(response)) {\r\n        return\r\n      }\r\n\r\n      that.defaultErrorHandler(response, errorCallback)\r\n\r\n    }, function (res: any) {\r\n\r\n      that.loading = false\r\n\r\n      //更新react控件的状态\r\n      that.updateUI()\r\n\r\n      SafeUtil.safeCallback(finallyCallback)(res)\r\n\r\n    }, opts);\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","enum Color {\r\n  PRIMARY = \"#358BFF\",\r\n  INFO = \"#2DB7F5\",\r\n  SUCCESS = \"#67C23A\",\r\n  WARNING = \"#E6A23C\",\r\n  DANGER = \"#FF756F\",\r\n}\r\n\r\nexport default Color\r\n","import StringUtil from '../../util/StringUtil';\r\nimport SafeUtil from '../../util/SafeUtil';\r\nimport SortFilter from './filter/SortFilter';\r\nimport Filter from './filter/Filter';\r\nimport HttpBase from './HttpBase';\r\n\r\n\r\n/**\r\n * 实体基类\r\n * 继承这个类的表示在数据库中有对应的表。\r\n */\r\nexport default class BaseEntity extends HttpBase {\r\n\r\n  /**\r\n   * 唯一标识\r\n   */\r\n  uuid: string | null = null;\r\n\r\n  /**\r\n   * 排序值\r\n   */\r\n  sort: number = 0;\r\n\r\n  /**\r\n   * 创建时间\r\n   */\r\n  createTime: Date | null = null;\r\n\r\n  /**\r\n   * 修改时间\r\n   */\r\n  updateTime: Date | null = null;\r\n\r\n\r\n  //************ 前端辅助字段 ****************/\r\n  //加载详情的指示\r\n  detailLoading: boolean = false;\r\n\r\n\r\n  //我们认为每个实体都会存放于某个react组件中，当然可以不传入。\r\n  constructor(reactComponent?: React.Component | null) {\r\n\r\n    super(reactComponent);\r\n\r\n  }\r\n\r\n  //把obj中的属性，赋值到this中来。采用深拷贝。\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n    this.assignEntity('createTime', Date);\r\n    this.assignEntity('updateTime', Date);\r\n\r\n  }\r\n\r\n  //获取过滤器，必须每次动态生成，否则会造成filter逻辑混乱。\r\n  getFilters(): Filter[] {\r\n    return [\r\n      new SortFilter('修改时间排序', 'orderCreateTime'),\r\n      new SortFilter('创建时间排序', 'orderUpdateTime'),\r\n    ];\r\n  };\r\n\r\n\r\n  //提交之前对自己进行验证。返回错误信息，null表示没有错误。\r\n  validate(): any {\r\n\r\n    return null;\r\n  }\r\n\r\n  //提交的表单\r\n  getForm(): any {\r\n    console.error('getForm: you should override this base method.');\r\n  }\r\n\r\n  //获取到当前类的单数标签。比如 Project便得到 project\r\n  getTAG(): string {\r\n\r\n    let className = this.constructor.name;\r\n\r\n    //IE无法直接通过this.constructor.name获取到相应名称\r\n    if (!className) {\r\n      className = StringUtil.functionName(this.constructor);\r\n    }\r\n\r\n    return StringUtil.lowerCamel(className);\r\n  }\r\n\r\n\r\n  //获取到当前实体的url前缀。比如Notification获取到 /api/fs/notification\r\n  getUrlPrefix(): string {\r\n    return '/api' + StringUtil.lowerSlash(this.getTAG());\r\n  }\r\n\r\n\r\n  getUrlCreate(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/create';\r\n  }\r\n\r\n  getUrlDel(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/delete';\r\n\r\n  }\r\n\r\n  getUrlEdit(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/edit';\r\n  }\r\n\r\n  getUrlDetail(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/detail';\r\n  }\r\n\r\n  getUrlList(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/page';\r\n  }\r\n\r\n  getUrlSort(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/sort';\r\n  }\r\n\r\n\r\n  //新增或者修改\r\n  httpSave(successCallback?: any, errorCallback?: any, finallyCallback?: any) {\r\n\r\n    let that = this;\r\n\r\n    let url = this.getUrlCreate();\r\n    if (this.uuid) {\r\n      url = this.getUrlEdit();\r\n    }\r\n\r\n\r\n    this.errorMessage = this.validate();\r\n    if (this.errorMessage) {\r\n      that.defaultErrorHandler(this.errorMessage, errorCallback);\r\n      return;\r\n    }\r\n\r\n    this.httpPost(url, this.getForm(), function(response: any) {\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finallyCallback);\r\n\r\n  }\r\n\r\n\r\n  //common http detail methods.\r\n  httpDetail(successCallback?: any, errorCallback?: any, finallyCallback?: any) {\r\n\r\n    let that = this;\r\n    if (!this.uuid) {\r\n\r\n      this.errorMessage = 'uuid未指定，无法获取到详情！';\r\n\r\n      this.defaultErrorHandler(this.errorMessage, errorCallback);\r\n\r\n      return;\r\n    }\r\n\r\n    let url = this.getUrlDetail() + '?uuid=' + this.uuid;\r\n\r\n    this.detailLoading = true;\r\n\r\n    this.httpGet(url, {}, function(response: any) {\r\n      that.detailLoading = false;\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, function(response: any) {\r\n\r\n      that.detailLoading = false;\r\n\r\n      if (typeof errorCallback === 'function') {\r\n        errorCallback(that.getErrorMessage(response), response);\r\n      } else {\r\n        //没有传入错误处理的方法就采用默认处理方法：toast弹出该错误信息。\r\n        that.defaultErrorHandler(response);\r\n      }\r\n    }, finallyCallback);\r\n\r\n  }\r\n\r\n\r\n  httpDel(successCallback?: any, errorCallback?: any, finallyCallback?: any) {\r\n\r\n    let that = this;\r\n    if (!this.uuid) {\r\n\r\n      this.errorMessage = '没有id，无法删除！';\r\n      that.defaultErrorHandler(this.errorMessage, errorCallback);\r\n\r\n      return;\r\n    }\r\n\r\n    let url = this.getUrlDel() + '?uuid=' + this.uuid;\r\n\r\n    this.httpPost(url, {}, function(response: any) {\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finallyCallback);\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import ColorSelectionOption from \"../base/option/ColorSelectionOption\";\r\nimport Color from \"../base/option/Color\";\r\nimport Lang from \"../global/Lang\";\r\n\r\n\r\nenum UserRole {\r\n  GUEST = 'GUEST',\r\n  USER = 'USER',\r\n  ADMINISTRATOR = 'ADMINISTRATOR',\r\n}\r\n\r\nlet UserRoles: UserRole[] = Object.keys(UserRole).map(k => k as UserRole);\r\n\r\nlet UserRoleMap: { [key in keyof typeof UserRole]: ColorSelectionOption } = {\r\n  GUEST: {\r\n    'name': Lang.t(\"user.roleGuest\"),\r\n    'value': 'GUEST',\r\n    'color': Color.WARNING,\r\n  },\r\n  USER: {\r\n    'name': Lang.t(\"user.roleUser\"),\r\n    'value': 'USER',\r\n    'color': Color.PRIMARY,\r\n  },\r\n  ADMINISTRATOR: {\r\n    'name': Lang.t(\"user.roleAdministrator\"),\r\n    'value': 'ADMINISTRATOR',\r\n    'color': Color.DANGER,\r\n  },\r\n\r\n};\r\n\r\nlet UserRoleList: ColorSelectionOption[] = [];\r\nUserRoles.forEach((type: UserRole, index: number) => {\r\n  UserRoleList.push(UserRoleMap[type]);\r\n});\r\n\r\n\r\nexport {UserRole, UserRoles, UserRoleMap, UserRoleList};\r\n\r\n\r\n\r\n\r\n","export default class BrowserUtil {\r\n\r\n  //根据cookie键，读取cookie值\r\n  static readCookie(name: any) {\r\n    let nameEQ = name + \"=\";\r\n    let ca = document.cookie.split(';');\r\n    for (let i = 0; i < ca.length; i++) {\r\n      let c = ca[i];\r\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\r\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * 获取url地址栏的参数\r\n   * // query string: ?foo=lorem&bar=&baz\r\n   * var foo = getQueryByName('foo'); // \"lorem\"\r\n   * var bar = getQueryByName('bar'); // \"\" (present with empty value)\r\n   * var baz = getQueryByName('baz'); // \"\" (present with no value)\r\n   * var qux = getQueryByName('qux'); // null (absent)\r\n   * @param name\r\n   * @param url\r\n   * @returns {*}\r\n   */\r\n  static getQueryByName(name: string, url?: string): string | null {\r\n\r\n    if (!url) {\r\n      url = window.location.href\r\n    }\r\n\r\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n\r\n    let regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\")\r\n    let results = regex.exec(url);\r\n\r\n    if (!results) {\r\n      return null;\r\n    }\r\n\r\n    if (!results[2]) {\r\n      return \"\";\r\n    }\r\n\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n  }\r\n\r\n\r\n  /**\r\n   * 半颜的方法。注释待补充\r\n   * @param name\r\n   * @returns {*}\r\n   */\r\n  static getQueryString(name: any) {\r\n    let reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');\r\n    let r = window.location.search.substr(1).match(reg);\r\n    if (r != null) return unescape(r[2]);\r\n    return null;\r\n  }\r\n\r\n\r\n  static isLocalStorageNameSupported() {\r\n    let testKey = 'test';\r\n    let storage = window.localStorage;\r\n    try {\r\n      storage.setItem(testKey, '1');\r\n      storage.removeItem(testKey);\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  static readLocalStorage(key: any) {\r\n    if (BrowserUtil.isLocalStorageNameSupported()) {\r\n      return window.localStorage[key];\r\n    } else {\r\n      console.error(\"not support localStorage.\");\r\n      return null;\r\n    }\r\n  }\r\n\r\n  static saveToLocalStorage(key: any, content: any) {\r\n    if (BrowserUtil.isLocalStorageNameSupported()) {\r\n      window.localStorage[key] = content;\r\n    } else {\r\n      console.error(\"not support localStorage.\");\r\n    }\r\n  }\r\n\r\n\r\n  static removeLocalStorage(key: any) {\r\n    if (BrowserUtil.isLocalStorageNameSupported()) {\r\n      window.localStorage.removeItem(key);\r\n    } else {\r\n      console.error(\"not support localStorage.\");\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 获取完整的host\r\n   * eg:\r\n   * https://tank.eyeblue.cn\r\n   */\r\n  static fullHost() {\r\n    return window.location.protocol + \"//\" + window.location.host\r\n  }\r\n\r\n\r\n  //只支持zh和en\r\n  static browserLang() {\r\n    //常规浏览器语言和IE浏览器\r\n    let lang = navigator.language || (navigator as any).userLanguage;\r\n\r\n    //截取lang前2位字符\r\n    lang = lang.substr(0, 2);\r\n    if (lang === \"zh\") {\r\n      return \"zh\"\r\n    } else {\r\n      return \"en\"\r\n    }\r\n  }\r\n\r\n}\r\n","let LangEn = {\n  eyeblueTank: \"EyeblueTank\",\n  dashboard: {\n    totalInvokeNum: 'Total PV',\n    weekRate: 'Week',\n    dayRate: 'Day',\n    yesterdayInvoke: 'Yesterday PV',\n    totalUV: 'Total UV',\n    yesterdayUV: 'Yesterday UV',\n    totalMatterNum: 'Total file num',\n    yesterdayMatterNum: 'Yesterday File Num',\n    totalFileSize: 'Total File Size',\n    yesterdayMatterSize: 'Yesterday File Size',\n    recentDayInvokeUV: 'Recent {} days PV/UV',\n    downloadMatterTop10: 'File download TOP10',\n    activeIpTop10: 'Active IP TOP10',\n    loading: 'loading...',\n    date: 'Date',\n    num: 'Num',\n    warnHint: 'Hint: data in this page updates everyday at 0.a.m. ',\n    reRun: 'ReRun',\n  },\n  install: {\n    configMysql: \"Config MySQL\",\n    port: \"Port\",\n    schema: \"Schema\",\n    username: \"Username\",\n    password: \"Password\",\n    charset: \"Charset\",\n    mysqlConnectionPass: \"Connect MySQL Ok\",\n    testMysqlConnection: \"Tes MySQL Connection\",\n    notice: \"Notice\",\n    mysqlNotice1: \"If Mysql and EyeblueTank installed on the same server, Host is 127.0.0.1\",\n    mysqlNotice2: \"Your mysql account must have access to create table, or the second step will fail.\",\n    validateMysqlFirst: \"Please test the mysql connection firstly.\",\n    preStep: \"Pre Step\",\n    nextStep: \"Next Step\",\n    createTable: \"Craete Tables\",\n    installed: \"Installed\",\n    installedButMissing: \"Installed, but missing fields\",\n    toBeInstalled: \"To be installed\",\n    allFields: \"All fields\",\n    missingFields: \"Missing fields\",\n    tableNotice: \"'Create Tables' will trigger the following actions:\",\n    tableNotice1: \"If a table not exist, create it.\",\n    tableNotice2: \"If a table exist and no fields missing, nothing will do on this table.\",\n    tableNotice3: \"If a table exist but some fields is missing, it will add the missing fields.\",\n    tableNotice4: \"If a table exist and some fields not necessary, nothing will do on this table.\",\n    oneKeyCreate: \"Create Tables\",\n    createFinish: \"Finish Creating Tables\",\n    createTableSuccess: \"Create tables successfully\",\n    crateTableFirst: \"Please click 'Create Tables'\",\n    setAdministrator: \"Config Administrator\",\n    detectAdministrator: \"Detect the following administrators:\",\n    useOrCreateAdministrator: \"You can validate one of them, or you can create a new one.\",\n    validateAdministrator: \"Validate administrator\",\n    createAdministrator: \"Create administrator\",\n    administratorUsername: \"username\",\n    administratorPassword: \"password\",\n    administratorRePassword: \"Enter administrator password again\",\n    usernameRule: \"EyeblueTank will use username as directory name, so only lowercase letter and number and _ is permitted.\",\n    congratulationInstall: \"Congratulations, install successfully!\",\n    configAdminFirst: \"Please config administrator first.\",\n    createAdminSuccess: \"Create administrator successfully!\",\n    validateAdminSuccess: \"Validate administrator successfully!\",\n    pressToHome: \"Click the button below to enter home。\",\n    enterHome: \"Finish And Enter Home\",\n    finish: \"Finish\",\n  },\n  layout: {\n    allFiles: \"Files\",\n    myShare: \"My Share\",\n    setting: \"Setting\",\n    dashboard: \"Dashboard\",\n    users: \"Users\",\n    logout: \"Logout\",\n    about: \"About\",\n    install: \"Install\",\n    dragMouseUp: \"Put file here~\"\n  },\n  matter: {\n    file: \"File\",\n    directory: \"Directory\",\n    rename: \"Rename\",\n    download: \"Download\",\n    delete: \"Delete\",\n    more: \"More\",\n    share: \"Share\",\n    close: \"Close\",\n    size: \"Size\",\n    preview: \"Preview\",\n    move: \"Move\",\n    moveTo: \"MoveTo\",\n    upload: \"Upload\",\n    create: \"Create\",\n    createTime: \"Create Time\",\n    updateTime: \"Update Time\",\n    root: \"Root\",\n    fillInPicLink: \"Fill in Picture Link\",\n    rePick: \"Re Choose\",\n    chooseImage: \"Choose Image\",\n    uploadMode: \"Upload Mode\",\n    fillMode: \"Fill Mode\",\n    sizeExceedLimit: \"File size exceed limit {}>{}\",\n    setPublic: \"Set as public\",\n    setPrivate: \"Set as private\",\n    copyLink: \"Copy Link\",\n    enterName: \"Please enter name\",\n    publicFileEveryoneCanVisit: \"Public file, anyone can access\",\n    fileDetail: \"File info\",\n    expire: \"Expire\",\n    copyLinkAndCode: \"Copy link and code\",\n    uploaded: \"Uploaded\",\n    speed: \"Speed\",\n    fileInfo: \"File basic info\",\n    fileName: \"Filename\",\n    path: \"Path\",\n    copyPath: \"Copy path\",\n    publicOrPrivate: \"Public or private\",\n    privateInfo: \"Private file, only self or auth user can download\",\n    publicInfo: \"Public file, anyone can download\",\n    downloadTimes: \"Download times\",\n    operations: \"Operation\",\n    oneTimeLink: \"One time link\",\n    oneTimeLinkInfo: \"One time link will expire after downloading, click to copy\",\n    imageCache: \"Image cache\",\n    searchFile: \"Search file\",\n    noContentYet: \"No content under this directory yet\",\n    allFiles: \"All Files\",\n    newDirectory: \"New directory\",\n    notChoose: \"Not choose any file\",\n    exceed1000: \"Exceed file limit 1000\",\n    noImageCache: \"No image cache\"\n  },\n  router: {\n    allFiles: \"All Files\",\n    fileDetail: \"File Detail\",\n    login: \"Login\",\n    autoLogin: \"Auto Login\",\n    register: \"Register\",\n    users: \"Users\",\n    userDetail: \"User Detail\",\n    changePassword: \"Change password\",\n    editUser: \"Edit User\",\n    createUser: \"Create User\",\n    shareDetail: \"Share Detail\",\n    myShare: \"My Share\",\n    dashboard: \"Dashboard\",\n    install: \"Install\",\n    setting: \"Setting\"\n  },\n  preference: {\n    basic: \"Base Info\",\n    preview: \"Preview Conf\",\n    scan: \"Scan Disk\",\n    websiteName: \"Website Name\",\n    logo: \"Logo\",\n    logoSquare: \"Logo will be cropped to square size\",\n    onlyAllowIco: \"Only .ico allowed\",\n    copyright: \"Copyright (support html)\",\n    extraInfo: \"Extra info (support html)\",\n    zipMaxNumLimit: \"Zip download max num limit\",\n    zipMaxSizeLimit: \"Zip download max size limit(B)\",\n    current: \"Current\",\n    noLimit: \"No limit\",\n    userDefaultSizeLimit: \"User default size limit(B) \",\n    docLink: \"Document Link\",\n    tankDocLink: \"https://tank-doc.eyeblue.cn\",\n    allowRegister: \"Allow register\",\n    systemCleanup: \"System Cleanup\",\n    systemCleanupDescription: \"This operation will cleanup everything except administrators' data\",\n    systemCleanupPrompt: \"This operation will cleanup everything except administrators' account data, please input login password.\",\n    previewConfig: \"File Preview Config\",\n    editPreference: \"Edit Preference\",\n    editPreviewEngine: \"Edit Preview engine\",\n    enterWebsiteName: \"Please enter website name!\",\n    enterZipMaxNumLimit: \"Please enter zip max num!\",\n    enterZipMaxSizeLimit: \"Please enter zip max size!\",\n    enterUserDefaultSizeLimit: \"Please enter user's default size!\",\n    engine: \"The number {} engine\",\n    noEngine: \"No preview engine\",\n    newEngine: \"Add a preview engine\",\n    engineReg: \"Engine format\",\n    engineSuffix: \"Engine suffix\",\n    enginePreview: \"Engine preview\",\n    engineRegHelper: \"template syntax, {url} represents the file path, the preview will automatically replace with the corresponding file url\",\n    engineRegPlaceHolder: \"eg：https://xxx.xxx.xxx?url={url}\",\n    engineSuffixPlaceHolder: \"suffix can not be null, split by comma, look like: doc,ppt,xls\",\n    previewCurrent: \"preview in current page\",\n    previewOpen: \"preview in new page\"\n  },\n  share: {\n    shareDetail: \"Share Detail\",\n    shareTime: \"Share Time\",\n    expireTime: \"Expire Time\",\n    noExpire: \"Never Expire\",\n    expired: \"Expired\",\n    copyLinkAndCode: \"Copy Link And Code\",\n    shareSuccess: \"Share Successfully\",\n    sharer: \"Share Person\",\n    link: \"Link\",\n    copyLink: \"Copy Link\",\n    code: \"Code\",\n    copyCode: \"Copy Code\",\n    copySuccess: \"Copy Successfully\",\n    more: \"More\",\n    cancelShare: \"Cancel Share\",\n    getLink: \"Get Link\",\n    allFiles: \"All Files\",\n    noContent: \"No content in this directory\",\n    enterCode: \"Please enter code\",\n    getFiles: \"Get Files\",\n    codeError: \"Code Error\",\n    cancelPrompt: \"This operation will cancel sharing forever, continue?\",\n    hour: \"1 Hour\",\n    day: \"1 Day\",\n    week: \"1 Week\",\n    month: \"1 Month\",\n    year: \"1 Year\",\n    infinity: \"Forever\",\n  },\n  user: {\n    redirecting: \"Redirecting...\",\n    oldPassword: \"Old Password\",\n    newPassword: \"New Password\",\n    confirmNewPassword: \"Confirm New Password\",\n    cannotBeNull: \"Cannot be null！\",\n    passwordNotSame: \"passwords above not same！\",\n    role: \"Role\",\n    singleFileSizeLimit: \"Single File Limit\",\n    totalFileSizeLimit: \"Total Space Limit\",\n    current: \"Current\",\n    noLimit: \"No Limit\",\n    totalFileSize: \"Used Space\",\n    status: \"Status\",\n    lastLogin: \"Last Login\",\n    lastLoginIp: \"Last Login Ip\",\n    lastLoginTime: \"Last Login Time\",\n    resetPassword: \"Reset Password\",\n    transfiguration: \"Transfiguration\",\n    changePassword: \"Edit Password\",\n    enterPassword: \"Please Enter Password\",\n    enterUsername: \"Please Enter Username\",\n    enterNewPassword: \"Please Enter New Password\",\n    profile: \"Profile\",\n    avatar: \"Avatar\",\n    username: \"Username\",\n    password: \"Password\",\n    confirmPassword: \"Confirm Password\",\n    disabled: \"Disabled\",\n    disableUser: \"Disable this user\",\n    disable: \"Disable\",\n    active: \"Active\",\n    sync: \"Sync\",\n    activeUser: \"Active this user\",\n    deleteUser: \"Delete this user\",\n    deleteHint: \"This action will delete {}'s all records, including files,shares,user infos etc. Continue？\",\n    welcomeLogin: \"Welcome Login\",\n    logining: \"Login...\",\n    login: \"Login\",\n    loginSuccess: \"Login Success\",\n    toToRegister: \"Go To Register\",\n    welcomeRegister: \"Welcome Register\",\n    registering: \"Login...\",\n    register: \"Register\",\n    goToLogin: \"Go To Login\",\n    roleGuest: \"Guest\",\n    roleUser: \"User\",\n    roleAdministrator: \"Administrator\",\n    statusActive: \"Ok\",\n    statusDisabled: \"Disabled\",\n    webdavLink: \"WebDAV Link\",\n    docLink: \"Document Link\",\n    createUser: \"Create User\",\n    editUser: \"Edit User\",\n    editSomebodyPassword: \"Edit {}'s Password\",\n    transfigurationPromptText: \"Transfiguration Prompt\",\n    transfigurationPrompt: \"You will login as this user.Please visit this link in other browser, if in current browser, you will logout.\",\n\n  },\n  model: {\n    usernameRule: \"only lowercase letter and number and _ is permitted.\",\n    passwordRule: \"Password must have more than 6 chars\",\n    linkCodeText: \"Link:{} Code:{}\",\n    copyLinkCodeSuccess: \"Copy Link and Code successfully\",\n\n  },\n  plugin: {\n    cannotPreview: \"Cannot Preview\",\n    emptyHintDefault: \"No Items\",\n    everyPage: \"Every Page\",\n    items: \"Items\",\n    total: \"Total\",\n    clickRefresh: \"Click To Refresh\",\n  },\n  loading: \"Loading\",\n  selectAll: \"All\",\n  edit: \"Edit\",\n  createTime: \"Create Time\",\n  download: \"Download\",\n  close: \"Close\",\n  required: \"Required\",\n  cancel: \"Cancel\",\n  delete: \"Delete\",\n  actionCanNotRevertConfirm: \"This action cannot be reverted, confirm?\",\n  prompt: \"Prompt\",\n  confirm: \"Confirm\",\n  copy: \"Copy\",\n  copySuccess: \"Copy Success！\",\n  copyError: \"Copy Error！\",\n  showMore: \"Show More\",\n  username: \"Username\",\n  password: \"Password\",\n  submit: \"Submit\",\n  save: \"Save\",\n  create: \"Create\",\n  finish: \"Finish\",\n  operationSuccess: \"Operation success\",\n  operation: \"Operation\",\n  notFound: \"404 Not Found\",\n  login: \"Login\",\n  logout: \"Logout\",\n  yes: \"Yes\",\n  no: \"No\",\n  all: \"All\",\n  refresh: \"refresh\",\n  inputRequired: \"Input required\",\n}\n\nexport default LangEn\n","let LangZh = {\n  eyeblueTank: \"蓝眼云盘\",\n  dashboard: {\n    totalInvokeNum: '总PV',\n    weekRate: '周环比',\n    dayRate: '日环比',\n    yesterdayInvoke: '昨日PV',\n    totalUV: '总UV',\n    yesterdayUV: '昨日UV',\n    totalMatterNum: '总文件数',\n    yesterdayMatterNum: '昨日文件数',\n    totalFileSize: '文件总大小',\n    yesterdayMatterSize: '昨日文件大小',\n    recentDayInvokeUV: '最近{}日PV/UV',\n    downloadMatterTop10: '文件下载量TOP10',\n    activeIpTop10: '活跃IP TOP10',\n    loading: '加载中…',\n    date: '日期',\n    num: '数量',\n    warnHint: '温馨提示：本页面数据每日凌晨0点清洗一次。',\n    reRun: '立即重跑',\n  },\n  install: {\n    configMysql: \"配置MySQL\",\n    port: \"端口\",\n    schema: \"库名\",\n    username: \"用户名\",\n    password: \"密码\",\n    charset: \"编码\",\n    mysqlConnectionPass: \"MySQL连接测试通过\",\n    testMysqlConnection: \"测试MySQL连接\",\n    notice: \"注意\",\n    mysqlNotice1: \"如果数据库和蓝眼云盘安装在同一台服务器，Host可以直接填写 127.0.0.1。\",\n    mysqlNotice2: \"数据库账户的权限要求要能够创建表，否则第二步\\\"创建表\\\"操作会出错\",\n    validateMysqlFirst: \"请首先验证数据库连接\",\n    preStep: \"上一步\",\n    nextStep: \"下一步\",\n    createTable: \"创建表\",\n    installed: \"已安装\",\n    installedButMissing: \"已安装,字段缺失\",\n    toBeInstalled: \"待安装\",\n    allFields: \"所有字段\",\n    missingFields: \"缺失字段\",\n    tableNotice: \"点击\\\"一键建表\\\"后会按照以下逻辑执行操作：\",\n    tableNotice1: \"如果某表不存在，则直接创建表。\",\n    tableNotice2: \"如果某表存在并且字段齐全，那么不会对该表做任何操作。\",\n    tableNotice3: \"如果某表存在但是部分字段缺失，那么会在该表中增加缺失字段。\",\n    tableNotice4: \"如果表中有多余的字段(多余字段即不是蓝眼云盘需要的字段)，不会做删除处理，而会维持原样。\",\n    oneKeyCreate: \"一键建表\",\n    createFinish: \"建表完成\",\n    createTableSuccess: \"建表成功\",\n    crateTableFirst: \"请首先点击'一键建表'\",\n    setAdministrator: \"设置管理员\",\n    detectAdministrator: \"检测到系统中已经存在有以下管理员：\",\n    useOrCreateAdministrator: \"你可以使用其中一位管理员的用户名和密码进行验证，或者创建一位新的管理员账户\",\n    validateAdministrator: \"验证管理员账户\",\n    createAdministrator: \"创建管理员账户\",\n    administratorUsername: \"管理员用户名\",\n    administratorPassword: \"管理员密码\",\n    administratorRePassword: \"再次输入密码\",\n    usernameRule: \"由于用户名将作为文件上传的目录，因此只允许字母数字以及\\\"_\\\"。\",\n    congratulationInstall: \"恭喜，安装成功！\",\n    configAdminFirst: \"请首先配置管理员信息！\",\n    createAdminSuccess: \"创建管理员成功！\",\n    validateAdminSuccess: \"验证管理员成功！\",\n    pressToHome: \"点击下方按钮来完成安装过程并进入首页。\",\n    enterHome: \"完成，并进入首页\",\n\n    finish: \"完成\",\n  },\n  layout: {\n    allFiles: \"所有文件\",\n    myShare: \"我的分享\",\n    setting: \"网站设置\",\n    dashboard: \"监控统计\",\n    users: \"用户管理\",\n    logout: \"退出登录\",\n    about: \"关于\",\n    install: \"安装网站\",\n    dragMouseUp: \"可以松手啦~\"\n  },\n  matter: {\n    file: \"文件\",\n    directory: \"文件夹\",\n    rename: \"重命名\",\n    download: \"下载\",\n    delete: \"删除\",\n    more: \"更多\",\n    share: \"分享\",\n    close: \"关闭\",\n    size: \"大小\",\n    preview: \"预览\",\n    move: \"移动\",\n    moveTo: \"移动到\",\n    upload: \"上传\",\n    create: \"新建\",\n    createTime: \"创建日期\",\n    updateTime: \"修改日期\",\n    root: \"根目录\",\n    fillInPicLink: \"请填写图片链接\",\n    rePick: \"重新选择\",\n    chooseImage: \"选择图片\",\n    uploadMode: \"上传模式\",\n    fillMode: \"填写模式\",\n    sizeExceedLimit: \"文件大小超过了限制{}>{}\",\n    setPublic: \"设置为公有文件\",\n    setPrivate: \"设置为私有文件\",\n    copyLink: \"复制下载链接\",\n    enterName: \"请输入名称\",\n    publicFileEveryoneCanVisit: \"公有文件，任何人可以访问\",\n    fileDetail: \"文件详情\",\n    expire: \"有效期\",\n    copyLinkAndCode: \"复制链接+提取码\",\n    uploaded: \"已上传\",\n    speed: \"速度\",\n    fileInfo: \"文件基本信息\",\n    fileName: \"文件名\",\n    path: \"路径\",\n    copyPath: \"复制路径\",\n    publicOrPrivate: \"文件公开性\",\n    privateInfo: \"私有文件，只有自己或者授权的用户可以下载\",\n    publicInfo: \"公有文件，任何人可以通过链接下载\",\n    downloadTimes: \"下载次数\",\n    operations: \"操作\",\n    oneTimeLink: \"一次性链接\",\n    oneTimeLinkInfo: \"使用一次性链接下载后链接立即失效,可以分享这个链接给朋友，点击复制\",\n    imageCache: \"图片缓存\",\n    searchFile: \"搜索文件\",\n    noContentYet: \"该目录下暂无任何内容\",\n    allFiles: \"全部文件\",\n    newDirectory: \"新建文件夹\",\n    notChoose: \"没有选择文件\",\n    exceed1000: \"最多只能同时选取1000个文件\",\n    noImageCache: \"暂无图片缓存数据\"\n  },\n  router: {\n    allFiles: \"全部文件\",\n    fileDetail: \"文件详情\",\n    login: \"登录\",\n    autoLogin: \"自动登录\",\n    register: \"注册\",\n    users: \"用户列表\",\n    userDetail: \"用户详情\",\n    changePassword: \"修改密码\",\n    editUser: \"编辑用户\",\n    createUser: \"创建用户\",\n    shareDetail: \"分享详情\",\n    myShare: \"我的分享\",\n    dashboard: \"监控统计\",\n    install: \"安装网站\",\n    setting: \"网站设置\"\n  },\n  preference: {\n    basic: \"基本信息\",\n    preview: \"预览引擎\",\n    scan: \"扫描磁盘\",\n    websiteName: \"网站名称\",\n    logo: \"Logo\",\n    logoSquare: \"logo请使用正方形图片，否则在显示时会裁剪成正方形\",\n    onlyAllowIco: \"只允许上传.ico图标\",\n    copyright: \"版权信息(支持html)\",\n    extraInfo: \"备案信息(支持html)\",\n    zipMaxNumLimit: \"zip下载数量限制\",\n    zipMaxSizeLimit: \"zip下载大小限制(B)\",\n    current: \"当前值\",\n    noLimit: \"无限制\",\n    userDefaultSizeLimit: \"用户默认总大小限制(B) \",\n    docLink: \"文档链接\",\n    tankDocLink: \"https://tank-doc.eyeblue.cn/zh\",\n    allowRegister: \"允许自主注册\",\n    systemCleanup: \"重置系统\",\n    systemCleanupDescription: \"重置系统将清空除管理员账号外所有数据\",\n    systemCleanupPrompt: \"重置系统将清空除管理员账号外所有数据，事关重大，请输入登录密码\",\n    previewConfig: \"文件预览配置\",\n    editPreference: \"设置网站偏好\",\n    editPreviewEngine: \"设置预览引擎\",\n    enterWebsiteName: \"请输入网站名称!\",\n    enterZipMaxNumLimit: \"zip最大数量限制必填!\",\n    enterZipMaxSizeLimit: \"zip大小限制必填!\",\n    enterUserDefaultSizeLimit: \"默认用户空间大小必填!\",\n    engine: \"{}号预览引擎\",\n    noEngine: \"暂无在线预览引擎配置\",\n    newEngine: \"添加一个预览引擎\",\n    engineReg: \"引擎格式\",\n    engineSuffix: \"匹配后缀\",\n    enginePreview: \"预览方式\",\n    engineRegHelper: \"此处填写模板语法，{url}表示文件路径，预览时会自动替换成对应的文件url\",\n    engineRegPlaceHolder: \"例如：https://xxx.xxx.xxx?url={url}\",\n    engineSuffixPlaceHolder: '输入后缀，使用逗号分隔，不用带. 例如：doc,ppt,xls',\n    previewCurrent: \"本站预览\",\n    previewOpen: \"新标签打开\",\n  },\n  share: {\n    shareDetail: \"分享详情\",\n    shareTime: \"分享时间\",\n    expireTime: \"失效时间\",\n    noExpire: \"永久有效\",\n    expired: \"已过期\",\n    copyLinkAndCode: \"复制链接+提取码\",\n    shareSuccess: \"分享成功\",\n    sharer: \"分享者\",\n    link: \"链接\",\n    copyLink: \"复制链接\",\n    code: \"提取码\",\n    copyCode: \"复制提取码\",\n    copySuccess: \"复制成功\",\n    more: \"更多\",\n    cancelShare: \"取消分享\",\n    getLink: \"获取链接\",\n    allFiles: \"全部文件\",\n    noContent: \"该目录下暂无任何内容\",\n    enterCode: \"请输入提取码\",\n    getFiles: \"提取文件\",\n    codeError: \"提取码错误\",\n    cancelPrompt: \"此操作将永久取消该分享, 是否继续?\",\n    hour: \"1小时\",\n    day: \"1天\",\n    week: \"1周\",\n    month: \"1个月\",\n    year: \"1年\",\n    infinity: \"永远有效\",\n  },\n  user: {\n    redirecting: \"正在转跳...\",\n    oldPassword: \"旧密码\",\n    newPassword: \"新密码\",\n    confirmNewPassword: \"确认新密码\",\n    cannotBeNull: \"不能为空！\",\n    passwordNotSame: \"两次输入不一致！\",\n    role: \"角色\",\n    singleFileSizeLimit: \"单文件限制\",\n    totalFileSizeLimit: \"空间限制\",\n    current: \"当前值\",\n    noLimit: \"无限制\",\n    totalFileSize: \"已使用空间\",\n    status: \"状态\",\n    lastLogin: \"上次登录\",\n    lastLoginIp: \"上次登录IP\",\n    lastLoginTime: \"上次登录时间\",\n    resetPassword: \"重置密码\",\n    transfiguration: \"变身\",\n    changePassword: \"修改密码\",\n    enterPassword: \"输入密码\",\n    enterUsername: \"请输入用户名\",\n    enterNewPassword: \"请输入新密码\",\n    profile: \"个人详情\",\n    avatar: \"头像\",\n    username: \"用户名\",\n    password: \"密码\",\n    confirmPassword: \"确认密码\",\n    disabled: \"已禁用\",\n    disableUser: \"禁用该用户\",\n    activeUser: \"激活该用户\",\n    deleteUser: \"删除该用户\",\n    deleteHint: \"此操作将删除用户【{}】的所有记录，包括文件，分享，用户信息等内容，确定继续？\",\n    disable: \"禁用\",\n    sync: \"同步\",\n    active: \"激活\",\n    welcomeLogin: \"欢迎登录\",\n    logining: \"正在登录...\",\n    login: \"登录\",\n    loginSuccess: \"登录成功\",\n    toToRegister: \"立即注册\",\n    welcomeRegister: \"欢迎注册\",\n    registering: \"正在登录...\",\n    register: \"注册\",\n    goToLogin: \"前往登录\",\n    roleGuest: \"游客\",\n    roleUser: \"注册用户\",\n    roleAdministrator: \"管理员\",\n    statusActive: \"正常\",\n    statusDisabled: \"禁用\",\n    webdavLink: \"WebDAV 地址\",\n    docLink: \"文档链接\",\n    createUser: \"创建用户\",\n    editUser: \"编辑用户\",\n    editSomebodyPassword: \"修改{}的密码\",\n    transfigurationPromptText: \"变身提示\",\n    transfigurationPrompt: \"您将使用该用户的身份登录。请复制以下链接到其他浏览器访问，在当前浏览器访问会导致当前用户登录信息失效。\",\n\n  },\n  model: {\n    usernameRule: \"用户名只能包含字母，数字和\\\"_\\\"\",\n    passwordRule: \"密码长度至少为6位\",\n    linkCodeText: \"链接:{} 提取码:{}\",\n    copyLinkCodeSuccess: \"复制链接提取码成功\",\n\n  },\n  plugin: {\n    cannotPreview: \"无法预览\",\n    emptyHintDefault: \"没有符合条件的项目\",\n    everyPage: \"每页\",\n    items: \"条\",\n    total: \"共\",\n    clickRefresh: \"点击刷新\",\n  },\n  loading: \"加载中\",\n  selectAll: \"全选\",\n  edit: \"修改\",\n  createTime: \"创建时间\",\n  download: \"下载\",\n  close: \"关闭\",\n  required: \"必填\",\n  cancel: \"取消\",\n  delete: \"删除\",\n  actionCanNotRevertConfirm: \"此操作不可撤回, 是否继续?\",\n  prompt: \"提示\",\n  confirm: \"确定\",\n  copy: \"复制\",\n  copySuccess: \"复制成功！\",\n  copyError: \"复制失败！\",\n  showMore: \"显示更多\",\n  username: \"用户名\",\n  password: \"密码\",\n  submit: \"提交\",\n  save: \"保存\",\n  create: \"创建\",\n  finish: \"完成\",\n  operationSuccess: \"操作成功\",\n  operation: \"操作\",\n  notFound: \"404 页面找不到\",\n  login: \"登录\",\n  logout: \"退出\",\n  yes: \"是\",\n  no: \"否\",\n  all: \"所有\",\n  refresh: \"刷新\",\n  inputRequired: \"该项必填\",\n\n}\n\nexport default LangZh\n","/**\r\n * 全局性的国际化\r\n */\r\nimport BrowserUtil from \"../../util/BrowserUtil\";\r\nimport Cookies from \"js-cookie\";\r\nimport LangEn from \"./i18n/LangEn\";\r\nimport LangZh from \"./i18n/LangZh\";\r\n\r\n\r\nexport default class Lang {\r\n\r\n  //当前使用的语言，默认中文\r\n  lang: string = \"zh\"\r\n\r\n  //全局的一个store对象\r\n  private static singleton: Lang | null = null\r\n\r\n  //使用懒加载模式。\r\n  static getSingleton(): Lang {\r\n    if (Lang.singleton == null) {\r\n      Lang.singleton = new Lang();\r\n\r\n      //读取默认的语言\r\n      let lang = BrowserUtil.browserLang()\r\n      let localLang = Cookies.get(\"_lang\");\r\n      if (localLang === \"zh\" || localLang === \"en\") {\r\n        lang = localLang\r\n      }\r\n      Lang.singleton.lang = lang\r\n      console.log(\"当前浏览器默认语言是：\", lang)\r\n\r\n    }\r\n\r\n    return Lang.singleton\r\n  }\r\n\r\n  //快捷获取一种语言对应的文字。\r\n  static t(key: string, ...params: any[]): string {\r\n\r\n    let json: { [key: string]: any } = LangEn\r\n\r\n    let lang = Lang.getSingleton().lang\r\n    if (lang == \"zh\") {\r\n      json = LangZh\r\n    }\r\n\r\n    let keyParts: string[] = key.split(\".\")\r\n    let jsonBody: any = json\r\n    for (let i = 0; i < keyParts.length; i++) {\r\n      let part: string = keyParts[i]\r\n      jsonBody = jsonBody[part]\r\n      if (jsonBody === undefined || jsonBody === null) {\r\n        //找不到key对应的内容，直接返回key\r\n        return key\r\n      }\r\n    }\r\n\r\n    //到这里已经找到了\r\n    if (typeof jsonBody !== \"string\") {\r\n      return key\r\n    }\r\n\r\n    //依次将参数写入进去。\r\n    if (params && params.length > 0) {\r\n      for (let i = 0; i < params.length; i++) {\r\n        let param = params[i]\r\n        jsonBody = jsonBody.replace(\"{}\", param)\r\n      }\r\n    }\r\n\r\n    return jsonBody\r\n  }\r\n\r\n}\r\n","import ColorSelectionOption from '../base/option/ColorSelectionOption';\r\nimport Color from \"../base/option/Color\";\r\nimport Lang from \"../global/Lang\";\r\n\r\n\r\nenum UserStatus {\r\n  OK = 'OK',\r\n  DISABLED = 'DISABLED'\r\n}\r\n\r\nlet UserStatuss: UserStatus[] = Object.keys(UserStatus).map(k => k as UserStatus);\r\n\r\nlet UserStatusMap: { [key in keyof typeof UserStatus]: ColorSelectionOption } = {\r\n  OK: {\r\n    'name': Lang.t(\"user.statusActive\"),\r\n    'value': 'OK',\r\n    'color': Color.SUCCESS,\r\n  },\r\n  DISABLED: {\r\n    'name': Lang.t(\"user.statusDisabled\"),\r\n    'value': 'DISABLED',\r\n    'color': Color.DANGER,\r\n  },\r\n};\r\n\r\nlet UserStatusList: ColorSelectionOption[] = [];\r\nUserStatuss.forEach((type: UserStatus, index: number) => {\r\n  UserStatusList.push(UserStatusMap[type]);\r\n});\r\n\r\n\r\nexport {UserStatus, UserStatuss, UserStatusMap, UserStatusList};\r\n\r\n\r\n\r\n\r\n","export default class NumberUtil {\r\n  //求最大公约数\r\n  static gcd(a: number, b: number): number {\r\n    return b ? NumberUtil.gcd(b, a % b) : a;\r\n  }\r\n\r\n  //约分 numerator:分子 denominator:分母\r\n  static reduce(numerator: number, denominator: number) {\r\n    let maxFactor = NumberUtil.gcd(numerator, denominator);\r\n    return [numerator / maxFactor, denominator / maxFactor];\r\n  }\r\n\r\n  static isInteger(obj: any) {\r\n    return typeof obj === \"number\" && obj % 1 === 0;\r\n  }\r\n\r\n  //转换成整型\r\n  static parseInt(obj: any): number {\r\n    try {\r\n      return parseInt(obj);\r\n    } catch (e) {\r\n      console.error(\"无法转换成整数\", obj);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  //比较两个分数是否相等\r\n  static fractionEqual(\r\n    numerator1: number,\r\n    denominator1: number,\r\n    numerator2: number,\r\n    denominator2: number\r\n  ) {\r\n    let fraction1 = NumberUtil.reduce(numerator1, denominator1);\r\n    let fraction2 = NumberUtil.reduce(numerator2, denominator2);\r\n\r\n    return fraction1[0] === fraction2[0] && fraction1[1] === fraction2[1];\r\n  }\r\n}\r\n","export default class MimeUtil {\r\n  static MIMES: any = {\r\n    \".323\": \"text/h323\",\r\n    \".3g2\": \"video/3gpp2\",\r\n    \".3gp\": \"video/3gpp\",\r\n    \".3gp2\": \"video/3gpp2\",\r\n    \".3gpp\": \"video/3gpp\",\r\n    \".7z\": \"application/x-7z-compressed\",\r\n    \".aa\": \"audio/audible\",\r\n    \".AAC\": \"audio/aac\",\r\n    \".aaf\": \"application/octet-stream\",\r\n    \".aax\": \"audio/vnd.audible.aax\",\r\n    \".ac3\": \"audio/ac3\",\r\n    \".aca\": \"application/octet-stream\",\r\n    \".accda\": \"application/msaccess.addin\",\r\n    \".accdb\": \"application/msaccess\",\r\n    \".accdc\": \"application/msaccess.cab\",\r\n    \".accde\": \"application/msaccess\",\r\n    \".accdr\": \"application/msaccess.runtime\",\r\n    \".accdt\": \"application/msaccess\",\r\n    \".accdw\": \"application/msaccess.webapplication\",\r\n    \".accft\": \"application/msaccess.ftemplate\",\r\n    \".acx\": \"application/internet-property-stream\",\r\n    \".AddIn\": \"text/xml\",\r\n    \".ade\": \"application/msaccess\",\r\n    \".adobebridge\": \"application/x-bridge-url\",\r\n    \".adp\": \"application/msaccess\",\r\n    \".ADT\": \"audio/vnd.dlna.adts\",\r\n    \".ADTS\": \"audio/aac\",\r\n    \".afm\": \"application/octet-stream\",\r\n    \".ai\": \"application/postscript\",\r\n    \".aif\": \"audio/aiff\",\r\n    \".aifc\": \"audio/aiff\",\r\n    \".aiff\": \"audio/aiff\",\r\n    \".air\": \"application/vnd.adobe.air-application-installer-package+zip\",\r\n    \".amc\": \"application/mpeg\",\r\n    \".anx\": \"application/annodex\",\r\n    \".apk\": \"application/vnd.android.package-archive\",\r\n    \".application\": \"application/x-ms-application\",\r\n    \".art\": \"image/x-jg\",\r\n    \".asa\": \"application/xml\",\r\n    \".asax\": \"application/xml\",\r\n    \".ascx\": \"application/xml\",\r\n    \".asd\": \"application/octet-stream\",\r\n    \".asf\": \"video/x-ms-asf\",\r\n    \".ashx\": \"application/xml\",\r\n    \".asi\": \"application/octet-stream\",\r\n    \".asm\": \"text/plain\",\r\n    \".asmx\": \"application/xml\",\r\n    \".aspx\": \"application/xml\",\r\n    \".asr\": \"video/x-ms-asf\",\r\n    \".asx\": \"video/x-ms-asf\",\r\n    \".atom\": \"application/atom+xml\",\r\n    \".au\": \"audio/basic\",\r\n    \".avi\": \"video/x-msvideo\",\r\n    \".axa\": \"audio/annodex\",\r\n    \".axs\": \"application/olescript\",\r\n    \".axv\": \"video/annodex\",\r\n    \".bas\": \"text/plain\",\r\n    \".bat\": \"text/plain\",\r\n    \".bcpio\": \"application/x-bcpio\",\r\n    \".bin\": \"application/octet-stream\",\r\n    \".bmp\": \"image/bmp\",\r\n    \".c\": \"text/plain\",\r\n    \".cab\": \"application/octet-stream\",\r\n    \".caf\": \"audio/x-caf\",\r\n    \".calx\": \"application/vnd.ms-office.calx\",\r\n    \".cat\": \"application/vnd.ms-pki.seccat\",\r\n    \".cc\": \"text/plain\",\r\n    \".cd\": \"text/plain\",\r\n    \".cdda\": \"audio/aiff\",\r\n    \".cdf\": \"application/x-cdf\",\r\n    \".cer\": \"application/x-x509-ca-cert\",\r\n    \".cfg\": \"text/plain\",\r\n    \".chm\": \"application/octet-stream\",\r\n    \".class\": \"application/x-java-applet\",\r\n    \".clp\": \"application/x-msclip\",\r\n    \".cmd\": \"text/plain\",\r\n    \".cmx\": \"image/x-cmx\",\r\n    \".cnf\": \"text/plain\",\r\n    \".cod\": \"image/cis-cod\",\r\n    \".config\": \"application/xml\",\r\n    \".contact\": \"text/x-ms-contact\",\r\n    \".coverage\": \"application/xml\",\r\n    \".cpio\": \"application/x-cpio\",\r\n    \".cpp\": \"text/plain\",\r\n    \".crd\": \"application/x-mscardfile\",\r\n    \".crl\": \"application/pkix-crl\",\r\n    \".crt\": \"application/x-x509-ca-cert\",\r\n    \".cs\": \"text/plain\",\r\n    \".csdproj\": \"text/plain\",\r\n    \".csh\": \"application/x-csh\",\r\n    \".csproj\": \"text/plain\",\r\n    \".css\": \"text/css\",\r\n    \".csv\": \"application/csv\",\r\n    \".cur\": \"application/octet-stream\",\r\n    \".cxx\": \"text/plain\",\r\n    \".dat\": \"application/octet-stream\",\r\n    \".datasource\": \"application/xml\",\r\n    \".dbproj\": \"text/plain\",\r\n    \".dcr\": \"application/x-director\",\r\n    \".def\": \"text/plain\",\r\n    \".deploy\": \"application/octet-stream\",\r\n    \".der\": \"application/x-x509-ca-cert\",\r\n    \".dgml\": \"application/xml\",\r\n    \".dib\": \"image/bmp\",\r\n    \".dif\": \"video/x-dv\",\r\n    \".dir\": \"application/x-director\",\r\n    \".disco\": \"text/xml\",\r\n    \".divx\": \"video/divx\",\r\n    \".dll\": \"application/x-msdownload\",\r\n    \".dll.config\": \"text/xml\",\r\n    \".dlm\": \"text/dlm\",\r\n    \".doc\": \"application/msword\",\r\n    \".docm\": \"application/vnd.ms-word.document.macroEnabled.12\",\r\n    \".docx\":\r\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n    \".dot\": \"application/msword\",\r\n    \".dotm\": \"application/vnd.ms-word.template.macroEnabled.12\",\r\n    \".dotx\":\r\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.template\",\r\n    \".dsp\": \"application/octet-stream\",\r\n    \".dsw\": \"text/plain\",\r\n    \".dtd\": \"text/xml\",\r\n    \".dtsConfig\": \"text/xml\",\r\n    \".dv\": \"video/x-dv\",\r\n    \".dvi\": \"application/x-dvi\",\r\n    \".dwf\": \"drawing/x-dwf\",\r\n    \".dwg\": \"application/acad\",\r\n    \".dwp\": \"application/octet-stream\",\r\n    \".dxf\": \"application/x-dxf\",\r\n    \".dxr\": \"application/x-director\",\r\n    \".eml\": \"message/rfc822\",\r\n    \".emz\": \"application/octet-stream\",\r\n    \".eot\": \"application/vnd.ms-fontobject\",\r\n    \".eps\": \"application/postscript\",\r\n    \".etl\": \"application/etl\",\r\n    \".etx\": \"text/x-setext\",\r\n    \".evy\": \"application/envoy\",\r\n    \".exe\": \"application/octet-stream\",\r\n    \".exe.config\": \"text/xml\",\r\n    \".fdf\": \"application/vnd.fdf\",\r\n    \".fif\": \"application/fractals\",\r\n    \".filters\": \"application/xml\",\r\n    \".fla\": \"application/octet-stream\",\r\n    \".flac\": \"audio/flac\",\r\n    \".flr\": \"x-world/x-vrml\",\r\n    \".flv\": \"video/x-flv\",\r\n    \".fsscript\": \"application/fsharp-script\",\r\n    \".fsx\": \"application/fsharp-script\",\r\n    \".generictest\": \"application/xml\",\r\n    \".gif\": \"image/gif\",\r\n    \".gpx\": \"application/gpx+xml\",\r\n    \".group\": \"text/x-ms-group\",\r\n    \".gradle\": \"text/plain\",\r\n    \".gsm\": \"audio/x-gsm\",\r\n    \".gtar\": \"application/x-gtar\",\r\n    \".gz\": \"application/x-gzip\",\r\n    \".h\": \"text/plain\",\r\n    \".hdf\": \"application/x-hdf\",\r\n    \".hdml\": \"text/x-hdml\",\r\n    \".hhc\": \"application/x-oleobject\",\r\n    \".hhk\": \"application/octet-stream\",\r\n    \".hhp\": \"application/octet-stream\",\r\n    \".hlp\": \"application/winhlp\",\r\n    \".hpp\": \"text/plain\",\r\n    \".hqx\": \"application/mac-binhex40\",\r\n    \".hta\": \"application/hta\",\r\n    \".htc\": \"text/x-component\",\r\n    \".htm\": \"text/html\",\r\n    \".html\": \"text/html\",\r\n    \".htt\": \"text/webviewhtml\",\r\n    \".hxa\": \"application/xml\",\r\n    \".hxc\": \"application/xml\",\r\n    \".hxd\": \"application/octet-stream\",\r\n    \".hxe\": \"application/xml\",\r\n    \".hxf\": \"application/xml\",\r\n    \".hxh\": \"application/octet-stream\",\r\n    \".hxi\": \"application/octet-stream\",\r\n    \".hxk\": \"application/xml\",\r\n    \".hxq\": \"application/octet-stream\",\r\n    \".hxr\": \"application/octet-stream\",\r\n    \".hxs\": \"application/octet-stream\",\r\n    \".hxt\": \"text/html\",\r\n    \".hxv\": \"application/xml\",\r\n    \".hxw\": \"application/octet-stream\",\r\n    \".hxx\": \"text/plain\",\r\n    \".i\": \"text/plain\",\r\n    \".ico\": \"image/x-icon\",\r\n    \".ics\": \"application/octet-stream\",\r\n    \".idl\": \"text/plain\",\r\n    \".ief\": \"image/ief\",\r\n    \".iii\": \"application/x-iphone\",\r\n    \".inc\": \"text/plain\",\r\n    \".inf\": \"application/octet-stream\",\r\n    \".ini\": \"text/plain\",\r\n    \".inl\": \"text/plain\",\r\n    \".ins\": \"application/x-internet-signup\",\r\n    \".ipa\": \"application/x-itunes-ipa\",\r\n    \".ipg\": \"application/x-itunes-ipg\",\r\n    \".ipproj\": \"text/plain\",\r\n    \".ipsw\": \"application/x-itunes-ipsw\",\r\n    \".iqy\": \"text/x-ms-iqy\",\r\n    \".isp\": \"application/x-internet-signup\",\r\n    \".ite\": \"application/x-itunes-ite\",\r\n    \".itlp\": \"application/x-itunes-itlp\",\r\n    \".itms\": \"application/x-itunes-itms\",\r\n    \".itpc\": \"application/x-itunes-itpc\",\r\n    \".IVF\": \"video/x-ivf\",\r\n    \".jar\": \"application/java-archive\",\r\n    \".java\": \"text/plain\",\r\n    \".jck\": \"application/liquidmotion\",\r\n    \".jcz\": \"application/liquidmotion\",\r\n    \".jfif\": \"image/pjpeg\",\r\n    \".jnlp\": \"application/x-java-jnlp-file\",\r\n    \".jpb\": \"application/octet-stream\",\r\n    \".jpe\": \"image/jpeg\",\r\n    \".jpeg\": \"image/jpeg\",\r\n    \".jpg\": \"image/jpeg\",\r\n    \".js\": \"text/plain\",\r\n    \".json\": \"application/json\",\r\n    \".jsx\": \"text/jscript\",\r\n    \".jsxbin\": \"text/plain\",\r\n    \".latex\": \"application/x-latex\",\r\n    \".less\": \"text/plain\",\r\n    \".library-ms\": \"application/windows-library+xml\",\r\n    \".lit\": \"application/x-ms-reader\",\r\n    \".loadtest\": \"application/xml\",\r\n    \".lpk\": \"application/octet-stream\",\r\n    \".lsf\": \"video/x-la-asf\",\r\n    \".lst\": \"text/plain\",\r\n    \".lsx\": \"video/x-la-asf\",\r\n    \".lzh\": \"application/octet-stream\",\r\n    \".m13\": \"application/x-msmediaview\",\r\n    \".m14\": \"application/x-msmediaview\",\r\n    \".m1v\": \"video/mpeg\",\r\n    \".m2t\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".m2ts\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".m2v\": \"video/mpeg\",\r\n    \".m3u\": \"audio/x-mpegurl\",\r\n    \".m3u8\": \"audio/x-mpegurl\",\r\n    \".m4a\": \"audio/m4a\",\r\n    \".m4b\": \"audio/m4b\",\r\n    \".m4p\": \"audio/m4p\",\r\n    \".m4r\": \"audio/x-m4r\",\r\n    \".m4v\": \"video/x-m4v\",\r\n    \".mac\": \"image/x-macpaint\",\r\n    \".mak\": \"text/plain\",\r\n    \".man\": \"application/x-troff-man\",\r\n    \".manifest\": \"application/x-ms-manifest\",\r\n    \".map\": \"text/plain\",\r\n    \".master\": \"application/xml\",\r\n    \".mbox\": \"application/mbox\",\r\n    \".md\": \"text/plain\",\r\n    \".mda\": \"application/msaccess\",\r\n    \".mdb\": \"application/x-msaccess\",\r\n    \".mde\": \"application/msaccess\",\r\n    \".mdp\": \"application/octet-stream\",\r\n    \".me\": \"application/x-troff-me\",\r\n    \".mfp\": \"application/x-shockwave-flash\",\r\n    \".mht\": \"message/rfc822\",\r\n    \".mhtml\": \"message/rfc822\",\r\n    \".mid\": \"audio/mid\",\r\n    \".midi\": \"audio/mid\",\r\n    \".mix\": \"application/octet-stream\",\r\n    \".mk\": \"text/plain\",\r\n    \".mmf\": \"application/x-smaf\",\r\n    \".mno\": \"text/xml\",\r\n    \".mny\": \"application/x-msmoney\",\r\n    \".mod\": \"video/mpeg\",\r\n    \".mov\": \"video/quicktime\",\r\n    \".movie\": \"video/x-sgi-movie\",\r\n    \".mp2\": \"video/mpeg\",\r\n    \".mp2v\": \"video/mpeg\",\r\n    \".mp3\": \"audio/mpeg\",\r\n    \".mp4\": \"video/mp4\",\r\n    \".mp4v\": \"video/mp4\",\r\n    \".mpa\": \"video/mpeg\",\r\n    \".mpe\": \"video/mpeg\",\r\n    \".mpeg\": \"video/mpeg\",\r\n    \".mpf\": \"application/vnd.ms-mediapackage\",\r\n    \".mpg\": \"video/mpeg\",\r\n    \".mpp\": \"application/vnd.ms-project\",\r\n    \".mpv2\": \"video/mpeg\",\r\n    \".mqv\": \"video/quicktime\",\r\n    \".ms\": \"application/x-troff-ms\",\r\n    \".msg\": \"application/vnd.ms-outlook\",\r\n    \".msi\": \"application/octet-stream\",\r\n    \".mso\": \"application/octet-stream\",\r\n    \".mts\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".mtx\": \"application/xml\",\r\n    \".mvb\": \"application/x-msmediaview\",\r\n    \".mvc\": \"application/x-miva-compiled\",\r\n    \".mxp\": \"application/x-mmxp\",\r\n    \".nc\": \"application/x-netcdf\",\r\n    \".nsc\": \"video/x-ms-asf\",\r\n    \".nws\": \"message/rfc822\",\r\n    \".ocx\": \"application/octet-stream\",\r\n    \".oda\": \"application/oda\",\r\n    \".odb\": \"application/vnd.oasis.opendocument.database\",\r\n    \".odc\": \"application/vnd.oasis.opendocument.chart\",\r\n    \".odf\": \"application/vnd.oasis.opendocument.formula\",\r\n    \".odg\": \"application/vnd.oasis.opendocument.graphics\",\r\n    \".odh\": \"text/plain\",\r\n    \".odi\": \"application/vnd.oasis.opendocument.image\",\r\n    \".odl\": \"text/plain\",\r\n    \".odm\": \"application/vnd.oasis.opendocument.text-master\",\r\n    \".odp\": \"application/vnd.oasis.opendocument.presentation\",\r\n    \".ods\": \"application/vnd.oasis.opendocument.spreadsheet\",\r\n    \".odt\": \"application/vnd.oasis.opendocument.text\",\r\n    \".oga\": \"audio/ogg\",\r\n    \".ogg\": \"audio/ogg\",\r\n    \".ogv\": \"video/ogg\",\r\n    \".ogx\": \"application/ogg\",\r\n    \".one\": \"application/onenote\",\r\n    \".onea\": \"application/onenote\",\r\n    \".onepkg\": \"application/onenote\",\r\n    \".onetmp\": \"application/onenote\",\r\n    \".onetoc\": \"application/onenote\",\r\n    \".onetoc2\": \"application/onenote\",\r\n    \".opus\": \"audio/ogg\",\r\n    \".orderedtest\": \"application/xml\",\r\n    \".osdx\": \"application/opensearchdescription+xml\",\r\n    \".otf\": \"application/font-sfnt\",\r\n    \".otg\": \"application/vnd.oasis.opendocument.graphics-template\",\r\n    \".oth\": \"application/vnd.oasis.opendocument.text-web\",\r\n    \".otp\": \"application/vnd.oasis.opendocument.presentation-template\",\r\n    \".ots\": \"application/vnd.oasis.opendocument.spreadsheet-template\",\r\n    \".ott\": \"application/vnd.oasis.opendocument.text-template\",\r\n    \".oxt\": \"application/vnd.openofficeorg.extension\",\r\n    \".p10\": \"application/pkcs10\",\r\n    \".p12\": \"application/x-pkcs12\",\r\n    \".p7b\": \"application/x-pkcs7-certificates\",\r\n    \".p7c\": \"application/pkcs7-mime\",\r\n    \".p7m\": \"application/pkcs7-mime\",\r\n    \".p7r\": \"application/x-pkcs7-certreqresp\",\r\n    \".p7s\": \"application/pkcs7-signature\",\r\n    \".pbm\": \"image/x-portable-bitmap\",\r\n    \".pcast\": \"application/x-podcast\",\r\n    \".pct\": \"image/pict\",\r\n    \".pcx\": \"application/octet-stream\",\r\n    \".pcz\": \"application/octet-stream\",\r\n    \".pdf\": \"application/pdf\",\r\n    \".pfb\": \"application/octet-stream\",\r\n    \".pfm\": \"application/octet-stream\",\r\n    \".pfx\": \"application/x-pkcs12\",\r\n    \".pgm\": \"image/x-portable-graymap\",\r\n    \".pic\": \"image/pict\",\r\n    \".pict\": \"image/pict\",\r\n    \".pkgdef\": \"text/plain\",\r\n    \".pkgundef\": \"text/plain\",\r\n    \".pko\": \"application/vnd.ms-pki.pko\",\r\n    \".pls\": \"audio/scpls\",\r\n    \".pma\": \"application/x-perfmon\",\r\n    \".pmc\": \"application/x-perfmon\",\r\n    \".pml\": \"application/x-perfmon\",\r\n    \".pmr\": \"application/x-perfmon\",\r\n    \".pmw\": \"application/x-perfmon\",\r\n    \".png\": \"image/png\",\r\n    \".pnm\": \"image/x-portable-anymap\",\r\n    \".pnt\": \"image/x-macpaint\",\r\n    \".pntg\": \"image/x-macpaint\",\r\n    \".pnz\": \"image/png\",\r\n    \".pot\": \"application/vnd.ms-powerpoint\",\r\n    \".potm\": \"application/vnd.ms-powerpoint.template.macroEnabled.12\",\r\n    \".potx\":\r\n      \"application/vnd.openxmlformats-officedocument.presentationml.template\",\r\n    \".ppa\": \"application/vnd.ms-powerpoint\",\r\n    \".ppam\": \"application/vnd.ms-powerpoint.addin.macroEnabled.12\",\r\n    \".ppm\": \"image/x-portable-pixmap\",\r\n    \".pps\": \"application/vnd.ms-powerpoint\",\r\n    \".ppsm\": \"application/vnd.ms-powerpoint.slideshow.macroEnabled.12\",\r\n    \".ppsx\":\r\n      \"application/vnd.openxmlformats-officedocument.presentationml.slideshow\",\r\n    \".ppt\": \"application/vnd.ms-powerpoint\",\r\n    \".pptm\": \"application/vnd.ms-powerpoint.presentation.macroEnabled.12\",\r\n    \".pptx\":\r\n      \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\r\n    \".prf\": \"application/pics-rules\",\r\n    \".prm\": \"application/octet-stream\",\r\n    \".prx\": \"application/octet-stream\",\r\n    \".ps\": \"application/postscript\",\r\n    \".psc1\": \"application/PowerShell\",\r\n    \".psd\": \"application/octet-stream\",\r\n    \".psess\": \"application/xml\",\r\n    \".psm\": \"application/octet-stream\",\r\n    \".psp\": \"application/octet-stream\",\r\n    \".pst\": \"application/vnd.ms-outlook\",\r\n    \".pub\": \"application/x-mspublisher\",\r\n    \".py\": \"text/plain\",\r\n    \".pwz\": \"application/vnd.ms-powerpoint\",\r\n    \".qht\": \"text/x-html-insertion\",\r\n    \".qhtm\": \"text/x-html-insertion\",\r\n    \".qt\": \"video/quicktime\",\r\n    \".qti\": \"image/x-quicktime\",\r\n    \".qtif\": \"image/x-quicktime\",\r\n    \".qtl\": \"application/x-quicktimeplayer\",\r\n    \".qxd\": \"application/octet-stream\",\r\n    \".ra\": \"audio/x-pn-realaudio\",\r\n    \".ram\": \"audio/x-pn-realaudio\",\r\n    \".rar\": \"application/x-rar-compressed\",\r\n    \".ras\": \"image/x-cmu-raster\",\r\n    \".rat\": \"application/rat-file\",\r\n    \".rc\": \"text/plain\",\r\n    \".rc2\": \"text/plain\",\r\n    \".rct\": \"text/plain\",\r\n    \".rdlc\": \"application/xml\",\r\n    \".reg\": \"text/plain\",\r\n    \".resx\": \"application/xml\",\r\n    \".rf\": \"image/vnd.rn-realflash\",\r\n    \".rgb\": \"image/x-rgb\",\r\n    \".rgs\": \"text/plain\",\r\n    \".rm\": \"application/vnd.rn-realmedia\",\r\n    \".rmi\": \"audio/mid\",\r\n    \".rmp\": \"application/vnd.rn-rn_music_package\",\r\n    \".roff\": \"application/x-troff\",\r\n    \".rpm\": \"audio/x-pn-realaudio-plugin\",\r\n    \".rqy\": \"text/x-ms-rqy\",\r\n    \".rtf\": \"application/rtf\",\r\n    \".rtx\": \"text/richtext\",\r\n    \".rvt\": \"application/octet-stream\",\r\n    \".ruleset\": \"application/xml\",\r\n    \".s\": \"text/plain\",\r\n    \".safariextz\": \"application/x-safari-safariextz\",\r\n    \".scd\": \"application/x-msschedule\",\r\n    \".scr\": \"text/plain\",\r\n    \".sct\": \"text/scriptlet\",\r\n    \".sd2\": \"audio/x-sd2\",\r\n    \".sdp\": \"application/sdp\",\r\n    \".sea\": \"application/octet-stream\",\r\n    \".searchConnector-ms\": \"application/windows-search-connector+xml\",\r\n    \".setpay\": \"application/set-payment-initiation\",\r\n    \".setreg\": \"application/set-registration-initiation\",\r\n    \".settings\": \"application/xml\",\r\n    \".sgimb\": \"application/x-sgimb\",\r\n    \".sgml\": \"text/sgml\",\r\n    \".sh\": \"text/plain\",\r\n    \".shar\": \"application/x-shar\",\r\n    \".shtml\": \"text/html\",\r\n    \".sit\": \"application/x-stuffit\",\r\n    \".sitemap\": \"application/xml\",\r\n    \".skin\": \"application/xml\",\r\n    \".skp\": \"application/x-koan\",\r\n    \".sldm\": \"application/vnd.ms-powerpoint.slide.macroEnabled.12\",\r\n    \".sldx\":\r\n      \"application/vnd.openxmlformats-officedocument.presentationml.slide\",\r\n    \".slk\": \"application/vnd.ms-excel\",\r\n    \".sln\": \"text/plain\",\r\n    \".slupkg-ms\": \"application/x-ms-license\",\r\n    \".smd\": \"audio/x-smd\",\r\n    \".smi\": \"application/octet-stream\",\r\n    \".smx\": \"audio/x-smd\",\r\n    \".smz\": \"audio/x-smd\",\r\n    \".snd\": \"audio/basic\",\r\n    \".snippet\": \"application/xml\",\r\n    \".snp\": \"application/octet-stream\",\r\n    \".sol\": \"text/plain\",\r\n    \".sor\": \"text/plain\",\r\n    \".spc\": \"application/x-pkcs7-certificates\",\r\n    \".spl\": \"application/futuresplash\",\r\n    \".spx\": \"audio/ogg\",\r\n    \".sql\": \"text/plain\",\r\n    \".src\": \"application/x-wais-source\",\r\n    \".srf\": \"text/plain\",\r\n    \".SSISDeploymentManifest\": \"text/xml\",\r\n    \".ssm\": \"application/streamingmedia\",\r\n    \".sst\": \"application/vnd.ms-pki.certstore\",\r\n    \".stl\": \"application/vnd.ms-pki.stl\",\r\n    \".sv4cpio\": \"application/x-sv4cpio\",\r\n    \".sv4crc\": \"application/x-sv4crc\",\r\n    \".svc\": \"application/xml\",\r\n    \".svg\": \"image/svg+xml\",\r\n    \".swf\": \"application/x-shockwave-flash\",\r\n    \".step\": \"application/step\",\r\n    \".stp\": \"application/step\",\r\n    \".t\": \"application/x-troff\",\r\n    \".tar\": \"application/x-tar\",\r\n    \".tcl\": \"application/x-tcl\",\r\n    \".testrunconfig\": \"application/xml\",\r\n    \".testsettings\": \"application/xml\",\r\n    \".tex\": \"application/x-tex\",\r\n    \".texi\": \"application/x-texinfo\",\r\n    \".texinfo\": \"application/x-texinfo\",\r\n    \".tgz\": \"application/x-compressed\",\r\n    \".thmx\": \"application/vnd.ms-officetheme\",\r\n    \".thn\": \"application/octet-stream\",\r\n    \".tif\": \"image/tiff\",\r\n    \".tiff\": \"image/tiff\",\r\n    \".tlh\": \"text/plain\",\r\n    \".tli\": \"text/plain\",\r\n    \".toc\": \"application/octet-stream\",\r\n    \".tr\": \"application/x-troff\",\r\n    \".trm\": \"application/x-msterminal\",\r\n    \".trx\": \"application/xml\",\r\n    \".ts\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".tsv\": \"text/tab-separated-values\",\r\n    \".ttf\": \"application/font-sfnt\",\r\n    \".tts\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".txt\": \"text/plain\",\r\n    \".u32\": \"application/octet-stream\",\r\n    \".uls\": \"text/iuls\",\r\n    \".user\": \"text/plain\",\r\n    \".ustar\": \"application/x-ustar\",\r\n    \".vb\": \"text/plain\",\r\n    \".vbdproj\": \"text/plain\",\r\n    \".vbk\": \"video/mpeg\",\r\n    \".vbproj\": \"text/plain\",\r\n    \".vbs\": \"text/vbscript\",\r\n    \".vcf\": \"text/x-vcard\",\r\n    \".vcproj\": \"application/xml\",\r\n    \".vcs\": \"text/plain\",\r\n    \".vcxproj\": \"application/xml\",\r\n    \".vddproj\": \"text/plain\",\r\n    \".vdp\": \"text/plain\",\r\n    \".vdproj\": \"text/plain\",\r\n    \".vdx\": \"application/vnd.ms-visio.viewer\",\r\n    \".vml\": \"text/xml\",\r\n    \".vscontent\": \"application/xml\",\r\n    \".vsct\": \"text/xml\",\r\n    \".vsd\": \"application/vnd.visio\",\r\n    \".vsi\": \"application/ms-vsi\",\r\n    \".vsix\": \"application/vsix\",\r\n    \".vsixlangpack\": \"text/xml\",\r\n    \".vsixmanifest\": \"text/xml\",\r\n    \".vsmdi\": \"application/xml\",\r\n    \".vspscc\": \"text/plain\",\r\n    \".vss\": \"application/vnd.visio\",\r\n    \".vsscc\": \"text/plain\",\r\n    \".vssettings\": \"text/xml\",\r\n    \".vssscc\": \"text/plain\",\r\n    \".vst\": \"application/vnd.visio\",\r\n    \".vstemplate\": \"text/xml\",\r\n    \".vsto\": \"application/x-ms-vsto\",\r\n    \".vsw\": \"application/vnd.visio\",\r\n    \".vsx\": \"application/vnd.visio\",\r\n    \".vtx\": \"application/vnd.visio\",\r\n    \".wav\": \"audio/wav\",\r\n    \".wave\": \"audio/wav\",\r\n    \".wax\": \"audio/x-ms-wax\",\r\n    \".wbk\": \"application/msword\",\r\n    \".wbmp\": \"image/vnd.wap.wbmp\",\r\n    \".wcm\": \"application/vnd.ms-works\",\r\n    \".wdb\": \"application/vnd.ms-works\",\r\n    \".wdp\": \"image/vnd.ms-photo\",\r\n    \".webarchive\": \"application/x-safari-webarchive\",\r\n    \".webm\": \"video/webm\",\r\n    \".webp\": \"image/webp\" /* https\"://en.wikipedia.org/wiki/WebP */,\r\n    \".webtest\": \"application/xml\",\r\n    \".wiq\": \"application/xml\",\r\n    \".wiz\": \"application/msword\",\r\n    \".wks\": \"application/vnd.ms-works\",\r\n    \".WLMP\": \"application/wlmoviemaker\",\r\n    \".wlpginstall\": \"application/x-wlpg-detect\",\r\n    \".wlpginstall3\": \"application/x-wlpg3-detect\",\r\n    \".wm\": \"video/x-ms-wm\",\r\n    \".wma\": \"audio/x-ms-wma\",\r\n    \".wmd\": \"application/x-ms-wmd\",\r\n    \".wmf\": \"application/x-msmetafile\",\r\n    \".wml\": \"text/vnd.wap.wml\",\r\n    \".wmlc\": \"application/vnd.wap.wmlc\",\r\n    \".wmls\": \"text/vnd.wap.wmlscript\",\r\n    \".wmlsc\": \"application/vnd.wap.wmlscriptc\",\r\n    \".wmp\": \"video/x-ms-wmp\",\r\n    \".wmv\": \"video/x-ms-wmv\",\r\n    \".wmx\": \"video/x-ms-wmx\",\r\n    \".wmz\": \"application/x-ms-wmz\",\r\n    \".woff\": \"application/font-woff\",\r\n    \".wpl\": \"application/vnd.ms-wpl\",\r\n    \".wps\": \"application/vnd.ms-works\",\r\n    \".wri\": \"application/x-mswrite\",\r\n    \".wrl\": \"x-world/x-vrml\",\r\n    \".wrz\": \"x-world/x-vrml\",\r\n    \".wsc\": \"text/scriptlet\",\r\n    \".wsdl\": \"text/xml\",\r\n    \".wvx\": \"video/x-ms-wvx\",\r\n    \".x\": \"application/directx\",\r\n    \".xaf\": \"x-world/x-vrml\",\r\n    \".xaml\": \"application/xaml+xml\",\r\n    \".xap\": \"application/x-silverlight-app\",\r\n    \".xbap\": \"application/x-ms-xbap\",\r\n    \".xbm\": \"image/x-xbitmap\",\r\n    \".xdr\": \"text/plain\",\r\n    \".xht\": \"application/xhtml+xml\",\r\n    \".xhtml\": \"application/xhtml+xml\",\r\n    \".xla\": \"application/vnd.ms-excel\",\r\n    \".xlam\": \"application/vnd.ms-excel.addin.macroEnabled.12\",\r\n    \".xlc\": \"application/vnd.ms-excel\",\r\n    \".xld\": \"application/vnd.ms-excel\",\r\n    \".xlk\": \"application/vnd.ms-excel\",\r\n    \".xll\": \"application/vnd.ms-excel\",\r\n    \".xlm\": \"application/vnd.ms-excel\",\r\n    \".xls\": \"application/vnd.ms-excel\",\r\n    \".xlsb\": \"application/vnd.ms-excel.sheet.binary.macroEnabled.12\",\r\n    \".xlsm\": \"application/vnd.ms-excel.sheet.macroEnabled.12\",\r\n    \".xlsx\":\r\n      \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n    \".xlt\": \"application/vnd.ms-excel\",\r\n    \".xltm\": \"application/vnd.ms-excel.template.macroEnabled.12\",\r\n    \".xltx\":\r\n      \"application/vnd.openxmlformats-officedocument.spreadsheetml.template\",\r\n    \".xlw\": \"application/vnd.ms-excel\",\r\n    \".xml\": \"text/xml\",\r\n    \".xmp\": \"application/octet-stream\",\r\n    \".xmta\": \"application/xml\",\r\n    \".xof\": \"x-world/x-vrml\",\r\n    \".XOML\": \"text/plain\",\r\n    \".xpm\": \"image/x-xpixmap\",\r\n    \".xps\": \"application/vnd.ms-xpsdocument\",\r\n    \".xrm-ms\": \"text/xml\",\r\n    \".xsc\": \"application/xml\",\r\n    \".xsd\": \"text/xml\",\r\n    \".xsf\": \"text/xml\",\r\n    \".xsl\": \"text/xml\",\r\n    \".xslt\": \"text/xml\",\r\n    \".xsn\": \"application/octet-stream\",\r\n    \".xss\": \"application/xml\",\r\n    \".xspf\": \"application/xspf+xml\",\r\n    \".xtp\": \"application/octet-stream\",\r\n    \".xwd\": \"image/x-xwindowdump\",\r\n    \".z\": \"application/x-compress\",\r\n    \".zip\": \"application/zip\",\r\n  };\r\n\r\n  //根据一个文件名，获取其后缀名(一律使用小写，带.)，如果没有后缀名，那么返回\"\"\r\n  static getExtension(filename: string | null) {\r\n    if (filename == null) {\r\n      return \"\";\r\n    }\r\n    let dotIndex = filename.lastIndexOf(\".\");\r\n    if (dotIndex === -1) {\r\n      return \"\";\r\n    } else {\r\n      return filename.substring(dotIndex).toLowerCase();\r\n    }\r\n  }\r\n\r\n  //根据一个文件名，获取其后缀名(一律使用小写，不带.)，如果没有后缀名，那么返回\"\"\r\n  static getExtensionWithoutDot(filename: string | null) {\r\n    if (filename == null) {\r\n      return \"\";\r\n    }\r\n    let dotIndex = filename.lastIndexOf(\".\");\r\n    if (dotIndex === -1) {\r\n      return \"\";\r\n    } else {\r\n      return filename.substring(dotIndex + 1).toLowerCase();\r\n    }\r\n  }\r\n\r\n  //根据一个文件名（带后缀的），获取对应的文件类型。\r\n  static getMimeType(filename: string | null) {\r\n    let extension = MimeUtil.getExtension(filename);\r\n    if (MimeUtil.MIMES[extension]) {\r\n      return MimeUtil.MIMES[extension];\r\n    } else {\r\n      return \"application/octet-stream\";\r\n    }\r\n  }\r\n}\r\n","//应用的占位图片，到处都要用到。 生成网址：http://png-pixel.com/\r\n//rgb(240,240,240)\r\nimport NumberUtil from \"./NumberUtil\";\r\nimport MimeUtil from \"./MimeUtil\";\r\n\r\nexport default class ImageUtil {\r\n  static IMAGE_PLACEHOLDER_10_10 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAEUlEQVR42mP88J8BAzAOZUEAoc4TYb5Mv7IAAAAASUVORK5CYII=\";\r\n  static IMAGE_PLACEHOLDER_20_7 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAQAAACiwqWzAAAAEklEQVR42mP88J+BKMA4IhUCAJ1VDZFobOQaAAAAAElFTkSuQmCC\";\r\n  static IMAGE_PLACEHOLDER_4_3 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAQAAAAe/WZNAAAAEElEQVR42mP88J8BDBgxGABf8QXRk11CBwAAAABJRU5ErkJggg==\";\r\n  static IMAGE_PLACEHOLDER_16_9 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAQAAACRI2S5AAAAEklEQVR42mP88J8BL2AcVQAGACSgEXHKPyH/AAAAAElFTkSuQmCC\";\r\n  static IMAGE_PLACEHOLDER_2_1 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAQAAAAeXLZtAAAAE0lEQVR42mP88J+BKMA4qpC+CgH2ThNhpeSxLAAAAABJRU5ErkJggg==\";\r\n\r\n  /**\r\n   * 统一处理图片url。\r\n   * @param url 原图片路径\r\n   * @param origin 是否使用原图，一般在查看图片详情的时候使用\r\n   * @param width 如果origin=false 裁剪的宽度\r\n   * @param height 如果origin=false 裁剪的高度\r\n   * @returns\r\n   */\r\n  static handleImageUrl(\r\n    url: string | null = null,\r\n    origin: boolean = false,\r\n    width: number = 200,\r\n    height: number = 200\r\n  ) {\r\n    if (url) {\r\n      if (origin) {\r\n        return url;\r\n      } else {\r\n        //目前支持这几种格式的处理。 jpg jpeg png tif tiff bmp gif\r\n        let supportExtensions = [\r\n          \".jpg\",\r\n          \".jpeg\",\r\n          \".png\",\r\n          \".tif\",\r\n          \".tiff\",\r\n          \".bmp\",\r\n          \".gif\",\r\n        ];\r\n        let extension = MimeUtil.getExtension(url);\r\n        if (supportExtensions.indexOf(extension) === -1) {\r\n          return url;\r\n        } else {\r\n          return url + \"?ir=fill_\" + width + \"_\" + height;\r\n        }\r\n      }\r\n    } else {\r\n      if (NumberUtil.fractionEqual(1, 1, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_10_10;\r\n      } else if (NumberUtil.fractionEqual(20, 7, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_20_7;\r\n      } else if (NumberUtil.fractionEqual(4, 3, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_4_3;\r\n      } else if (NumberUtil.fractionEqual(16, 9, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_16_9;\r\n      } else if (NumberUtil.fractionEqual(2, 1, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_2_1;\r\n      } else {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_10_10;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n","/**\r\n * 过滤器中的选择样式\r\n */\r\nenum SelectionFilterType {\r\n  //下拉框的样式\r\n  COMBOBOX = \"COMBOBOX\",\r\n  //按钮的样式\r\n  BUTTON = \"BUTTON\",\r\n}\r\n\r\nexport default SelectionFilterType\r\n","import Filter from \"./Filter\";\r\n\r\n/**\r\n * 文本输入框筛选器\r\n * 这种一般是模糊搜索。\r\n */\r\nexport default class InputFilter extends Filter {\r\n\r\n  //值，最终填写的内容\r\n  value: string = \"\"\r\n\r\n  //占位符\r\n  placeholder: string\r\n\r\n  constructor(name: string, code: string, placeholder?: string | null, visible?: boolean) {\r\n    super(name, code, visible)\r\n\r\n    if (placeholder) {\r\n      this.placeholder = placeholder\r\n    } else {\r\n      this.placeholder = name\r\n    }\r\n  }\r\n\r\n\r\n  //获取值字符串\r\n  getValueString(): string {\r\n    return this.value\r\n  }\r\n\r\n  //通过一个字符串来设置值\r\n  putValue(value: string) {\r\n\r\n    this.value = value\r\n\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = \"\"\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === \"\";\r\n  }\r\n\r\n}\r\n","import Filter from \"./Filter\";\r\nimport SelectionOption from \"../option/SelectionOption\";\r\nimport SelectionFilterType from \"./SelectionFilterType\";\r\n\r\n\r\n/**\r\n *\r\n * 单项选择过滤器\r\n *\r\n */\r\nexport default class SelectionFilter extends Filter {\r\n\r\n  //候选项，要求必须有name和value。\r\n  options: SelectionOption[]\r\n\r\n  //值，最终填写的内容。null表示这个值不设置\r\n  value: string = \"\"\r\n\r\n  //采用的样式\r\n  selectionType: SelectionFilterType\r\n\r\n  constructor(name: string, code: string, options: SelectionOption[],selectionType?: SelectionFilterType, visible?: boolean) {\r\n    super(name, code, visible)\r\n\r\n    this.options = options\r\n    if (selectionType === undefined) {\r\n      this.selectionType = SelectionFilterType.COMBOBOX\r\n    } else {\r\n      this.selectionType = selectionType\r\n    }\r\n  }\r\n\r\n  //获取值字符串\r\n  getValueString(): string {\r\n    return this.value\r\n  }\r\n\r\n  //通过一个字符串来设置值\r\n  putValue(value: string) {\r\n\r\n    if (value === \"\") {\r\n      this.value = \"\"\r\n    } else {\r\n\r\n      //必须是options中的值才接纳。\r\n      for (let j = 0; j < this.options.length; j++) {\r\n        let opt = this.options[j]\r\n        if (opt.value === value) {\r\n          this.value = value\r\n          return\r\n        }\r\n      }\r\n\r\n      this.value = \"\"\r\n    }\r\n\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = \"\"\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === \"\";\r\n  }\r\n\r\n}\r\n","import SafeUtil from '../../util/SafeUtil';\nimport BaseEntity from '../base/BaseEntity';\nimport {UserRole} from './UserRole';\nimport {UserStatus, UserStatusList} from \"./UserStatus\";\nimport ImageUtil from \"../../util/ImageUtil\";\nimport defaultAvatarPath from \"../../../assets/image/avatar.png\";\nimport Filter from \"../base/filter/Filter\";\nimport SortFilter from \"../base/filter/SortFilter\";\nimport InputFilter from '../base/filter/InputFilter';\nimport SelectionFilter from \"../base/filter/SelectionFilter\";\n\nexport default class User extends BaseEntity {\n\n  //获取当前登录者的信息\n  static URL_INFO = '/api/user/info';\n  static URL_LOGIN = '/api/user/login'\n  static URL_AUTHENTICATION_LOGIN = '/api/user/authentication/login'\n  static URL_REGISTER = '/api/user/register'\n  static URL_LOGOUT = '/api/user/logout'\n  static URL_USER_CHANGE_PASSWORD = '/api/user/change/password'\n  static URL_USER_RESET_PASSWORD = '/api/user/reset/password'\n  static URL_USER_TOGGLE_STATUS = '/api/user/toggle/status'\n  static URL_USER_TRANSFIGURATION = '/api/user/transfiguration'\n  static URL_USER_SCAN = '/api/user/scan'\n\n  role: UserRole = UserRole.GUEST\n  username: string | null = null\n  password: string | null = null\n  avatarUrl: string | null = null\n  lastIp: string | null = null\n  lastTime: Date = new Date()\n  //默认大小限制100Mb.\n  sizeLimit: number = 104857600\n  totalSize: number = 0\n  totalSizeLimit: number = -1\n  status: UserStatus = UserStatus.OK\n\n\n  constructor(reactComponent?: React.Component) {\n\n    super(reactComponent);\n\n  }\n\n\n  assign(obj: any) {\n    super.assign(obj);\n\n    this.assignEntity(\"lastTime\", Date)\n\n  }\n\n\n  getFilters(): Filter[] {\n    return [\n      ...super.getFilters(),\n      new SortFilter(\"按上次登录时间排序\", \"orderLastTime\"),\n      new InputFilter(\"用户名\", \"username\", \"按用户名搜索\"),\n      new SelectionFilter(\"状态\", \"status\", UserStatusList),\n\n    ]\n  }\n\n  getForm(): any {\n    return {\n      username: this.username,\n      password: this.password,\n      role: this.role,\n      avatarUrl: this.avatarUrl,\n      sizeLimit: this.sizeLimit,\n      totalSizeLimit: this.totalSizeLimit,\n      uuid: this.uuid ? this.uuid : null\n    };\n  }\n\n\n  getAvatarUrl(origin: boolean = false) {\n    if (this.avatarUrl) {\n      return ImageUtil.handleImageUrl(this.avatarUrl, origin)\n    } else {\n      return defaultAvatarPath\n    }\n  }\n\n  //登录\n  httpLogin(username: string, password: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\n\n    let that = this;\n\n    let form = {\n      username,\n      password,\n    };\n\n    this.httpGet(User.URL_LOGIN, form, function (response: any) {\n\n      that.assign(response.data.data);\n\n      SafeUtil.safeCallback(successCallback)(response);\n\n    }, errorCallback, finalCallback);\n\n  }\n\n  //注册\n  httpRegister(username: string, password: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\n\n    let that = this;\n\n    let form = {\n      username,\n      password,\n    };\n\n    this.httpGet(User.URL_REGISTER, form, function (response: any) {\n\n      that.assign(response.data.data);\n\n      SafeUtil.safeCallback(successCallback)(response);\n\n    }, errorCallback, finalCallback);\n\n  }\n\n  //获取当前登录者的信息\n  httpInfo(successCallback?: any, errorCallback?: any, finalCallback?: any) {\n\n    let that = this;\n\n    let form = {};\n\n    this.httpGet(User.URL_INFO, form, function (response: any) {\n\n      that.assign(response.data.data);\n\n      SafeUtil.safeCallback(successCallback)(response);\n\n    }, errorCallback, finalCallback);\n\n  }\n\n\n  //退出登录\n  httpLogout(successCallback?: any, errorCallback?: any, finalCallback?: any) {\n\n    let that = this;\n\n    let form = {};\n\n    this.httpGet(User.URL_LOGOUT, form, function (response: any) {\n\n      console.info('退出成功！');\n\n      that.assign(new User())\n\n      SafeUtil.safeCallback(successCallback)(response);\n\n    }, errorCallback, finalCallback);\n\n  }\n\n\n  httpChangePassword(oldPassword: string, newPassword: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\n    let that = this\n    this.httpPost(User.URL_USER_CHANGE_PASSWORD, {\n      'oldPassword': oldPassword,\n      'newPassword': newPassword\n    }, function (response: any) {\n\n      SafeUtil.safeCallback(successCallback)(response);\n\n\n    }, errorCallback)\n  }\n\n  httpResetPassword(password: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\n    this.httpPost(User.URL_USER_RESET_PASSWORD, {\n      'userUuid': this.uuid,\n      'password': password\n    }, function (response: any) {\n\n\n      SafeUtil.safeCallback(successCallback)(response);\n\n\n    }, errorCallback)\n  }\n\n\n  httpToggleStatus(successCallback?: any, errorCallback?: any, finalCallback?: any) {\n    let that = this\n    this.httpPost(User.URL_USER_TOGGLE_STATUS, {'uuid': this.uuid}, function (response: any) {\n\n      that.assign(response.data.data);\n      SafeUtil.safeCallback(successCallback)(response);\n\n\n    }, errorCallback)\n  }\n\n  httpAuthenticationLogin(authentication: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\n    let that = this\n    let form = {authentication}\n    this.httpPost(User.URL_AUTHENTICATION_LOGIN, form, function (response: any) {\n\n\n      SafeUtil.safeCallback(successCallback)(response);\n\n\n    }, errorCallback)\n  }\n\n  httpTransfiguration(successCallback: (text: string) => void, errorCallback?: any, finalCallback?: any) {\n    let that = this\n    let form = {'uuid': this.uuid}\n    this.httpPost(User.URL_USER_TRANSFIGURATION, form, function (response: any) {\n\n      successCallback(response.data.msg)\n\n    }, errorCallback)\n  }\n\n\n  httpScan(successCallback: (text: string) => void, errorCallback?: any, finalCallback?: any) {\n    let that = this\n    let form = {'uuid': this.uuid}\n    this.httpPost(User.URL_USER_SCAN, form, function (response: any) {\n\n      successCallback(response.data.msg)\n\n    }, errorCallback, finalCallback)\n  }\n\n}\n\n\n\n\n","/**\r\n * 预览配置\r\n * 支持自定义不同的文件预览类型\r\n */\r\nimport Base from \"../../base/Base\";\r\nimport MimeUtil from \"../../../util/MimeUtil\";\r\n\r\n\r\nexport default class PreviewEngine extends Base {\r\n\r\n  /**\r\n   * 此预览引擎的url\r\n   * {originUrl} 文件原始的url地址。eg: https://tank.eyeblue.cn/api/alien/download/2a0ceee1-744c-4c82-4215-69c382597a50/abstract-free-photo-2210x1473.jpg\r\n   * {url} 对于公有文件publicUrl=originUrl，对于私有文件publicUrl是originUrl带上downloadToken。 eg: https://tank.eyeblue.cn/api/alien/download/2a0ceee1-744c-4c82-4215-69c382597a50/abstract-free-photo-2210x1473.jpg?downloadTokenUuid=6bdba52f-af6b-49ae-5a5d-fd80bfb01d3b\r\n   */\r\n  url: string = \"\"\r\n\r\n  /**\r\n   * 此预览引擎支持的文件后缀名。\r\n   * 星好*表示匹配所有的后缀名。\r\n   * 逗号分隔，不带.  例如： xls,doc,ppt,xlsx,docx,pptx\r\n   */\r\n  extensions: string = \"\"\r\n\r\n  /**\r\n   * 本站预览，新标签打开\r\n   */\r\n  previewInSite: boolean = true\r\n\r\n\r\n  constructor() {\r\n    super()\r\n  }\r\n\r\n  getForm(): any {\r\n    return {\r\n      url: this.url,\r\n      extensions: this.extensions,\r\n      previewInSite: this.previewInSite,\r\n    };\r\n  }\r\n\r\n  //提供几个默认的预览引擎。\r\n  static defaultPreviewEngines(): PreviewEngine[] {\r\n\r\n    let defaultEngines: PreviewEngine[] = []\r\n\r\n    //添加office默认预览引擎，使用微软开放接口\r\n    let officeEngine: PreviewEngine = new PreviewEngine()\r\n    officeEngine.url = \"https://view.officeapps.live.com/op/embed.aspx?src={url}\"\r\n    officeEngine.extensions = \"doc,ppt,xls,docx,pptx,xlsx\"\r\n    officeEngine.previewInSite = true\r\n    defaultEngines.push(officeEngine)\r\n\r\n    //添加全局预览引擎，使用浏览器预览能力。\r\n    let globalEngine: PreviewEngine = new PreviewEngine()\r\n    globalEngine.url = \"{originUrl}\"\r\n    globalEngine.extensions = \"*\"\r\n    globalEngine.previewInSite = true\r\n    defaultEngines.push(globalEngine)\r\n\r\n    return defaultEngines\r\n  }\r\n\r\n  //对于某个文件，是否能够预览\r\n  canPreview(fileName: string): boolean {\r\n    let extension: string = MimeUtil.getExtensionWithoutDot(fileName)\r\n    if (!extension) {\r\n      return false\r\n    }\r\n\r\n    let canHandle = false\r\n    if (this.extensions === \"*\") {\r\n      canHandle = true\r\n    } else {\r\n      let parts: string [] = this.extensions.split(\",\")\r\n      for (let part of parts) {\r\n        if (extension === part.toLowerCase() || \".\" + extension === part.toLowerCase()) {\r\n          canHandle = true\r\n          break\r\n        }\r\n      }\r\n    }\r\n\r\n    return canHandle\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","/**\r\n * 预览配置\r\n * 支持自定义不同的文件预览类型\r\n */\r\nimport Base from \"../../base/Base\";\r\nimport PreviewEngine from \"./PreviewEngine\";\r\nimport MimeUtil from \"../../../util/MimeUtil\";\r\nimport MessageBoxUtil from \"../../../util/MessageBoxUtil\";\r\n\r\n/**\r\n * 预览配置\r\n */\r\nexport default class PreviewConfig extends Base {\r\n\r\n  /**\r\n   * 预览引擎\r\n   */\r\n  previewEngines: PreviewEngine[] = []\r\n\r\n  constructor() {\r\n\r\n    super()\r\n\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n    this.assignList(\"previewEngines\", PreviewEngine)\r\n  }\r\n\r\n\r\n  getForm(): any {\r\n\r\n    let forms = this.previewEngines.map((item: PreviewEngine, index: number) => {\r\n      return item.getForm()\r\n    })\r\n\r\n    return {\r\n      previewEngines: forms\r\n    };\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import SafeUtil from '../../util/SafeUtil';\r\nimport BaseEntity from '../base/BaseEntity';\r\nimport PreviewConfig from \"./model/PreviewConfig\";\r\nimport JsonUtil from \"../../util/JsonUtil\";\r\n\r\n\r\nexport default class Preference extends BaseEntity {\r\n\r\n  //获取当前登录者的信息\r\n  static URL_API_PREFERENCE_FETCH = '/api/preference/fetch'\r\n  static URL_API_SYSTEM_CLEANUP = '/api/preference/system/cleanup'\r\n  static URL_API_PREFERENCE_EDIT_PREVIEW_CONFIG = '/api/preference/edit/preview/config'\r\n\r\n  //网站名称\r\n  name: string = \"\"\r\n\r\n  //logo\r\n  logoUrl: string | null = null\r\n  faviconUrl: string | null = null\r\n\r\n  //版权信息\r\n  copyright: string = \"\"\r\n  record: string = \"\"\r\n\r\n  //大小限制\r\n  downloadDirMaxSize: number = -1\r\n  //文件数量\r\n  downloadDirMaxNum: number = -1\r\n  //用户默认总大小限制\r\n  defaultTotalSizeLimit: number = -1\r\n  //是否允许自主注册\r\n  allowRegister: boolean = false\r\n  //预览配置\r\n  previewConfig: PreviewConfig = new PreviewConfig()\r\n  //后台版本\r\n  version: string | null = null\r\n\r\n\r\n  //*****************前端辅助变量***********************/\r\n  //网站是否完成了安装\r\n  installed: boolean = true\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n\r\n    super(reactComponent);\r\n\r\n  }\r\n\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n    this.assignEntity(\"previewConfig\", PreviewConfig)\r\n\r\n  }\r\n\r\n  getForm(): any {\r\n    return {\r\n      name: this.name,\r\n      logoUrl: this.logoUrl,\r\n      faviconUrl: this.faviconUrl,\r\n      copyright: this.copyright,\r\n      record: this.record,\r\n      downloadDirMaxNum: this.downloadDirMaxNum,\r\n      downloadDirMaxSize: this.downloadDirMaxSize,\r\n      defaultTotalSizeLimit: this.defaultTotalSizeLimit,\r\n      allowRegister: this.allowRegister,\r\n      previewConfig: JsonUtil.toJson(this.previewConfig.getForm())\r\n    };\r\n  }\r\n\r\n\r\n  //修改title和favicon\r\n  updateTitleAndFavicon() {\r\n\r\n    if (this.faviconUrl) {\r\n      //修改favicon\r\n      let link: any = document.querySelector(\"link[rel*='icon']\") || document.createElement('link');\r\n      link.type = 'image/x-icon';\r\n      link.rel = 'shortcut icon';\r\n      link.href = this.faviconUrl;\r\n      document.getElementsByTagName('head')[0].appendChild(link);\r\n    }\r\n\r\n    document.title = this.name\r\n\r\n  }\r\n\r\n  httpFetch(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    this.httpPost(Preference.URL_API_PREFERENCE_FETCH, {}, function (response: any) {\r\n\r\n      that.assign(response.data.data);\r\n\r\n      that.updateTitleAndFavicon()\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n  httpSystemCleanup(password: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    this.httpPost(Preference.URL_API_SYSTEM_CLEANUP, {password}, function (response: any) {\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n  httpSavePreviewEngine(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    const that = this\r\n    this.httpPost(Preference.URL_API_PREFERENCE_EDIT_PREVIEW_CONFIG, this.getForm(), function(response: any) {\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback);\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","/**\r\n * 全局性的对象，主要和实体类相关的\r\n * 这个类只包含Base的子类，比如User, Preference.\r\n * 和Sun形成姊妹篇\r\n */\r\nimport User from \"../user/User\";\r\nimport Preference from \"../preference/Preference\";\r\n\r\n\r\nexport default class Moon {\r\n\r\n  //全局具有唯一的用户，即当前登录的用户.\r\n  user: User = new User()\r\n\r\n  //全局唯一的偏好设置\r\n  preference: Preference = new Preference()\r\n\r\n  //全局的一个store对象\r\n  private static singleton: Moon | null = null\r\n\r\n  //使用懒加载模式。\r\n  static getSingleton(): Moon {\r\n    if (Moon.singleton == null) {\r\n      Moon.singleton = new Moon();\r\n\r\n    }\r\n\r\n    return Moon.singleton\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport {Link, RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Login.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport {Button, Col, Form, Input, Row} from 'antd';\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport {LockOutlined, UserOutlined} from '@ant-design/icons';\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\n\r\ninterface IProps extends RouteComponentProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class Login extends TankComponent<IProps, IState> {\r\n\r\n  user: User = Moon.getSingleton().user\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    //进入登录页面，默认退出一次\r\n    this.logout()\r\n  }\r\n\r\n  //退出登录\r\n  logout() {\r\n\r\n    let that = this\r\n\r\n    this.user.httpLogout(function () {\r\n      //刷新整个网站\r\n      Sun.updateFrame()\r\n    })\r\n\r\n  }\r\n\r\n  onFinish(values: any) {\r\n    console.log('Success:', values);\r\n\r\n    let that = this\r\n\r\n    let user = that.user\r\n\r\n    user.httpLogin(values[\"username\"], values[\"password\"], function () {\r\n      MessageBoxUtil.success(Lang.t(\"user.loginSuccess\"))\r\n\r\n      that.props.history.push('/')\r\n\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n    let preference: Preference = Moon.getSingleton().preference\r\n\r\n\r\n    return (\r\n      <div className=\"user-login\">\r\n\r\n        <Row>\r\n          <Col span={8} offset={8}>\r\n\r\n            <div className=\"welcome\">\r\n              {Lang.t(\"user.welcomeLogin\")}\r\n            </div>\r\n\r\n            <Form\r\n              name=\"basic\"\r\n              initialValues={{remember: true}}\r\n              onFinish={this.onFinish.bind(this)}\r\n              onFinishFailed={this.onFinishFailed.bind(this)}\r\n            >\r\n              <Form.Item\r\n                name=\"username\"\r\n                rules={[{required: true, message: Lang.t(\"user.enterUsername\")}]}\r\n              >\r\n                <Input size=\"large\" placeholder={Lang.t(\"user.enterUsername\")} prefix={<UserOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"password\"\r\n                rules={[{required: true, message: Lang.t(\"user.enterPassword\")}]}\r\n              >\r\n                <Input.Password size=\"large\" placeholder={Lang.t(\"user.enterPassword\")} prefix={<LockOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item>\r\n                <Button type=\"primary\" icon={<UserOutlined/>} block={true} htmlType=\"submit\">\r\n                  {Lang.t(\"user.login\")}\r\n                </Button>\r\n              </Form.Item>\r\n\r\n              {\r\n                preference.allowRegister && (\r\n                  <div className=\"text-right\">\r\n                    <Link to={\"/user/register\"}>\r\n                      <span className=\"link\">{Lang.t(\"user.toToRegister\")}</span>\r\n                    </Link>\r\n                  </div>\r\n                )\r\n              }\r\n\r\n\r\n            </Form>\r\n\r\n          </Col>\r\n        </Row>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {Link, RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Register.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport {Button, Col, Form, Input, Row} from 'antd';\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport {LockOutlined, UserOutlined} from '@ant-design/icons';\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\n\r\ninterface IProps extends RouteComponentProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class Register extends TankComponent<IProps, IState> {\r\n\r\n  user: User = Moon.getSingleton().user\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  onFinish(values: any) {\r\n    console.log('Success:', values);\r\n\r\n    let that = this\r\n\r\n    let user = that.user\r\n\r\n    user.httpRegister(values[\"username\"], values[\"password\"], function () {\r\n      MessageBoxUtil.success(Lang.t(\"user.loginSuccess\"))\r\n\r\n      that.props.history.push('/')\r\n\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    return (\r\n      <div className=\"user-register\">\r\n\r\n        <Row>\r\n          <Col span={8} offset={8}>\r\n\r\n            <div className=\"welcome\">\r\n              {Lang.t(\"user.welcomeRegister\")}\r\n            </div>\r\n\r\n            <Form\r\n              name=\"basic\"\r\n              initialValues={{remember: true}}\r\n              onFinish={this.onFinish.bind(this)}\r\n              onFinishFailed={this.onFinishFailed.bind(this)}\r\n            >\r\n              <Form.Item\r\n                name=\"username\"\r\n                rules={[{required: true, message: Lang.t(\"user.enterUsername\")}]}\r\n              >\r\n                <Input size=\"large\" placeholder={Lang.t(\"user.enterUsername\")} prefix={<UserOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"password\"\r\n                rules={[{required: true, message: Lang.t(\"user.enterPassword\")}]}\r\n              >\r\n                <Input.Password size=\"large\" placeholder={Lang.t(\"user.enterPassword\")} prefix={<LockOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"rePassword\"\r\n                dependencies={['password']}\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: Lang.t(\"user.enterPassword\"),\r\n                  },\r\n                  ({getFieldValue}) => ({\r\n                    validator(rule, value) {\r\n                      if (!value || getFieldValue('password') === value) {\r\n                        return Promise.resolve();\r\n                      }\r\n                      return Promise.reject(Lang.t(\"user.passwordNotSame\"));\r\n                    },\r\n                  }),\r\n                ]}\r\n              >\r\n\r\n                <Input.Password size=\"large\" placeholder={Lang.t(\"user.confirmPassword\")} prefix={<LockOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item>\r\n                <Button type=\"primary\" icon={<UserOutlined/>} block={true} htmlType=\"submit\">\r\n                  {Lang.t(\"user.register\")}\r\n                </Button>\r\n              </Form.Item>\r\n\r\n\r\n              <div className=\"text-right\">\r\n                <Link to={\"/user/login\"}>\r\n                  <span className=\"link\">{Lang.t(\"user.goToLogin\")}</span>\r\n                </Link>\r\n              </div>\r\n\r\n\r\n            </Form>\r\n\r\n          </Col>\r\n        </Row>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import BaseEntity from './BaseEntity';\r\nimport NumberUtil from '../../util/NumberUtil';\r\nimport SafeUtil from '../../util/SafeUtil';\r\nimport BrowserUtil from '../../util/BrowserUtil';\r\nimport StringUtil from '../../util/StringUtil';\r\nimport ObjectUtil from '../../util/ObjectUtil';\r\nimport Filter from './filter/Filter';\r\nimport SortFilter from './filter/SortFilter';\r\nimport HttpBase from './HttpBase';\r\n\r\n/**\r\n * 一个分页帮助器，可以去后台请求数据，也可以渲染需要数据源。\r\n * 这个类具有非常神奇的能力，可以说是整个项目含金量最高的一个类！\r\n */\r\nexport default class Pager<T> extends HttpBase {\r\n\r\n  static MAX_PAGE_SIZE = 500;\r\n\r\n  /**\r\n   * 当前分页大小 0基\r\n   */\r\n  page: number = 0;\r\n  /**\r\n   * 每一页的大小\r\n   */\r\n  pageSize: number = 10;\r\n  /**\r\n   * 总的条目数量\r\n   */\r\n  totalItems: number = 0;\r\n  /**\r\n   * 总的页数\r\n   */\r\n  totalPages: number = 0;\r\n\r\n  /**\r\n   * 返回的数据，类型为泛型\r\n   */\r\n  data: T[] = [];\r\n\r\n  /**\r\n   * 类。这个很特殊。\r\n   */\r\n  Clazz: any = null;\r\n\r\n  /**\r\n   * 分页的url链接地址\r\n   */\r\n  urlPage: string | null = null;\r\n\r\n  /**\r\n   * 过滤筛选器\r\n   */\r\n  filters: Filter[] = [];\r\n\r\n  /**\r\n   * 是否要求在浏览器中保存参数\r\n   */\r\n  history: boolean = false;\r\n\r\n\r\n  constructor(reactComponent: React.Component | null, Clazz: any, pageSize = 20) {\r\n\r\n    super(reactComponent);\r\n\r\n    this.pageSize = pageSize;\r\n\r\n    //这里的处理利用了js的原型调用链，比较魔法。\r\n    if (Clazz && (Clazz.prototype instanceof BaseEntity)) {\r\n      this.Clazz = Clazz;\r\n\r\n      let urlPage = Clazz.prototype.getUrlList();\r\n      if (urlPage) {\r\n        this.urlPage = urlPage;\r\n      } else {\r\n        console.error(Clazz + '必须定义分页url');\r\n      }\r\n\r\n      if (Clazz.prototype.getFilters) {\r\n\r\n        //直接获取该类的过滤器。\r\n        this.filters = Clazz.prototype.getFilters();\r\n\r\n      } else {\r\n\r\n        console.error('The Clazz MUST define a prototype method named \\'getFilters\\'');\r\n\r\n      }\r\n\r\n    } else {\r\n      console.error('You MUST specify a Clazz extended BaseEntity');\r\n    }\r\n  }\r\n\r\n  //把obj中的属性，赋值到this中来。采用深拷贝。\r\n  assign(obj: any) {\r\n\r\n    super.assign(obj);\r\n\r\n    this.assignList('data', this.Clazz);\r\n\r\n  }\r\n\r\n\r\n  //该方法是在地址栏添加上query参数，参数就是filters中的key和value.\r\n  //同时地址栏上有的参数也会自动读取到filters中去\r\n  //因此，启用该方法后返回时可以停留在之前的页码中。\r\n  enableHistory() {\r\n    this.history = true;\r\n\r\n    let queryPageNum: string | null = BrowserUtil.getQueryByName('page');\r\n    let queryPageSize: string | null = BrowserUtil.getQueryByName('pageSize');\r\n\r\n    if (queryPageNum !== null && queryPageNum !== '') {\r\n      this.page = parseInt(queryPageNum);\r\n    }\r\n\r\n    if (queryPageSize !== null && queryPageSize !== '') {\r\n      this.pageSize = parseInt(queryPageSize);\r\n    }\r\n\r\n    if (!NumberUtil.isInteger(this.page)) {\r\n      this.page = 0;\r\n    }\r\n    if (!NumberUtil.isInteger(this.pageSize)) {\r\n      this.pageSize = 10;\r\n    }\r\n\r\n\r\n    //从请求参数中传值。\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n\r\n      let filter: Filter = this.filters[i];\r\n\r\n      let queryValue = BrowserUtil.getQueryByName(filter.key);\r\n\r\n      if (queryValue !== null && queryValue !== '') {\r\n\r\n        filter.putValue(queryValue);\r\n\r\n      } else {\r\n        filter.reset();\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  //重置所有过滤器\r\n  resetFilter() {\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      filter.reset();\r\n    }\r\n  };\r\n\r\n  //重置排序过滤器\r\n  resetSortFilters() {\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter instanceof SortFilter) {\r\n        filter.reset();\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  //手动设置过滤器的值\r\n  setFilterValue(key: string, value: any) {\r\n    if (!this.filters || !this.filters.length) {\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n\r\n      let filter = this.filters[i];\r\n\r\n      if (filter.key === key) {\r\n        filter.putValue(value);\r\n      }\r\n\r\n    }\r\n  };\r\n\r\n  setFilterValues(obj: any) {\r\n    const keys = Object.keys(obj);\r\n    if(keys.length) {\r\n      keys.forEach(key => this.setFilterValue(key, obj[key]))\r\n    }\r\n  };\r\n\r\n\r\n  //根据key来删除某个Filter\r\n  removeFilter(key: string) {\r\n    if (!this.filters || !this.filters.length) {\r\n      return;\r\n    }\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter.key === key) {\r\n        this.filters.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  //隐藏某个Filter，实际上我们可以根据这个filter来筛选，只不过不出现在NbFilter中而已。\r\n  showFilter(key: string, visible = true) {\r\n    if (!this.filters || !this.filters.length) {\r\n      return;\r\n    }\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter.key === key) {\r\n        filter.visible = visible;\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  showAllFilter(visible = true) {\r\n    if (!this.filters || !this.filters.length) {\r\n      return;\r\n    }\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      filter.visible = visible;\r\n    }\r\n  }\r\n\r\n  //根据一个key来获取某个filter\r\n  getFilter(key: string): Filter | null {\r\n    if (!this.filters || !this.filters.length) {\r\n      return null;\r\n    }\r\n\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter.key === key) {\r\n        return filter;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  //根据一个key来获取某个filter\r\n  getFilterValue(key: string) {\r\n    let filter = this.getFilter(key);\r\n    if (!filter) {\r\n      return null\r\n    } else {\r\n      return filter.getValueString()\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * 获取当前进行sort的那个filter\r\n   * 我们认为一次只有一个排序值\r\n   */\r\n  getCurrentSortFilter(): Filter | null {\r\n\r\n    if (!this.filters || !this.filters.length) {\r\n      return null;\r\n    }\r\n\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter instanceof SortFilter) {\r\n        if (!filter.isEmpty()) {\r\n          return filter;\r\n        }\r\n      }\r\n\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  //获取所有的filter参数，键值对形式\r\n  getParams(): { [s: string]: string | number } {\r\n\r\n    let params: { [s: string]: string | number } = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n    };\r\n\r\n    if (!this.filters || !this.filters.length) {\r\n      return params;\r\n    }\r\n\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n\r\n      if (!filter.isEmpty()) {\r\n        params[filter.key] = filter.getValueString();\r\n      }\r\n    }\r\n\r\n    return params;\r\n  };\r\n\r\n\r\n  //元素是否为空\r\n  isEmpty(): boolean {\r\n    return !this.data || !this.data.length;\r\n  }\r\n\r\n  //去服务器端进行请求\r\n  httpList(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n\r\n    let that = this;\r\n\r\n    let params: { [s: string]: string | number } = this.getParams();\r\n\r\n\r\n    if (this.history) {\r\n      window.history.replaceState({}, '', window.location.pathname + '?' + ObjectUtil.param(params));\r\n    }\r\n\r\n\r\n    //准备去请求，所有错误置为空\r\n    this.errorMessage = null;\r\n\r\n    this.httpGet(this.urlPage, params, function(response: any) {\r\n      // handle success\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, function(errorMessage: any, response: any) {\r\n\r\n      //失败了就清空\r\n      that.data = [];\r\n\r\n      SafeUtil.safeCallback(errorCallback)(errorMessage, response);\r\n\r\n    }, finalCallback);\r\n\r\n  }\r\n\r\n\r\n  //从pager中获取当前的分页情况，在table的分页器中显示 PaginationConfig\r\n  getPagination(): any | false {\r\n    let that = this;\r\n\r\n    if (this.totalPages > 1) {\r\n      return {\r\n        current: that.page + 1,\r\n        pageSize: that.pageSize,\r\n        total: that.totalItems,\r\n        showTotal: (totalNum: number) => '共' + totalNum + '条',\r\n        showSizeChanger: true,\r\n      };\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  //获取默认的排序顺序,提供给table使用\r\n  getDefaultSortOrder(columnKey: string): any | boolean {\r\n\r\n    //将变化的这个情况更新。\r\n    let filterKey = 'order' + StringUtil.capitalize(columnKey);\r\n\r\n    //直接放进排序值即可，底层会自动兼容\r\n    let sortFilter = this.getFilter(filterKey);\r\n\r\n    if (sortFilter && (sortFilter instanceof SortFilter)) {\r\n\r\n      let antdSortValue: any | null = sortFilter.getAntdValue();\r\n      if (antdSortValue) {\r\n        return antdSortValue;\r\n      } else {\r\n        return false;\r\n      }\r\n\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  //在table的分页器 发生变化调用 TODO: PaginationConfig SorterResult TableCurrentDataSource\r\n  tableOnChange(pagination: any, filters: any, sorter: any, extra: any) {\r\n    let that = this;\r\n\r\n    if (pagination.current !== undefined) {\r\n      that.page = pagination.current - 1;\r\n    }\r\n\r\n    if (pagination.pageSize !== undefined) {\r\n\r\n      that.pageSize = pagination.pageSize;\r\n    }\r\n\r\n\r\n    //重置所有的sort\r\n    that.resetSortFilters();\r\n    if (!StringUtil.isEmptyObject(sorter)) {\r\n\r\n      //将变化的这个情况更新。\r\n      let filterKey = 'order' + StringUtil.capitalize(StringUtil.underScoreToCamel(sorter.field));\r\n\r\n\r\n      //直接放进排序值即可，底层会自动兼容\r\n      that.setFilterValue(filterKey, sorter.order);\r\n\r\n    }\r\n\r\n    //直接去刷新\r\n    that.httpList();\r\n  }\r\n\r\n  //清空data中的数据。\r\n  clear() {\r\n    this.data = [];\r\n    this.page = 0;\r\n    this.totalItems = 0;\r\n    this.totalPages = 0;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import MimeUtil from \"./MimeUtil\";\r\nimport StringUtil from \"./StringUtil\";\r\nimport Moon from \"../model/global/Moon\";\r\nimport Lang from \"../model/global/Lang\";\r\n\r\nexport default class FileUtil {\r\n  static isImage(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"image\");\r\n  }\r\n\r\n  static isPdf(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"application/pdf\");\r\n  }\r\n\r\n  static isText(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"text\");\r\n  }\r\n\r\n  static isDoc(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return (\r\n      StringUtil.startWith(mimeType, \"application/msword\") ||\r\n      StringUtil.startWith(\r\n        mimeType,\r\n        \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\r\n      )\r\n    );\r\n  }\r\n\r\n  static isPpt(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return (\r\n      StringUtil.startWith(mimeType, \"application/vnd.ms-powerpoint\") ||\r\n      StringUtil.startWith(\r\n        mimeType,\r\n        \"application/vnd.openxmlformats-officedocument.presentationml.presentation\"\r\n      )\r\n    );\r\n  }\r\n\r\n  static isXls(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return (\r\n      StringUtil.startWith(mimeType, \"application/vnd.ms-excel\") ||\r\n      StringUtil.startWith(\r\n        mimeType,\r\n        \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n      )\r\n    );\r\n  }\r\n\r\n  static isAudio(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"audio\");\r\n  }\r\n\r\n  static isVideo(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"video\");\r\n  }\r\n\r\n  static isPsd(name: string | null): boolean {\r\n    let extension = MimeUtil.getExtension(name);\r\n    return extension === \".psd\";\r\n  }\r\n\r\n  /**\r\n   * 根据名字获取对应的图标。imageIcon传值了，那么图片格式采用imageIcon\r\n   * @param name\r\n   * @param idDir\r\n   */\r\n  static getIcon(name: string | null, idDir: boolean = false): any {\r\n    if (idDir) {\r\n      return require(\"../../assets/image/file/folder.svg\");\r\n    }\r\n\r\n    if (FileUtil.isPdf(name)) {\r\n      return require(\"../../assets/image/file/pdf.svg\");\r\n    } else if (FileUtil.isDoc(name)) {\r\n      return require(\"../../assets/image/file/doc.svg\");\r\n    } else if (FileUtil.isPpt(name)) {\r\n      return require(\"../../assets/image/file/ppt.svg\");\r\n    } else if (FileUtil.isXls(name)) {\r\n      return require(\"../../assets/image/file/xls.svg\");\r\n    } else if (FileUtil.isAudio(name)) {\r\n      return require(\"../../assets/image/file/audio.svg\");\r\n    } else if (\r\n      FileUtil.isVideo(name) ||\r\n      MimeUtil.getExtension(name) === \".mkv\"\r\n    ) {\r\n      return require(\"../../assets/image/file/video.svg\");\r\n    } else if (FileUtil.isText(name)) {\r\n      return require(\"../../assets/image/file/text.svg\");\r\n    } else if (FileUtil.isPsd(name)) {\r\n      return require(\"../../assets/image/file/psd.svg\");\r\n    } else if (FileUtil.isImage(name)) {\r\n      return require(\"../../assets/image/file/image.svg\");\r\n    } else if (\r\n      StringUtil.endWith(name, \"zip\") ||\r\n      StringUtil.endWith(name, \"rar\") ||\r\n      StringUtil.endWith(name, \"7z\") ||\r\n      StringUtil.endWith(name, \"tar\") ||\r\n      StringUtil.endWith(name, \"tar\") ||\r\n      StringUtil.endWith(name, \"gz\")\r\n    ) {\r\n      return require(\"../../assets/image/file/archive.svg\");\r\n    } else {\r\n      return require(\"../../assets/image/file/file.svg\");\r\n    }\r\n  }\r\n\r\n\r\n  //把一个大小转变成方便读的格式\r\n  //human readable file size\r\n  static humanFileSize(bytes: number, si: boolean = false): string {\r\n    if (bytes == -1) {\r\n      return Lang.t(\"preference.noLimit\")\r\n    }\r\n\r\n    let thresh = si ? 1000 : 1024\r\n    if (Math.abs(bytes) < thresh) {\r\n      return bytes + ' B'\r\n    }\r\n    let units = si\r\n      ? ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\r\n      : ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\r\n    let u = -1\r\n    do {\r\n      bytes /= thresh\r\n      ++u\r\n    } while (Math.abs(bytes) >= thresh && u < units.length - 1)\r\n    return bytes.toFixed(1) + ' ' + units[u]\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\n\r\nimport {Input} from 'antd';\r\nimport InputFilter from \"../../../common/model/base/filter/InputFilter\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\n\r\n\r\ninterface IProps {\r\n  inputFilter: InputFilter\r\n  onChange?: (value: string | null) => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class InputFilterBox extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n\r\n  }\r\n\r\n  //改变某个filter的值\r\n  onValueChange(event: any) {\r\n\r\n    let that = this\r\n\r\n    let inputFilter: InputFilter = this.props.inputFilter\r\n\r\n    inputFilter.value = event.target.value\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onChange)(inputFilter.value)\r\n\r\n    //更新UI\r\n    that.setState({})\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let inputFilter: InputFilter = this.props.inputFilter\r\n\r\n    return (\r\n      <span className=\"filter-block input-filter-box\">\r\n          <span className=\"filter-cell\">\r\n              <span className=\"filter-name\">\r\n                {inputFilter.name}\r\n              </span>\r\n              <span className=\"filter-body\">\r\n                <Input\r\n                  placeholder={inputFilter.placeholder}\r\n                  value={inputFilter.value}\r\n                  onChange={this.onValueChange.bind(this)}/>\r\n              </span>\r\n          </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import Filter from \"./Filter\";\r\nimport DateUtil from \"../../../util/DateUtil\";\r\n\r\n\r\n/**\r\n *\r\n * 时间筛选器\r\n *\r\n */\r\nexport default class DateTimeFilter extends Filter {\r\n\r\n  //时间筛选的格式\r\n  format: string\r\n\r\n  //值，最终填写的内容。null表示这个值不设置\r\n  value: Date | null = null\r\n\r\n  constructor(name: string, code: string, format?: string, visible?: boolean) {\r\n    super(name, code, visible)\r\n    if (format) {\r\n      this.format = format\r\n    } else {\r\n      this.format = DateUtil.DEFAULT_FORMAT\r\n    }\r\n  }\r\n\r\n  //获取值字符串\r\n  getValueString(): string {\r\n    if (this.value) {\r\n      return DateUtil.format(this.value, this.format)\r\n    } else {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n\r\n  //通过一个字符串来设置值\r\n  putValue(value: string) {\r\n\r\n    this.value = DateUtil.parse(value)\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = null\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === null;\r\n  }\r\n\r\n\r\n\r\n}\r\n","import React from 'react';\r\n\r\nimport {DatePicker} from 'antd';\r\nimport moment from \"moment\";\r\nimport DateTimeFilter from \"../../../common/model/base/filter/DateTimeFilter\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\n\r\ninterface IProps {\r\n  dateTimeFilter: DateTimeFilter\r\n  onChange?: (value: Date | null) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\n\r\nclass DateTimeFilterBox extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  //改变某个filter的值\r\n  onValueChange(momentTime: moment.Moment | null, dateString: string) {\r\n\r\n    let that = this\r\n\r\n    let filter = this.props.dateTimeFilter\r\n\r\n    if (momentTime) {\r\n\r\n      filter.value = momentTime.toDate()\r\n\r\n    } else {\r\n      filter.value = null\r\n    }\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onChange)(filter.value)\r\n\r\n    //更新UI\r\n    that.setState({})\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let dateTimeFilter = this.props.dateTimeFilter\r\n\r\n    let value: moment.Moment | undefined = undefined\r\n    if (dateTimeFilter.value) {\r\n      value = moment(dateTimeFilter.value)\r\n    }\r\n\r\n    return (\r\n      <span className=\"filter-block date-time-filter-box\">\r\n          <span className=\"filter-cell\">\r\n              <span className=\"filter-name\">\r\n                {dateTimeFilter.name}\r\n              </span>\r\n              <span className=\"filter-body\">\r\n\r\n                <DatePicker\r\n                  showTime\r\n                  format={dateTimeFilter.format}\r\n                  value={value}\r\n                  placeholder=\"请选择日期时间\"\r\n                  onChange={(date: moment.Moment | null, dateString: string) => {\r\n                    that.onValueChange(date, dateString)\r\n                  }}/>\r\n              </span>\r\n          </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateTimeFilterBox;\r\n","import Filter from \"./Filter\";\r\n\r\n\r\n/**\r\n *\r\n * Checkbox筛选框过滤器\r\n *\r\n */\r\nexport default class CheckFilter extends Filter {\r\n\r\n  //值，最终填写的内容。null表示这个值不设置\r\n  value: boolean | null = null\r\n\r\n  constructor(name: string, code: string, visible?: boolean) {\r\n    super(name, code, visible)\r\n  }\r\n\r\n\r\n  //获取值字符串，[null,true,false] => [\"\",\"true\",\"false\"]\r\n  getValueString(): string {\r\n    let stringValue = \"\"\r\n    if (this.value === true) {\r\n      stringValue = \"true\"\r\n    } else if (this.value === false) {\r\n      stringValue = \"false\"\r\n    } else {\r\n      stringValue = \"\"\r\n    }\r\n    return stringValue\r\n  }\r\n\r\n  //通过一个字符串来设置值\r\n  putValue(value: any) {\r\n\r\n    if (value === \"true\" || value === true) {\r\n      this.value = true\r\n    } else if (value === \"false\" || value === false) {\r\n      this.value = false\r\n    } else {\r\n      this.value = null\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.value = null\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === null;\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\n\r\nimport {Select} from 'antd';\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport CheckFilter from \"../../../common/model/base/filter/CheckFilter\";\r\n\r\nconst Option = Select.Option;\r\n\r\ninterface IProps {\r\n  checkFilter: CheckFilter\r\n  onChange?: (value: boolean | null) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class CheckFilterBox extends React.Component <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  //改变某个filter的值\r\n  onValueChange = (value: string) => {\r\n\r\n    let that = this\r\n\r\n    let checkFilter = this.props.checkFilter\r\n\r\n    checkFilter.putValue(value)\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onChange)(checkFilter.value)\r\n\r\n    //更新UI\r\n    that.setState({})\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let checkFilter = this.props.checkFilter\r\n\r\n    //用于回填的值\r\n    let backValue = checkFilter.getValueString()\r\n\r\n    return (\r\n      <span className=\"filter-block check-filter-box\">\r\n\r\n        <span className=\"filter-cell\">\r\n          <span className=\"filter-name\">\r\n            {checkFilter.name}\r\n          </span>\r\n\r\n          <Select value={backValue} style={{minWidth: 120}}\r\n                  onChange={this.onValueChange}>\r\n            <Option key={0} value={\"\"}>全部</Option>\r\n            <Option key={1} value={\"true\"}>是</Option>\r\n            <Option key={2} value={\"false\"}>否</Option>\r\n          </Select>\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\n\r\nimport {Radio, Select} from 'antd';\r\nimport SelectionFilter from \"../../../common/model/base/filter/SelectionFilter\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport SelectionOption from \"../../../common/model/base/option/SelectionOption\";\r\nimport SelectionFilterType from \"../../../common/model/base/filter/SelectionFilterType\";\r\n\r\n\r\nconst Option = Select.Option;\r\n\r\ninterface IProps {\r\n  selectionFilter: SelectionFilter\r\n  onChange?: (value: string) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class SelectionFilterBox extends React.Component <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  //改变某个filter的值\r\n  onValueChange = (value: any) => {\r\n\r\n    let that = this\r\n\r\n    let selectionFilter = this.props.selectionFilter\r\n\r\n    selectionFilter.value = value\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onChange)()\r\n\r\n    //更新UI\r\n    that.setState({})\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let selectionFilter = this.props.selectionFilter\r\n\r\n    if (selectionFilter.selectionType === SelectionFilterType.COMBOBOX) {\r\n      return (\r\n        <span className=\"filter-block selection-combobox-filter-box\">\r\n          <span className=\"filter-cell\">\r\n            <span className=\"filter-name\">\r\n              {selectionFilter.name}\r\n            </span>\r\n            <Select value={selectionFilter.value} style={{minWidth: 120}} onChange={this.onValueChange}>\r\n              <Option key={-1} value={\"\"}>全部</Option>\r\n              {\r\n                selectionFilter.options.map((item: SelectionOption, index: number) => {\r\n                  return <Option key={index} value={item.value}>{item.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </span>\r\n        </span>\r\n      );\r\n    } else {\r\n      return (\r\n        <span className=\"filter-block selection-button-filter-box\">\r\n          <span className=\"filter-cell\">\r\n              <span className=\"filter-name\">\r\n                  {selectionFilter.name}\r\n              </span>\r\n              <Radio.Group\r\n                onChange={(e) => {\r\n                  this.onValueChange(e.target.value)\r\n                }}\r\n                //不希望对\"全部\"进行回填。\r\n                value={selectionFilter.value === '' ? undefined : selectionFilter.value}\r\n              >\r\n                <Radio.Button value={''}>全部</Radio.Button>\r\n                {selectionFilter.options ?\r\n                  selectionFilter.options.map((item: SelectionOption, index: number) => {\r\n                    return <Radio.Button key={index} value={item.value}>{item.name}</Radio.Button>\r\n                  })\r\n                  : null}\r\n              </Radio.Group>\r\n          </span>\r\n        </span>\r\n\r\n      );\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\n\r\nimport {Select} from 'antd';\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport SortFilter from \"../../../common/model/base/filter/SortFilter\";\r\nimport SortDirection from \"../../../common/model/base/SortDirection\";\r\n\r\nconst Option = Select.Option;\r\n\r\ninterface IProps {\r\n  sortFilter: SortFilter\r\n  onChange?: (value: SortDirection | null) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class SortFilterBox extends React.Component <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  //改变某个filter的值\r\n  onValueChange = (value: string) => {\r\n\r\n    let that = this\r\n\r\n    let sortFilter = this.props.sortFilter\r\n\r\n    sortFilter.putValue(value)\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onChange)(sortFilter.value)\r\n\r\n    //更新UI\r\n    that.setState({})\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let sortFilter = this.props.sortFilter\r\n\r\n    return (\r\n      <span className=\"filter-block sort-filter-box\">\r\n\r\n        <span className=\"filter-cell\">\r\n          <span className=\"filter-name\">\r\n            {sortFilter.name}\r\n          </span>\r\n\r\n          <Select value={sortFilter.getValueString()} style={{minWidth: 120}}\r\n                  onChange={this.onValueChange}>\r\n            <Option key={0} value={\"\"}>全部</Option>\r\n            <Option key={1} value={SortDirection.DESC}>倒序排列</Option>\r\n            <Option key={2} value={SortDirection.ASC}>顺序排列</Option>\r\n          </Select>\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import SelectionFilter from \"./SelectionFilter\";\r\nimport SelectionFilterType from \"./SelectionFilterType\";\r\n\r\n\r\n/**\r\n *\r\n * 从远程拉取一个筛选项的过滤器\r\n *\r\n */\r\nexport default class HttpSelectionFilter extends SelectionFilter {\r\n\r\n  //远程的访问链接。\r\n  url: string\r\n\r\n  constructor(name: string, code: string, url: string, selectionType?: SelectionFilterType, visible?: boolean) {\r\n    super(name, code, [], selectionType, visible)\r\n    this.url = url\r\n  }\r\n\r\n  //通过一个字符串来设置值\r\n  //远程调用的值必须要宽容，因为值可能还没有从远程取回来呢。\r\n  putValue(value: string) {\r\n    this.value = value\r\n  }\r\n\r\n  //严格的回填，采用父类的策略\r\n  //这个方法会在http请求完成了之后调用。HttpSelectionFilter中会调用\r\n  strictPutValue(value: string) {\r\n    super.putValue(value)\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\n\r\nimport {Radio, Select} from \"antd\"\r\nimport HttpUtil from \"../../../common/util/HttpUtil\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport SelectionOption from \"../../../common/model/base/option/SelectionOption\";\r\nimport HttpSelectionFilter from \"../../../common/model/base/filter/HttpSelectionFilter\";\r\nimport SelectionFilterType from \"../../../common/model/base/filter/SelectionFilterType\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\n\r\n\r\nconst Option = Select.Option;\r\n\r\ninterface IProps {\r\n  httpSelectionFilter: HttpSelectionFilter\r\n  onChange?: (value: string) => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n\r\nexport default class HttpSelectionFilterBox extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.refresh()\r\n  }\r\n\r\n  refresh() {\r\n    //刷新一下列表\r\n    let that = this\r\n\r\n    let filter = this.props.httpSelectionFilter\r\n\r\n    let url = filter.url\r\n\r\n    HttpUtil.httpGet(url, {}, function (response: any) {\r\n\r\n      //尝试一次回填。因为这个时候才知道之前那个值是否有效。\r\n      filter.options = response.data.data\r\n      filter.strictPutValue(filter.value)\r\n\r\n      that.updateUI()\r\n    })\r\n\r\n  }\r\n\r\n  //改变某个filter的值\r\n  onValueChange = (value: any) => {\r\n    let that = this\r\n\r\n    let filter = this.props.httpSelectionFilter\r\n\r\n    filter.value = value\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onChange)(filter.value)\r\n\r\n    //更新UI\r\n    that.updateUI()\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let filter = this.props.httpSelectionFilter\r\n\r\n    let selectionOptions = filter.options\r\n\r\n    if (filter.selectionType === SelectionFilterType.COMBOBOX) {\r\n      return (\r\n        <span className=\"filter-block http-selection-combobox-filter-box\">\r\n        <span className=\"filter-cell\">\r\n          <span className=\"filter-name\">\r\n                {filter.name}\r\n            </span>\r\n          <Select value={filter.value} style={{minWidth: 180}} onChange={this.onValueChange}>\r\n            <Option key={-1} value={\"\"}>全部</Option>\r\n            {\r\n              selectionOptions.map((item: SelectionOption, index: number) => {\r\n                return <Option title={item.name} key={index} value={item.value}>{item.name}</Option>\r\n              })\r\n            }\r\n          </Select>\r\n        </span>\r\n    </span>);\r\n    } else {\r\n      return (\r\n        <span className=\"filter-block http-selection-button-filter-box\">\r\n          <span className=\"filter-cell\">\r\n\r\n            <span className=\"filter-name\">\r\n                  {filter.name}\r\n              </span>\r\n              <Radio.Group\r\n                onChange={(e) => {\r\n                  this.onValueChange(e.target.value)\r\n                }}\r\n                //不希望对\"全部\"进行回填。\r\n                value={filter.value === '' ? undefined : filter.value}\r\n              >\r\n                <Radio.Button value={''}>全部</Radio.Button>\r\n                {\r\n                  selectionOptions.map((item: SelectionOption, index: number) => {\r\n                    return <Radio.Button key={index} value={item.value}>{item.name}</Radio.Button>\r\n                  })\r\n                }\r\n              </Radio.Group>\r\n          </span>\r\n        </span>\r\n\r\n      );\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport {DatePicker} from 'antd';\r\nimport moment from \"moment\";\r\nimport {default as DateFilter} from \"../../../common/model/base/filter/DateFilter\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\n\r\ninterface IProps {\r\n  dateFilter: DateFilter\r\n  onChange?: (value: Date | null) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\n\r\nclass DateFilterBox extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  //改变某个filter的值\r\n  onValueChange(momentTime: moment.Moment | null, dateString: string) {\r\n\r\n    let that = this\r\n\r\n    let filter = this.props.dateFilter\r\n\r\n    if (momentTime) {\r\n\r\n      filter.value = momentTime.toDate()\r\n\r\n    } else {\r\n      filter.value = null\r\n    }\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onChange)(filter.value)\r\n\r\n    //更新UI\r\n    that.setState({})\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let dateFilter = this.props.dateFilter\r\n\r\n    let value: moment.Moment | undefined = undefined\r\n    if (dateFilter.value) {\r\n      value = moment(dateFilter.value)\r\n    }\r\n\r\n    return (\r\n      <span className=\"filter-block date-time-filter-box\">\r\n          <span className=\"filter-cell\">\r\n              <span className=\"filter-name\">\r\n                {dateFilter.name}\r\n              </span>\r\n              <span className=\"filter-body\">\r\n\r\n                <DatePicker\r\n                  showTime\r\n                  format={dateFilter.format}\r\n                  value={value}\r\n                  placeholder=\"请选择日期\"\r\n                  onChange={(date: moment.Moment | null, dateString: string) => {\r\n                    that.onValueChange(date, dateString)\r\n                  }}/>\r\n              </span>\r\n          </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateFilterBox;\r\n","import Filter from \"./Filter\";\r\nimport DateUtil from \"../../../util/DateUtil\";\r\n\r\n\r\n/**\r\n *\r\n * 时间筛选器\r\n *\r\n */\r\nexport default class DateFilter extends Filter {\r\n\r\n  //时间筛选的格式\r\n  format: string\r\n\r\n  //值，最终填写的内容。null表示这个值不设置\r\n  value: Date | null = null\r\n\r\n  constructor(name: string, code: string, format?: string, visible?: boolean) {\r\n    super(name, code, visible)\r\n    if (format) {\r\n      this.format = format\r\n    } else {\r\n      this.format = DateUtil.DATE_FORMAT\r\n    }\r\n  }\r\n\r\n  //获取值字符串\r\n  getValueString(): string {\r\n    if (this.value) {\r\n      return DateUtil.format(this.value, this.format)\r\n    } else {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n\r\n  //通过一个字符串来设置值\r\n  putValue(value: string) {\r\n\r\n    this.value = DateUtil.parse(value)\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = null\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === null;\r\n  }\r\n\r\n\r\n\r\n}\r\n","import React from 'react';\r\nimport './FilterPanel.less';\r\nimport SafeUtil from '../../../common/util/SafeUtil';\r\nimport Filter from '../../../common/model/base/filter/Filter';\r\nimport InputFilter from '../../../common/model/base/filter/InputFilter';\r\nimport InputFilterBox from './InputFilterBox';\r\nimport DateTimeFilter from '../../../common/model/base/filter/DateTimeFilter';\r\nimport DateTimeFilterBox from './DateTimeFilterBox';\r\nimport CheckFilter from '../../../common/model/base/filter/CheckFilter';\r\nimport CheckFilterBox from './CheckFilterBox';\r\nimport SelectionFilter from '../../../common/model/base/filter/SelectionFilter';\r\nimport SelectionFilterBox from './SelectionFilterBox';\r\nimport SortFilter from '../../../common/model/base/filter/SortFilter';\r\nimport SortFilterBox from './SortFilterBox';\r\nimport HttpSelectionFilter from '../../../common/model/base/filter/HttpSelectionFilter';\r\nimport HttpSelectionFilterBox from './HttpSelectionFilterBox';\r\nimport {Button} from 'antd';\r\n\r\nimport DateFilterBox from './DateFilterBox';\r\nimport DateFilter from '../../../common/model/base/filter/DateFilter';\r\n\r\n\r\ninterface IProps {\r\n  onChange?: (value: any, key: any) => void\r\n\r\n  filters: Filter[]\r\n\r\n  //Selection 筛选宽松模式 会使用Button，单独占一行的模式。\r\n  selectionButtonLoose?: boolean\r\n\r\n  //重置按钮触发\r\n  onReset?: () => void\r\n\r\n  //懒搜索模式，点击按钮时才触发搜索的动作，当传递了内容，就会出现搜索按钮。\r\n  onSearch?: () => void\r\n\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\n\r\n/**\r\n * 这里是筛选面板。\r\n * 如果需要调整筛选面板的样式。\r\n * 请在自己的类中，通过css覆盖的方式来修改样式。\r\n */\r\nexport default class FilterPanel extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  //当改变某个filter的值\r\n  onChildChange(value: any, key: any) {\r\n\r\n    let that = this;\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onChange)(value, key);\r\n\r\n    //更新UI\r\n    that.setState({});\r\n\r\n  }\r\n\r\n  //当改变某个filter的值\r\n  onReset() {\r\n\r\n    let that = this;\r\n    let filters = that.props.filters;\r\n\r\n    for (let i = 0; i < filters.length; i++) {\r\n      let filter = filters[i];\r\n      filter.reset();\r\n    }\r\n\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onReset)();\r\n\r\n    //更新UI\r\n    that.setState({});\r\n  }\r\n\r\n\r\n  //当改变某个filter的值\r\n  onSearch() {\r\n\r\n    let that = this;\r\n\r\n    //通知外面变化了。\r\n    SafeUtil.safeCallback(that.props.onSearch)();\r\n\r\n    //更新UI\r\n    that.setState({});\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    //router中传入的路由相关对象\r\n    let filters = this.props.filters;\r\n\r\n    let needSearchButton: boolean = !!this.props.onSearch;\r\n\r\n    let needResetButton: boolean = !!this.props.onReset;\r\n\r\n    return (\r\n      <div className={`widget-filter-panel ${this.props.selectionButtonLoose ? 'selection-button-loose' : ''}`}>\r\n        {\r\n          filters.map(((filter: Filter, index: number) => {\r\n\r\n            if ((filter instanceof InputFilter) && filter.visible) {\r\n              return (\r\n                <InputFilterBox key={index} inputFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof DateTimeFilter) && filter.visible) {\r\n              return (\r\n                <DateTimeFilterBox key={index} dateTimeFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof DateFilter) && filter.visible) {\r\n              return (\r\n                <DateFilterBox key={index} dateFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof CheckFilter) && filter.visible) {\r\n              return (\r\n                <CheckFilterBox key={index} checkFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof HttpSelectionFilter) && filter.visible) {\r\n              //注意，子类放前面，父类放后面\r\n              return (\r\n                <HttpSelectionFilterBox key={index} httpSelectionFilter={filter}\r\n                                        onChange={(val) => {\r\n                                          that.onChildChange(val, filter.key);\r\n                                        }}/>\r\n              );\r\n            } else if ((filter instanceof SelectionFilter) && filter.visible) {\r\n              return (\r\n                <SelectionFilterBox key={index} selectionFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof SortFilter) && filter.visible) {\r\n              return (\r\n                <SortFilterBox key={index} sortFilter={filter}\r\n                               onChange={(val) => {\r\n                                 that.onChildChange(val, filter.key);\r\n                               }}/>\r\n              );\r\n            } else {\r\n              return null;\r\n            }\r\n\r\n          }))\r\n        }\r\n\r\n        <div className=\"operation-area\">\r\n          <Button\r\n            className={`${needResetButton ? '' : 'display-none'}`}\r\n\r\n            onClick={this.onReset.bind(this)}>\r\n            重置条件\r\n          </Button>\r\n\r\n          <Button\r\n            className={`${needSearchButton ? '' : 'display-none'}`}\r\n            type=\"primary\"\r\n            onClick={this.onSearch.bind(this)}>\r\n            搜索\r\n          </Button>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport {Empty} from 'antd';\r\nimport EmptyImage from \"../../assets/image/empty.svg\"\r\nimport ErrorImage from \"../../assets/image/error.png\"\r\nimport SafeUtil from \"../../common/util/SafeUtil\";\r\nimport \"./TableEmpty.less\"\r\nimport Pager from \"../../common/model/base/Pager\";\r\n\r\ninterface IProps {\r\n  pager: Pager<any>\r\n  onRefresh?: () => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nclass TableEmpty extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let pager = this.props.pager\r\n\r\n\r\n    let emptyContent = (\r\n      <div className=\"empty-content\">\r\n        <Empty\r\n          image={EmptyImage}\r\n          description=\"暂无数据\"\r\n        >\r\n          <span className=\"link\" onClick={event => {\r\n            SafeUtil.safeCallback(that.props.onRefresh)()\r\n          }\r\n          }>点击重试</span>\r\n        </Empty>\r\n      </div>\r\n    )\r\n    let errorContent = (\r\n      <div className=\"error-content\">\r\n        <Empty\r\n          image={ErrorImage}\r\n          description={pager.errorMessage}\r\n        >\r\n          <span className=\"link\" onClick={event => {\r\n            SafeUtil.safeCallback(that.props.onRefresh)()\r\n          }\r\n          }>点击重试</span>\r\n        </Empty>\r\n      </div>\r\n    )\r\n\r\n    return (\r\n      <div className=\"widget-table-empty\">\r\n        {pager.errorMessage ? errorContent : (pager.data.length ? \"\" : emptyContent)}\r\n      </div>\r\n\r\n    )\r\n      ;\r\n  }\r\n}\r\n\r\nexport default TableEmpty;\r\n","import React from \"react\";\r\nimport \"./TankTitle.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\n\r\ninterface IProps {\r\n  name: React.ReactNode;\r\n}\r\n\r\ninterface IState {}\r\n\r\n/**\r\n * 标题导航快捷插件\r\n */\r\nexport default class TankTitle extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"widget-tank-title\">\r\n        <span className=\"item active\">\r\n          {this.props.name}\r\n        </span>\r\n        <span className=\"tool\">\r\n          {this.props.children}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import SafeUtil from \"./SafeUtil\";\r\n\r\nexport default class ClipboardUtil {\r\n\r\n\r\n  /**\r\n   * 复制一段文字到粘贴板。\r\n   *\r\n   */\r\n  static copy(text: string, successCallback: () => void, errorCallback?: () => void) {\r\n\r\n    let className = \"clipboard-textarea-util\"\r\n\r\n    let textAreaElement: HTMLTextAreaElement | null = document.querySelector(\".\" + className);\r\n\r\n    if (!textAreaElement) {\r\n      textAreaElement = document.createElement(\"textarea\")\r\n      textAreaElement.className = className\r\n      textAreaElement.style.cssText = \"position:fixed;opacity:0;z-index:0;width:5px;height:5px;\"\r\n      document.body.appendChild(textAreaElement)\r\n    }\r\n\r\n    textAreaElement.value = text\r\n    textAreaElement.select();\r\n\r\n    try {\r\n      let successful = document.execCommand('copy');\r\n      if (successful) {\r\n        successCallback()\r\n      } else {\r\n        SafeUtil.safeCallback(errorCallback)()\r\n      }\r\n    } catch (err) {\r\n      console.error('复制失败', err);\r\n      SafeUtil.safeCallback(errorCallback)()\r\n    }\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport Button from 'antd/lib/button';\r\nimport {Modal} from \"antd\"\r\nimport \"./TransfigurationModal.less\"\r\nimport User from \"../../../common/model/user/User\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport BrowserUtil from \"../../../common/util/BrowserUtil\";\r\nimport ClipboardUtil from \"../../../common/util/ClipboardUtil\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  user: User\r\n  onClose: () => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class TransfigurationModal extends TankComponent<IProps, IState> {\r\n\r\n  authentication: string = \"\"\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    let that = this\r\n\r\n    this.props.user.httpTransfiguration(function (text: string) {\r\n\r\n      that.authentication = text\r\n      that.updateUI()\r\n\r\n    })\r\n\r\n  }\r\n\r\n  static open(user: User) {\r\n\r\n    let modal = Modal.success({\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\"\r\n      },\r\n      icon: null,\r\n      content: <TransfigurationModal\r\n        user={user}\r\n        onClose={() => {\r\n          modal.destroy()\r\n        }}/>,\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n    let that = this\r\n\r\n    let textToCopy = BrowserUtil.fullHost() + \"/user/authentication/\" + that.authentication\r\n\r\n    return (\r\n      <div className=\"widget-transfiguration-modal\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>\r\n            {Lang.t(\"user.transfigurationPromptText\")}\r\n          </h2>\r\n        </div>\r\n        <div>\r\n          {Lang.t(\"user.transfigurationPrompt\")}\r\n        </div>\r\n        <div>\r\n          {textToCopy}\r\n        </div>\r\n\r\n        <div className=\"text-center mt20\">\r\n\r\n          <Button className=\"ml20\" type=\"default\" onClick={() => {\r\n            this.props.onClose()\r\n          }}>{Lang.t(\"close\")}</Button>\r\n\r\n          <Button className=\"ml20\"\r\n                  type=\"primary\"\r\n                  onClick={() => {\r\n\r\n                    ClipboardUtil.copy(textToCopy, function () {\r\n                      MessageBoxUtil.success(Lang.t(\"copySuccess\"))\r\n                      that.props.onClose()\r\n                    }, function () {\r\n                      MessageBoxUtil.error(Lang.t(\"copyError\"))\r\n                    })\r\n                  }}>{Lang.t(\"copy\")}</Button>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {Link, RouteComponentProps} from 'react-router-dom';\r\nimport './List.less';\r\nimport SortDirection from '../../common/model/base/SortDirection';\r\nimport Pager from '../../common/model/base/Pager';\r\nimport StringUtil from '../../common/util/StringUtil';\r\nimport FileUtil from '../../common/util/FileUtil';\r\nimport DateUtil from '../../common/util/DateUtil';\r\nimport FilterPanel from '../widget/filter/FilterPanel';\r\nimport TableEmpty from '../widget/TableEmpty';\r\nimport User from \"../../common/model/user/User\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport {ColumnProps} from 'antd/lib/table';\r\nimport {Table, Button, Modal, Tag, Tooltip} from \"antd\";\r\nimport {CheckCircleOutlined, PlusOutlined, StopOutlined, UserSwitchOutlined} from '@ant-design/icons';\r\nimport {UserRoleMap} from \"../../common/model/user/UserRole\";\r\nimport {UserStatus, UserStatusMap} from \"../../common/model/user/UserStatus\";\r\nimport {DeleteOutlined, EditOutlined, ExclamationCircleFilled} from \"@ant-design/icons/lib\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Color from \"../../common/model/base/option/Color\";\r\nimport TransfigurationModal from \"./widget/TransfigurationModal\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\n\r\n\r\ninterface IProps extends RouteComponentProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n\r\nexport default class List extends TankComponent<IProps, IState> {\r\n\r\n  //获取分页的一个帮助器\r\n  pager: Pager<User> = new Pager<User>(this, User, 10);\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    //刷新一下列表\r\n    let that = this;\r\n\r\n    that.pager.enableHistory();\r\n\r\n    that.refresh();\r\n  }\r\n\r\n  search() {\r\n    let that = this;\r\n    that.pager.page = 0;\r\n    that.refresh();\r\n  }\r\n\r\n  refresh() {\r\n\r\n    let that = this;\r\n\r\n    //如果没有任何的排序，默认使用时间倒序\r\n    if (!that.pager.getCurrentSortFilter()) {\r\n      that.pager.setFilterValue('orderCreateTime', SortDirection.DESC);\r\n    }\r\n\r\n    that.pager.httpList();\r\n  }\r\n\r\n  toggleStatus(user: User) {\r\n    let that = this\r\n    user.httpToggleStatus(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"))\r\n      that.updateUI()\r\n    })\r\n  }\r\n\r\n\r\n  delete(user: User) {\r\n    let that = this\r\n    Modal.confirm({\r\n      title: Lang.t(\"user.deleteHint\", user.username),\r\n      icon: <ExclamationCircleFilled twoToneColor={Color.WARNING}/>,\r\n      onOk: () => {\r\n        user.httpDel(function () {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"))\r\n          that.refresh()\r\n        })\r\n      },\r\n    });\r\n\r\n  }\r\n\r\n\r\n  transfiguration(user: User) {\r\n\r\n    let that = this\r\n    TransfigurationModal.open(user)\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n\r\n    //router中传入的路由相关对象\r\n    let match = this.props.match;\r\n\r\n    //pager对象\r\n    let pager = this.pager;\r\n\r\n    let user: User = Moon.getSingleton().user\r\n\r\n    const columns: ColumnProps<User>[] = [{\r\n      title: Lang.t(\"user.avatar\"),\r\n      dataIndex: 'avatarUrl',\r\n      render: (text: any, record: User, index: number): React.ReactNode => (\r\n        <Link to={StringUtil.prePath(match.path) + '/detail/' + record.uuid}>\r\n          <img alt=\"avatar\" className='avatar-small cursor' src={record.getAvatarUrl()}/>\r\n        </Link>\r\n      ),\r\n    }, {\r\n      title: Lang.t(\"user.username\"),\r\n      dataIndex: 'username',\r\n      render: (text: any, record: User, index: number): React.ReactNode => {\r\n        return <div>\r\n          <div>\r\n            <Link to={StringUtil.prePath(match.path) + '/detail/' + record.uuid}>{record.username}</Link>\r\n          </div>\r\n          {\r\n            user.uuid === record.uuid && (\r\n              <div className=\"text-danger\">(It's you)</div>\r\n            )\r\n          }\r\n        </div>\r\n      },\r\n    }, {\r\n      title: Lang.t(\"user.role\"),\r\n      dataIndex: 'role',\r\n      render: (text: any, record: User, index: number): React.ReactNode => (\r\n        <Tag color={UserRoleMap[record.role].color}>{UserRoleMap[record.role].name}</Tag>\r\n      ),\r\n    }, {\r\n      title: Lang.t(\"user.singleFileSizeLimit\"),\r\n      dataIndex: 'sizeLimit',\r\n      render: (text: any, record: User, index: number): React.ReactNode => (\r\n        <span>{FileUtil.humanFileSize(record.sizeLimit)}</span>\r\n      ),\r\n    }, {\r\n      title: Lang.t(\"user.totalFileSize\"),\r\n      dataIndex: 'totalSize',\r\n      render: (text: any, record: User, index: number): React.ReactNode => (\r\n        <span>{FileUtil.humanFileSize(record.totalSize)}</span>\r\n      ),\r\n    }, {\r\n      title: Lang.t(\"user.totalFileSizeLimit\"),\r\n      dataIndex: 'totalSizeLimit',\r\n      render: (text: any, record: User, index: number): React.ReactNode => (\r\n        <span>{FileUtil.humanFileSize(record.totalSizeLimit)}</span>\r\n      ),\r\n    }, {\r\n      title: Lang.t(\"user.status\"),\r\n      dataIndex: 'status',\r\n      render: (text: any, record: User, index: number): React.ReactNode => (\r\n        <Tag color={UserStatusMap[record.status].color}>{UserStatusMap[record.status].name}</Tag>\r\n      ),\r\n    }, {\r\n      title: Lang.t(\"user.lastLogin\"),\r\n      dataIndex: 'lastTime',\r\n      render: (text: any, record: User, index: number): React.ReactNode => (\r\n        <div>\r\n          <div>{record.lastIp}</div>\r\n          <div>{DateUtil.simpleDateTime(record.lastTime)}</div>\r\n        </div>\r\n      ),\r\n    }, {\r\n      title: Lang.t(\"createTime\"),\r\n      dataIndex: 'createTime',\r\n      sorter: true,\r\n      sortOrder: pager.getDefaultSortOrder('createTime'),\r\n      sortDirections: [SortDirection.DESCEND, SortDirection.ASCEND],\r\n      render: (text: any, record: User, index: number): React.ReactNode => (\r\n        DateUtil.simpleDateTime(text)\r\n      ),\r\n    }, {\r\n      title: Lang.t(\"operation\"),\r\n      dataIndex: 'action',\r\n      render: (text: any, record: User) => (\r\n        <span>\r\n\r\n          <Link title={Lang.t(\"edit\")}\r\n                to={StringUtil.prePath(match.path) + '/edit/' + record.uuid}>\r\n            <Tooltip title={Lang.t(\"edit\")}>\r\n              <EditOutlined className=\"btn-action\"/>\r\n            </Tooltip>\r\n          </Link>\r\n\r\n          {\r\n            record.status === UserStatus.OK && record.uuid !== user.uuid && (\r\n              <Tooltip title={Lang.t(\"user.disableUser\")}>\r\n                <StopOutlined className=\"btn-action\" style={{color: Color.DANGER}}\r\n                              onClick={this.toggleStatus.bind(this, record)}/>\r\n              </Tooltip>\r\n            )\r\n          }\r\n\r\n          {\r\n            record.status === UserStatus.DISABLED && record.uuid !== user.uuid && (\r\n              <Tooltip title={Lang.t(\"user.activeUser\")}>\r\n                <CheckCircleOutlined className=\"btn-action\" style={{color: Color.SUCCESS}}\r\n                                     onClick={this.toggleStatus.bind(this, record)}/>\r\n              </Tooltip>\r\n            )\r\n          }\r\n\r\n          {\r\n            record.status === UserStatus.DISABLED && record.uuid !== user.uuid && (\r\n              <Tooltip title={Lang.t(\"user.deleteUser\")}>\r\n                <DeleteOutlined className=\"btn-action\" style={{color: Color.DANGER}}\r\n                                onClick={this.delete.bind(this, record)}/>\r\n              </Tooltip>\r\n            )\r\n          }\r\n\r\n          {\r\n            record.uuid !== user.uuid && (\r\n              <Tooltip title={Lang.t(\"user.transfiguration\")}>\r\n                <UserSwitchOutlined className=\"btn-action\" style={{color: Color.PRIMARY}}\r\n                                    onClick={this.transfiguration.bind(this, record)}/>\r\n              </Tooltip>\r\n            )\r\n          }\r\n\r\n\r\n\r\n\r\n        </span>\r\n      ),\r\n    }];\r\n\r\n    return (\r\n      <div className=\"page-user-list\">\r\n\r\n        <TankTitle name={Lang.t(\"layout.users\")}>\r\n          <Link to={'/user/create'}>\r\n            <Button type={\"primary\"} icon={<PlusOutlined/>}>{Lang.t(\"user.createUser\")}</Button>\r\n          </Link>\r\n        </TankTitle>\r\n\r\n        <div>\r\n          <FilterPanel filters={pager.filters} onChange={this.search.bind(this)}/>\r\n        </div>\r\n        <Table\r\n          rowKey=\"uuid\"\r\n          loading={pager.loading}\r\n          dataSource={pager.data}\r\n          columns={columns}\r\n          pagination={pager.getPagination()}\r\n          onChange={pager.tableOnChange.bind(pager)}\r\n          locale={{emptyText: (<TableEmpty pager={pager} onRefresh={this.refresh.bind(this)}/>)}}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport \"./InfoCell.less\"\r\nimport {Col, Row} from \"antd\"\r\n\r\ninterface IProps {\r\n  name: string\r\n  firstSpan?: number\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class InfoCell extends React.Component <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n    let name: string = this.props.name\r\n\r\n    let firstSpan: number = 8\r\n    if (this.props.firstSpan !== undefined) {\r\n      firstSpan = this.props.firstSpan\r\n    }\r\n    let secondSpan: number = 24 - firstSpan\r\n\r\n    return (\r\n      <Row className=\"castle-widget-info-cell\">\r\n        <Col span={firstSpan} className=\"info-cell-name\">{name}</Col>\r\n        <Col span={secondSpan} className=\"info-cell-content\">\r\n          {that.props.children}\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport VelocityReact from \"velocity-react\";\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class Expanding extends Component<IProps, IState> {\r\n  render() {\r\n    return (\r\n      <VelocityReact.VelocityTransitionGroup\r\n        enter={{ animation: \"slideDown\" }}\r\n        leave={{ animation: \"slideUp\" }}\r\n      >\r\n        {this.props.children}\r\n      </VelocityReact.VelocityTransitionGroup>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport InfoCell from \"../../widget/InfoCell\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport User from \"../../../common/model/user/User\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserRoleMap } from \"../../../common/model/user/UserRole\";\r\nimport { Tag, Tooltip } from \"antd\";\r\nimport FileUtil from \"../../../common/util/FileUtil\";\r\nimport {\r\n  UserStatus,\r\n  UserStatusMap,\r\n} from \"../../../common/model/user/UserStatus\";\r\nimport DateUtil from \"../../../common/util/DateUtil\";\r\nimport {\r\n  EditOutlined,\r\n  StopOutlined,\r\n  CheckCircleOutlined,\r\n  UserSwitchOutlined,\r\n  DeleteOutlined,\r\n  EllipsisOutlined,\r\n} from \"@ant-design/icons\";\r\nimport Color from \"../../../common/model/base/option/Color\";\r\nimport Expanding from \"../../widget/Expanding\";\r\nimport \"./MobileUserPanel.less\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport Sun from \"../../../common/model/global/Sun\";\r\n\r\ninterface IProps {\r\n  user: User;\r\n  isCurrentUser: boolean;\r\n  onToggleStatus: (user: User) => any;\r\n  onDelete: (user: User) => any;\r\n  onTransfiguration: (user: User) => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class MobileUserPanel extends TankComponent<IProps, IState> {\r\n  // 小屏幕下操作栏\r\n  showMore: boolean = false;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  clickRow = () => {\r\n    Sun.navigateTo(`/user/detail/${this.props.user.uuid}`);\r\n  };\r\n\r\n  toggleHandles = () => {\r\n    this.showMore = !this.showMore;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { user, isCurrentUser } = this.props;\r\n\r\n    return (\r\n      <div className=\"mobile-user\">\r\n        <div className=\"panel\" onClick={this.clickRow}>\r\n          <img className=\"avatar\" src={user.getAvatarUrl()} />\r\n          <p className=\"username one-line\">{user.username}</p>\r\n          <Tag color={UserRoleMap[user.role].color}>\r\n            {UserRoleMap[user.role].name}\r\n          </Tag>\r\n          <EllipsisOutlined\r\n            className=\"btn-action navy f18 hot-area\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.toggleHandles())\r\n            }\r\n          />\r\n        </div>\r\n\r\n        <Expanding>\r\n          {this.showMore ? (\r\n            <div className=\"ml10 panel-detail\">\r\n              <InfoCell name={Lang.t(\"user.singleFileSizeLimit\")}>\r\n                <span>{FileUtil.humanFileSize(user.sizeLimit)}</span>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"user.totalFileSize\")}>\r\n                <span>{FileUtil.humanFileSize(user.totalSize)}</span>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"user.totalFileSizeLimit\")}>\r\n                <span>{FileUtil.humanFileSize(user.totalSizeLimit)}</span>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"user.status\")}>\r\n                <Tag color={UserStatusMap[user.status].color}>\r\n                  {UserStatusMap[user.status].name}\r\n                </Tag>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"user.lastLogin\")}>\r\n                <div>\r\n                  <div>{user.lastIp}</div>\r\n                  <div>{DateUtil.simpleDateTime(user.lastTime)}</div>\r\n                </div>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"createTime\")}>\r\n                <span>{DateUtil.simpleDateTime(user.createTime)}</span>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"operation\")}>\r\n                <div>\r\n                  <Link title={Lang.t(\"edit\")} to={\"/user/edit/\" + user.uuid}>\r\n                    <Tooltip title={Lang.t(\"edit\")}>\r\n                      <EditOutlined className=\"btn-action\" />\r\n                    </Tooltip>\r\n                  </Link>\r\n                  {user.status === UserStatus.OK && !isCurrentUser && (\r\n                    <Tooltip title={Lang.t(\"user.disableUser\")}>\r\n                      <StopOutlined\r\n                        className=\"btn-action\"\r\n                        style={{ color: Color.DANGER }}\r\n                        onClick={() => this.props.onToggleStatus(user)}\r\n                      />\r\n                    </Tooltip>\r\n                  )}\r\n                  {user.status === UserStatus.DISABLED && !isCurrentUser && (\r\n                    <>\r\n                      <Tooltip title={Lang.t(\"user.activeUser\")}>\r\n                        <CheckCircleOutlined\r\n                          className=\"btn-action\"\r\n                          style={{ color: Color.SUCCESS }}\r\n                          onClick={() => this.props.onToggleStatus(user)}\r\n                        />\r\n                      </Tooltip>\r\n                      <Tooltip title={Lang.t(\"user.deleteUser\")}>\r\n                        <DeleteOutlined\r\n                          className=\"btn-action\"\r\n                          style={{ color: Color.DANGER }}\r\n                          onClick={() => this.props.onDelete(user)}\r\n                        />\r\n                      </Tooltip>\r\n                    </>\r\n                  )}\r\n                  {!isCurrentUser && (\r\n                    <Tooltip title={Lang.t(\"user.transfiguration\")}>\r\n                      <UserSwitchOutlined\r\n                        className=\"btn-action\"\r\n                        style={{ color: Color.PRIMARY }}\r\n                        onClick={() => this.props.onTransfiguration(user)}\r\n                      />\r\n                    </Tooltip>\r\n                  )}\r\n                </div>\r\n              </InfoCell>\r\n            </div>\r\n          ) : null}\r\n        </Expanding>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Link, RouteComponentProps } from \"react-router-dom\";\r\nimport \"./MobileList.less\";\r\nimport SortDirection from \"../../common/model/base/SortDirection\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport User from \"../../common/model/user/User\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport { Button, Modal, Input, Pagination } from \"antd\";\r\nimport { PlusOutlined, ExclamationCircleFilled } from \"@ant-design/icons\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Color from \"../../common/model/base/option/Color\";\r\nimport TransfigurationModal from \"./widget/TransfigurationModal\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport MobileUserPanel from \"./widget/MobileUserPanel\";\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class MobileList extends TankComponent<IProps, IState> {\r\n  //获取分页的一个帮助器\r\n  pager: Pager<User> = new Pager<User>(this, User, 10);\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    this.pager.enableHistory();\r\n    this.refresh();\r\n  }\r\n\r\n  search = () => {\r\n    this.pager.page = 0;\r\n    this.refresh();\r\n  };\r\n\r\n  refresh = () => {\r\n    //如果没有任何的排序，默认使用时间倒序\r\n    if (!this.pager.getCurrentSortFilter()) {\r\n      this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\r\n    }\r\n    this.pager.httpList();\r\n  };\r\n\r\n  toggleStatus = (user: User) => {\r\n    user.httpToggleStatus(() => {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      this.updateUI();\r\n    });\r\n  };\r\n\r\n  delete = (user: User) => {\r\n    Modal.confirm({\r\n      title: Lang.t(\"user.deleteHint\", user.username),\r\n      icon: <ExclamationCircleFilled twoToneColor={Color.WARNING} />,\r\n      onOk: () => {\r\n        user.httpDel(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.refresh();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  transfiguration = (user: User) => {\r\n    TransfigurationModal.open(user);\r\n  };\r\n\r\n  searchFile = (value?: string) => {\r\n    this.pager.resetFilter();\r\n    if (value) {\r\n      this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\r\n      this.pager.setFilterValue(\"username\", value);\r\n      this.pager.httpList();\r\n    } else {\r\n      this.refresh();\r\n    }\r\n  };\r\n\r\n  changeSearch = (e: any) => {\r\n    if (!e.currentTarget.value) this.searchFile();\r\n  };\r\n\r\n  changePage = (page: number) => {\r\n    this.pager.page = page - 1; // page的页数0基\r\n    this.pager.httpList();\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { pager } = this;\r\n    const currentUser = Moon.getSingleton().user;\r\n    return (\r\n      <div className=\"page-user-list-mobile\">\r\n        <TankTitle name={Lang.t(\"layout.users\")}>\r\n          <Link to={\"/user/create\"}>\r\n            <Button type={\"primary\"} icon={<PlusOutlined />}>\r\n              {Lang.t(\"user.createUser\")}\r\n            </Button>\r\n          </Link>\r\n        </TankTitle>\r\n\r\n        <div>\r\n          <Input.Search\r\n            className=\"mb10\"\r\n            placeholder={Lang.t(\"matter.searchFile\")}\r\n            onSearch={(value) => this.searchFile(value)}\r\n            onChange={this.changeSearch}\r\n            enterButton\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          {pager.data.map((user) => (\r\n            <MobileUserPanel\r\n              key={user.uuid!}\r\n              user={user}\r\n              isCurrentUser={currentUser.uuid === user.uuid}\r\n              onToggleStatus={this.toggleStatus}\r\n              onDelete={this.delete}\r\n              onTransfiguration={this.transfiguration}\r\n            />\r\n          ))}\r\n        </div>\r\n        <Pagination\r\n          className=\"mt10 pull-right\"\r\n          onChange={this.changePage}\r\n          current={pager.page + 1}\r\n          total={pager.totalItems}\r\n          pageSize={pager.pageSize}\r\n          hideOnSinglePage\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport \"./TankContentCard.less\"\r\nimport TankComponent from '../../common/component/TankComponent';\r\nimport {LoadingOutlined} from \"@ant-design/icons/lib\";\r\n\r\ninterface IProps {\r\n  loading?: boolean\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n/**\r\n * 正文样式\r\n */\r\nexport default class TankContentCard extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    //刷新一下列表\r\n    let that = this\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let content: React.ReactNode\r\n\r\n    if (that.props.loading) {\r\n      content = (\r\n        <div className='loading-area'>\r\n          <LoadingOutlined className='loading-icon'/>\r\n        </div>\r\n      )\r\n    } else {\r\n      content = that.props.children\r\n    }\r\n\r\n    return (\r\n      <div className=\"widget-tank-content-card\">\r\n        {content}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./ImagePreviewer.less\"\r\nimport PhotoSwipe from 'photoswipe'\r\nimport PhotoSwipeUIDefault from 'photoswipe/dist/photoswipe-ui-default'\r\n//PhotoSwipe的样式\r\nimport \"photoswipe/dist/photoswipe.css\";\r\nimport \"photoswipe/dist/default-skin/default-skin.css\";\r\n\r\n\r\n/**\r\n * 图片预览器\r\n * 支持预览一张图片或者多张图片\r\n */\r\nexport default class ImagePreviewer {\r\n\r\n  private static pswpDom(): HTMLElement {\r\n    let innerHTML = `\r\n    <!-- Background of PhotoSwipe.\r\n         It's a separate element as animating opacity is faster than rgba(). -->\r\n    <div class=\"pswp__bg\"></div>\r\n\r\n    <!-- Slides wrapper with overflow:hidden. -->\r\n    <div class=\"pswp__scroll-wrap\">\r\n\r\n        <!-- Container that holds slides.\r\n            PhotoSwipe keeps only 3 of them in the DOM to save memory.\r\n            Don't modify these 3 pswp__item elements, data is added later on. -->\r\n        <div class=\"pswp__container\">\r\n            <div class=\"pswp__item\"></div>\r\n            <div class=\"pswp__item\"></div>\r\n            <div class=\"pswp__item\"></div>\r\n        </div>\r\n\r\n        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->\r\n        <div class=\"pswp__ui pswp__ui--hidden\">\r\n\r\n            <div class=\"pswp__top-bar\">\r\n\r\n                <!--  Controls are self-explanatory. Order can be changed. -->\r\n\r\n                <div class=\"pswp__counter\"></div>\r\n\r\n                <button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button>\r\n\r\n                <button class=\"pswp__button pswp__button--share\" title=\"Share\"></button>\r\n\r\n                <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button>\r\n\r\n                <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button>\r\n\r\n                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->\r\n                <!-- element will get class pswp__preloader--active when preloader is running -->\r\n                <div class=\"pswp__preloader\">\r\n                    <div class=\"pswp__preloader__icn\">\r\n                      <div class=\"pswp__preloader__cut\">\r\n                        <div class=\"pswp__preloader__donut\"></div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\r\n                <div class=\"pswp__share-tooltip\"></div>\r\n            </div>\r\n\r\n            <button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\r\n            </button>\r\n\r\n            <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\r\n            </button>\r\n\r\n            <div class=\"pswp__caption\">\r\n                <div class=\"pswp__caption__center\"></div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    `\r\n\r\n    let div: HTMLElement = document.createElement('div');\r\n    div.className = \"pswp\";\r\n    div.setAttribute(\"tabIndex\", \"-1\")\r\n    div.setAttribute(\"role\", \"dialog\")\r\n    div.setAttribute(\"aria-hidden\", \"true\")\r\n\r\n    div.innerHTML = innerHTML\r\n\r\n    return div\r\n  }\r\n\r\n  //展示一张图片\r\n  static showSinglePhoto(url: string) {\r\n\r\n    ImagePreviewer.showMultiPhoto([url], 0)\r\n\r\n  }\r\n\r\n  //展示一系列图片\r\n  static showMultiPhoto(urls: string[], index: number = 0) {\r\n\r\n    let that = this;\r\n    let items: PhotoSwipe.Item[] = [];\r\n    urls.forEach((url) => {\r\n      items.push({\r\n        src: url,\r\n        w: 0,\r\n        h: 0\r\n      })\r\n    })\r\n\r\n    let options = {\r\n      //不需要历史纪录\r\n      history: false,\r\n      //不需要全屏按钮\r\n      fullscreenEl: false,\r\n      //不需要分享按钮\r\n      shareEl: false,\r\n      //点击不要让控制按钮消失\r\n      tapToToggleControls: false,\r\n      //当前从第0张展示。\r\n      index: index\r\n    };\r\n\r\n    //获取dom节点\r\n    let div = ImagePreviewer.pswpDom()\r\n    //添加到body\r\n    document.body.appendChild(div);\r\n\r\n    let photoSwipe = new PhotoSwipe(div, PhotoSwipeUIDefault, items, options);\r\n\r\n    photoSwipe.listen('gettingData', function (index, item) {\r\n\r\n      if (!item.w || !item.h || item.w < 1 || item.h < 1) {\r\n\r\n        //这里为了获取图片真实大小\r\n        const img: HTMLImageElement = new Image()\r\n        img.onload = function () {\r\n          item.w = img.width\r\n          item.h = img.height\r\n          photoSwipe.updateSize(true); // reinit Items\r\n        }\r\n        img.src = item.src!\r\n      }\r\n    })\r\n    photoSwipe.init();\r\n\r\n    photoSwipe.listen('close', () => {\r\n      if (div.parentNode) {\r\n        //移除节点\r\n        div.parentNode.removeChild(div);\r\n      }\r\n    })\r\n    photoSwipe.listen('afterChange', () => {\r\n\r\n    })\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from 'antd/lib/button';\r\nimport {Input, Modal} from \"antd\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\n\r\ninterface IProps {\r\n  value: string\r\n  title?: string\r\n  onSuccess: (val: string) => void\r\n  onClose: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n  innerValue: string\r\n}\r\n\r\nexport default class SingleTextModal extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {\r\n      innerValue: this.props.value\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  static open(title: string, initialValue: string, onSuccess: (text: string) => void) {\r\n\r\n    let modal = Modal.success({\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\"\r\n      },\r\n      icon: null,\r\n      content: <SingleTextModal\r\n        title={title}\r\n        value={initialValue}\r\n        onSuccess={(val: string) => {\r\n\r\n          modal.destroy()\r\n\r\n          onSuccess(val)\r\n\r\n        }}\r\n        onClose={() => {\r\n          modal.destroy()\r\n        }}/>,\r\n    })\r\n\r\n  }\r\n\r\n\r\n  onSubmitClick() {\r\n    if (this.state.innerValue) {\r\n      this.props.onSuccess(this.state.innerValue)\r\n    } else {\r\n      MessageBoxUtil.error(\"没有填写值，提交失败！\")\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    return (\r\n      <div className=\"widget-single-text-modal\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>\r\n            {that.props.title}\r\n          </h2>\r\n        </div>\r\n\r\n        <Input value={this.state.innerValue} onChange={(e) => {\r\n          that.setState({\r\n            innerValue: e.target.value\r\n          })\r\n\r\n        }}/>\r\n\r\n        <div className=\"text-center mt20\">\r\n\r\n          <Button className=\"ml20\" type=\"default\" onClick={() => {\r\n            this.props.onClose()\r\n          }}>关闭</Button>\r\n\r\n          <Button className=\"ml20\"\r\n                  type=\"primary\"\r\n                  onClick={() => {\r\n                    this.onSubmitClick()\r\n                  }}>提交</Button>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Button from 'antd/lib/button';\r\nimport {Form, Input, Modal} from \"antd\"\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport User from \"../../../common/model/user/User\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  user: User\r\n  onSuccess: () => void\r\n  onClose: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class ChangePasswordModal extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  static open(user: User, onSuccess: () => void) {\r\n\r\n    let modal = Modal.success({\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\"\r\n      },\r\n      icon: null,\r\n      content: <ChangePasswordModal\r\n        user={user}\r\n        onSuccess={() => {\r\n          modal.destroy()\r\n          onSuccess()\r\n        }}\r\n        onClose={() => {\r\n          modal.destroy()\r\n        }}/>,\r\n    })\r\n\r\n  }\r\n\r\n\r\n  onFinish(values: any) {\r\n    console.log('Success:', values);\r\n\r\n    let that = this\r\n\r\n    let currentUser: User = this.props.user\r\n\r\n    currentUser.httpChangePassword(values[\"oldPassword\"], values[\"repeatPassword\"], function () {\r\n\r\n\r\n      that.props.onSuccess()\r\n\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    const layout = {\r\n      labelCol: {span: 8},\r\n      wrapperCol: {span: 16},\r\n    };\r\n    const tailLayout = {\r\n      wrapperCol: {offset: 8, span: 16},\r\n    };\r\n\r\n    return (\r\n      <div className=\"widget-single-text-modal\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>\r\n            {Lang.t(\"user.editSomebodyPassword\", that.props.user.username)}\r\n          </h2>\r\n        </div>\r\n\r\n        <Form\r\n          {...layout}\r\n          name=\"basic\"\r\n          onFinish={this.onFinish.bind(this)}\r\n          onFinishFailed={this.onFinishFailed.bind(this)}\r\n        >\r\n          <Form.Item\r\n            label={Lang.t(\"user.oldPassword\")}\r\n            name=\"oldPassword\"\r\n            rules={[{required: true, message: Lang.t(\"user.enterPassword\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"user.newPassword\")}\r\n            name=\"password\"\r\n            rules={[{required: true, message: Lang.t(\"user.enterNewPassword\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"repeatPassword\"\r\n            label={Lang.t(\"user.confirmPassword\")}\r\n            dependencies={['password']}\r\n            hasFeedback\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: Lang.t(\"user.enterNewPassword\"),\r\n              },\r\n              ({getFieldValue}) => ({\r\n                validator(rule, value) {\r\n                  if (!value || getFieldValue('password') === value) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject(Lang.t(\"user.passwordNotSame\"));\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item {...tailLayout}>\r\n\r\n            <Button className=\"ml20\" type=\"default\" onClick={() => {\r\n              this.props.onClose()\r\n            }}>{Lang.t(\"close\")}</Button>\r\n\r\n            <Button className=\"ml20\"\r\n                    type=\"primary\" htmlType=\"submit\">{Lang.t(\"submit\")}</Button>\r\n\r\n          </Form.Item>\r\n\r\n        </Form>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport \"./Detail.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport { Button, Tag, Space } from \"antd\";\r\nimport InfoCell from \"../widget/InfoCell\";\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport DateUtil from \"../../common/util/DateUtil\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport { Link, RouteComponentProps } from \"react-router-dom\";\r\nimport ImagePreviewer from \"../widget/previewer/ImagePreviewer\";\r\nimport { UserRole, UserRoleMap } from \"../../common/model/user/UserRole\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport { UserStatus, UserStatusMap } from \"../../common/model/user/UserStatus\";\r\nimport BrowserUtil from \"../../common/util/BrowserUtil\";\r\nimport SingleTextModal from \"../widget/SingleTextModal\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport ChangePasswordModal from \"./widget/ChangePasswordModal\";\r\nimport {\r\n  EditOutlined,\r\n  UnlockOutlined,\r\n  UserSwitchOutlined,\r\n} from \"@ant-design/icons\";\r\nimport TransfigurationModal from \"./widget/TransfigurationModal\";\r\nimport { FileSyncOutlined, StopOutlined } from \"@ant-design/icons/lib\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\n\r\ninterface RouteParam {\r\n  uuid: string;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<RouteParam> {}\r\n\r\ninterface IState {}\r\n\r\nexport default class Detail extends TankComponent<IProps, IState> {\r\n  //登录的那个用户\r\n  user: User = Moon.getSingleton().user;\r\n\r\n  //当前页面正在编辑的用户\r\n  currentUser: User = new User(this);\r\n\r\n  //sync loading.\r\n  syncLoading: boolean = false;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n    let match = this.props.match;\r\n    this.currentUser.uuid = match.params.uuid;\r\n    this.currentUser.httpDetail();\r\n  }\r\n\r\n  resetPassword() {\r\n    let that = this;\r\n\r\n    SingleTextModal.open(Lang.t(\"user.enterNewPassword\"), \"\", function (\r\n      text: string\r\n    ) {\r\n      that.currentUser.httpResetPassword(text, function (response: any) {\r\n        MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      });\r\n    });\r\n  }\r\n\r\n  transfiguration() {\r\n    let user: User = this.user;\r\n    let currentUser: User = this.currentUser;\r\n    TransfigurationModal.open(currentUser);\r\n  }\r\n\r\n  toggleStatus() {\r\n    let that = this;\r\n    let user: User = this.user;\r\n    let currentUser: User = this.currentUser;\r\n    currentUser.httpToggleStatus(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      that.updateUI();\r\n    });\r\n  }\r\n\r\n  syncPhysics() {\r\n    let that = this;\r\n    let user: User = this.user;\r\n    let currentUser: User = this.currentUser;\r\n    this.syncLoading = true;\r\n    currentUser.httpScan(\r\n      function () {\r\n        MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n        that.updateUI();\r\n      },\r\n      null,\r\n      function () {\r\n        that.syncLoading = false;\r\n        that.updateUI();\r\n      }\r\n    );\r\n  }\r\n\r\n  changePassword() {\r\n    let user: User = this.user;\r\n    let currentUser: User = this.currentUser;\r\n    ChangePasswordModal.open(currentUser, function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const user: User = this.user;\r\n    const currentUser: User = this.currentUser;\r\n\r\n    const handles = (\r\n      <Space className={`handles ${Sun.getSingleton().isMobile ? 'handles-mobile': ''}`}>\r\n        {user.role === UserRole.ADMINISTRATOR && (\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<UnlockOutlined />}\r\n            onClick={this.resetPassword.bind(this)}\r\n          >\r\n            {Lang.t(\"user.resetPassword\")}\r\n          </Button>\r\n        )}\r\n\r\n        {user.role === UserRole.ADMINISTRATOR && (\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<UserSwitchOutlined />}\r\n            onClick={this.transfiguration.bind(this)}\r\n          >\r\n            {Lang.t(\"user.transfiguration\")}\r\n          </Button>\r\n        )}\r\n\r\n        {currentUser.uuid === user.uuid && (\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={this.changePassword.bind(this)}\r\n            icon={<UnlockOutlined />}\r\n          >\r\n            {Lang.t(\"user.changePassword\")}\r\n          </Button>\r\n        )}\r\n\r\n        <Link to={\"/user/edit/\" + currentUser.uuid}>\r\n          <Button type=\"primary\" icon={<EditOutlined />}>\r\n            {Lang.t(\"edit\")}\r\n          </Button>\r\n        </Link>\r\n\r\n        {user.role === UserRole.ADMINISTRATOR &&\r\n          currentUser.uuid !== user.uuid && (\r\n            <Button\r\n              type=\"primary\"\r\n              danger={currentUser.status === UserStatus.OK}\r\n              icon={<StopOutlined />}\r\n              onClick={this.toggleStatus.bind(this)}\r\n            >\r\n              {currentUser.status === UserStatus.OK\r\n                ? Lang.t(\"user.disable\")\r\n                : Lang.t(\"user.active\")}\r\n            </Button>\r\n          )}\r\n\r\n        {user.role === UserRole.ADMINISTRATOR && (\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<FileSyncOutlined />}\r\n            loading={this.syncLoading}\r\n            onClick={this.syncPhysics.bind(this)}\r\n          >\r\n            {Lang.t(\"user.sync\")}\r\n          </Button>\r\n        )}\r\n      </Space>\r\n    );\r\n\r\n    return (\r\n      <div className=\"page-user-detail\">\r\n        <TankTitle name={Lang.t(\"user.profile\")}>\r\n          {!Sun.getSingleton().isMobile && handles}\r\n        </TankTitle>\r\n        {Sun.getSingleton().isMobile && handles}\r\n\r\n        <TankContentCard loading={currentUser.detailLoading}>\r\n          <div className=\"text-center mv20\">\r\n            <img\r\n              className=\"avatar-large\"\r\n              alt=\"avatar\"\r\n              src={currentUser.getAvatarUrl()}\r\n              onClick={() => {\r\n                ImagePreviewer.showSinglePhoto(currentUser.getAvatarUrl(true));\r\n              }}\r\n            />\r\n            <div className=\"f24\">{currentUser.username}</div>\r\n          </div>\r\n\r\n          <InfoCell name={Lang.t(\"user.role\")}>\r\n            <Tag color={UserRoleMap[currentUser.role].color}>\r\n              {UserRoleMap[currentUser.role].name}\r\n            </Tag>\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.singleFileSizeLimit\")}>\r\n            {FileUtil.humanFileSize(currentUser.sizeLimit)}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.totalFileSizeLimit\")}>\r\n            {FileUtil.humanFileSize(currentUser.totalSizeLimit)}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.totalFileSize\")}>\r\n            {FileUtil.humanFileSize(currentUser.totalSize)}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.status\")}>\r\n            <Tag color={UserStatusMap[currentUser.status].color}>\r\n              {UserStatusMap[currentUser.status].name}\r\n            </Tag>\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.lastLoginIp\")}>\r\n            {currentUser.lastIp}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.lastLoginTime\")}>\r\n            {DateUtil.simpleDateTime(currentUser.lastTime)}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.webdavLink\")}>\r\n            {BrowserUtil.fullHost() + \"/api/dav\"}\r\n          </InfoCell>\r\n\r\n          {currentUser.role === UserRole.ADMINISTRATOR && (\r\n            <InfoCell name={Lang.t(\"user.docLink\")}>\r\n              <a\r\n                className=\"f14\"\r\n                href=\"https://tank-doc.eyeblue.cn\"\r\n                target=\"_blank\"\r\n              >\r\n                https://tank-doc.eyeblue.cn\r\n              </a>\r\n            </InfoCell>\r\n          )}\r\n        </TankContentCard>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default class EnvUtil {\r\n    static currentHost() {\r\n      return window.location.protocol + \"//\" + window.location.host;\r\n    }\r\n}\r\n","import \"./BrowserPreviewer.less\"\r\nimport React from \"react\";\r\nimport * as ReactDOM from 'react-dom';\r\nimport FileUtil from \"../../../common/util/FileUtil\";\r\nimport {CloseOutlined} from \"@ant-design/icons\";\r\n\r\ninterface IProps {\r\n  name: string\r\n  url: string\r\n  size: number\r\n  onClose: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n/**\r\n * 浏览器预览器\r\n * 浏览器支持的预览格式统统交由它处理\r\n */\r\nexport default class BrowserPreviewer extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  //展示一系列图片\r\n  static show(name: string, url: string, size: number) {\r\n\r\n    let that = this;\r\n\r\n    const div: Element = document.createElement('div');\r\n    document.body.appendChild(div);\r\n\r\n    let element: React.ReactElement = React.createElement(\r\n      BrowserPreviewer,\r\n      {\r\n        name: name,\r\n        url: url,\r\n        size: size,\r\n        onClose: () => {\r\n          //删除所有节点。\r\n          const unmountResult = ReactDOM.unmountComponentAtNode(div);\r\n          if (unmountResult && div.parentNode) {\r\n\r\n            div.parentNode.removeChild(div);\r\n\r\n          }\r\n        }\r\n      }\r\n    )\r\n\r\n    //将react组件挂载到div中去。\r\n    ReactDOM.render(element, div);\r\n\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"browser-previewer\">\r\n      <div className=\"title-bar\">\r\n\r\n        {this.props.name}({FileUtil.humanFileSize(this.props.size)})\r\n\r\n        <span className=\"close btn-action\">\r\n          <CloseOutlined onClick={() => {\r\n            this.props.onClose()\r\n          }}/>\r\n        </span>\r\n\r\n      </div>\r\n      <div className=\"frame-area\">\r\n        <iframe width=\"100%\" height=\"100%\" src={this.props.url}>\r\n          iframe may not supported.\r\n        </iframe>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n}\r\n\r\n","import BaseEntity from \"../../base/BaseEntity\";\r\nimport DateUtil from \"../../../util/DateUtil\";\r\nimport SafeUtil from \"../../../util/SafeUtil\";\r\n\r\nexport default class DownloadToken extends BaseEntity {\r\n  userUuid: string | null = null;\r\n  matterUuid: string | null = null;\r\n  expireTime: string | null = null;\r\n  ip: string | null = null;\r\n\r\n  static URL_FETCH_DOWNLOAD_TOKEN = \"/api/alien/fetch/download/token\";\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n    super(reactComponent);\r\n  }\r\n\r\n  getUrlPrefix() {\r\n    return \"/api/download/token\";\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n    this.assignEntity(\"expireTime\", Date);\r\n  }\r\n\r\n  getFilters() {\r\n    return [...super.getFilters()];\r\n  }\r\n\r\n  httpFetchDownloadToken(\r\n    matterUuid: string,\r\n    successCallback?: () => any,\r\n    errorCallback?: () => any\r\n  ) {\r\n    let that = this;\r\n    let date = new Date(new Date().getTime() + 10 * 60 * 1000);\r\n\r\n    let form = {\r\n      expireTime: DateUtil.simpleDateTime(date),\r\n      matterUuid,\r\n    };\r\n    this.httpPost(\r\n      DownloadToken.URL_FETCH_DOWNLOAD_TOKEN,\r\n      form,\r\n      function (response: any) {\r\n        that.assign(response.data.data);\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n}\r\n","import \"./ImagePreviewer.less\";\r\nimport MimeUtil from \"../../../common/util/MimeUtil\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\nimport PreviewEngine from \"../../../common/model/preference/model/PreviewEngine\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport BrowserPreviewer from \"./BrowserPreviewer\";\r\nimport DownloadToken from \"../../../common/model/download/token/DownloadToken\";\r\n\r\n/**\r\n * 文件预览帮助器\r\n */\r\nexport default class PreviewerHelper {\r\n  /**\r\n   * 准备好一个文件url\r\n   */\r\n  static prepareMatterUrl(\r\n    matter: Matter,\r\n    needTokenUrl: boolean,\r\n    successCallback: (matterUrl: string) => void\r\n  ) {\r\n    if (needTokenUrl) {\r\n      //获取一个临时的下载token.\r\n      let downloadToken = new DownloadToken();\r\n      downloadToken.httpFetchDownloadToken(matter.uuid!, function () {\r\n        let matterUrl = matter.getPreviewUrl(downloadToken.uuid!);\r\n\r\n        successCallback(matterUrl);\r\n      });\r\n    } else {\r\n      successCallback(matter.getPreviewUrl());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 对一个文件进行预览，自动选择预览引擎\r\n   * @param matter 文件\r\n   */\r\n  static preview(matter: Matter) {\r\n    let fileName: string = matter.name;\r\n    let extension: string = MimeUtil.getExtensionWithoutDot(fileName);\r\n    if (!extension) {\r\n      MessageBoxUtil.warning(fileName + \" 没有后缀名，无法预览\");\r\n      return;\r\n    }\r\n\r\n    //去选择预览引擎。\r\n    let previewConfig = Moon.getSingleton().preference.previewConfig;\r\n\r\n    let previewEngine: PreviewEngine | null = null;\r\n\r\n    //寻找用户自定义的预览引擎\r\n    for (let engine of previewConfig.previewEngines) {\r\n      if (engine.canPreview(fileName)) {\r\n        previewEngine = engine;\r\n        break;\r\n      }\r\n    }\r\n\r\n    //寻找官方默认的预览引擎\r\n    if (previewEngine === null) {\r\n      let defaultEngines = PreviewEngine.defaultPreviewEngines();\r\n      for (let engine of defaultEngines) {\r\n        if (engine.canPreview(fileName)) {\r\n          previewEngine = engine;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (previewEngine === null) {\r\n      MessageBoxUtil.warning(fileName + \" 无法预览\");\r\n    } else {\r\n      let targetUrl = previewEngine.url;\r\n\r\n      const engine: PreviewEngine = previewEngine;\r\n      const needToken: boolean =\r\n        matter.privacy && targetUrl.indexOf(\"{url}\") !== -1;\r\n\r\n      PreviewerHelper.prepareMatterUrl(matter, needToken, function (url) {\r\n        targetUrl = targetUrl.replace(\"{originUrl}\", matter.getPreviewUrl());\r\n        targetUrl = targetUrl.replace(\"{url}\", encodeURIComponent(url));\r\n\r\n        if (engine.previewInSite) {\r\n          BrowserPreviewer.show(fileName, targetUrl, matter.size);\r\n        } else {\r\n          window.open(targetUrl);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {message} from \"antd\";\nimport BaseEntity from \"../base/BaseEntity\";\nimport Filter from \"../base/filter/Filter\";\nimport HttpUtil from \"../../util/HttpUtil\";\nimport FileUtil from \"../../util/FileUtil\";\nimport ImageUtil from \"../../util/ImageUtil\";\nimport EnvUtil from \"../../util/EnvUtil\";\nimport InputFilter from \"../base/filter/InputFilter\";\nimport CheckFilter from \"../base/filter/CheckFilter\";\nimport SortFilter from \"../base/filter/SortFilter\";\nimport MimeUtil from \"../../util/MimeUtil\";\nimport StringUtil from \"../../util/StringUtil\";\nimport NumberUtil from \"../../util/NumberUtil\";\nimport SafeUtil from \"../../util/SafeUtil\";\nimport ImagePreviewer from \"../../../pages/widget/previewer/ImagePreviewer\";\nimport MessageBoxUtil from \"../../util/MessageBoxUtil\";\nimport PreviewerHelper from \"../../../pages/widget/previewer/PreviewerHelper\";\n\nexport default class Matter extends BaseEntity {\n  puuid: string = \"\";\n  userUuid: string = \"\";\n  dir: boolean = false;\n  alien: boolean = false;\n  name: string = \"\";\n  md5: string | null = null;\n  size: number = 0;\n  privacy: boolean = true;\n  path: string | null = null;\n  times: number = 0;\n  //上次访问时间\n  visitTime: Date | null = null;\n  parent: Matter | null = null;\n\n  /*\n  这部分是辅助UI的字段信息\n   */\n  //作为勾选变量\n  check: boolean = false;\n  editMode: boolean = false;\n\n  //允许用户选择的文件类型\n  filter: string = \"*\";\n  //本地字段\n  //给用户的提示文字\n  uploadHint: string | null = null;\n  //浏览器中选择好的原生file，未作任何处理。\n  file: File | null = null;\n  //当前上传进度的数值 0-1之间\n  progress: number = 0;\n  //实时上传速度 byte/s\n  speed: number = 0;\n\n  static URL_MATTER_CREATE_DIRECTORY = \"/api/matter/create/directory\";\n  static URL_MATTER_DELETE = \"/api/matter/delete\";\n  static URL_MATTER_DELETE_BATCH = \"/api/matter/delete/batch\";\n  static URL_MATTER_RENAME = \"/api/matter/rename\";\n  static URL_CHANGE_PRIVACY = \"/api/matter/change/privacy\";\n  static URL_MATTER_MOVE = \"/api/matter/move\";\n  static URL_MATTER_DOWNLOAD = \"/api/matter/download\";\n  static URL_MATTER_UPLOAD = \"/api/matter/upload\";\n  static URL_MATTER_ZIP = \"/api/matter/zip\";\n\n  static MATTER_ROOT = \"root\";\n\n  //下载zip包\n  static downloadZip(uuidsString: string) {\n    window.open(\n      EnvUtil.currentHost() + Matter.URL_MATTER_ZIP + \"?uuids=\" + uuidsString\n    );\n  }\n\n  constructor(reactComponent?: React.Component) {\n    super(reactComponent);\n  }\n\n  assign(obj: any) {\n    super.assign(obj);\n    this.assignEntity(\"parent\", Matter);\n    this.assignEntity(\"visitTime\", Date);\n  }\n\n  getForm(): any {\n    return {\n      userUuid: this.userUuid,\n      puuid: this.puuid,\n      uuid: this.uuid ? this.uuid : null,\n      dir: this.dir,\n      alien: this.alien,\n      name: this.name,\n      md5: this.md5,\n      size: this.size,\n      privacy: this.privacy,\n      path: this.path,\n      times: this.times,\n      parent: this.parent,\n    };\n  }\n\n  getFilters(): Filter[] {\n    return [\n      ...super.getFilters(),\n      new InputFilter(\"父级菜单uuid\", \"puuid\", null, false),\n      new InputFilter(\"用户\", \"userUuid\", null, false),\n      new InputFilter(\"关键字\", \"name\"),\n      new CheckFilter(\"文件夹\", \"dir\"),\n      new CheckFilter(\"应用数据\", \"alien\"),\n      new SortFilter(\"文件夹\", \"orderDir\"),\n      new SortFilter(\"下载次数\", \"orderTimes\"),\n      new SortFilter(\"大小\", \"orderSize\"),\n      new SortFilter(\"名称\", \"orderName\"),\n      new InputFilter(\"后缀名\", \"extensions\"),\n      new InputFilter(\"分享uuid\", \"shareUuid\"),\n      new InputFilter(\"提取码\", \"shareCode\"),\n      new InputFilter(\"分享根目录\", \"shareRootUuid\"),\n    ];\n  }\n\n  getUrlPrefix() {\n    return \"/api/matter\";\n  }\n\n  isImage() {\n    return FileUtil.isImage(this.name);\n  }\n\n  isPdf() {\n    return FileUtil.isPdf(this.name);\n  }\n\n  isText() {\n    return FileUtil.isText(this.name);\n  }\n\n  isDoc() {\n    return FileUtil.isDoc(this.name);\n  }\n\n  isPpt() {\n    return FileUtil.isPpt(this.name);\n  }\n\n  isXls() {\n    return FileUtil.isXls(this.name);\n  }\n\n  isAudio() {\n    return FileUtil.isAudio(this.name);\n  }\n\n  isVideo() {\n    return FileUtil.isVideo(this.name);\n  }\n\n  isPsd() {\n    return FileUtil.isPsd(this.name);\n  }\n\n  getIcon() {\n    if (FileUtil.isImage(this.name)) {\n      return ImageUtil.handleImageUrl(this.getPreviewUrl(), false, 100, 100);\n    } else {\n      return FileUtil.getIcon(this.name, this.dir);\n    }\n  }\n\n  //下载文件\n  download(downloadUrl?: string | null) {\n    if (!downloadUrl) {\n      downloadUrl = this.getDownloadUrl();\n    }\n    window.open(downloadUrl);\n  }\n\n  //预览文件 在分享的预览中才主动传入previewUrl.\n  preview(previewUrl?: string | null) {\n    let that = this;\n\n    let shareMode = true;\n    if (previewUrl) {\n      shareMode = true;\n    } else {\n      shareMode = false;\n      previewUrl = that.getPreviewUrl();\n    }\n\n    if (that.isImage()) {\n      ImagePreviewer.showSinglePhoto(previewUrl);\n    } else {\n      PreviewerHelper.preview(this);\n    }\n  }\n\n  httpCreateDirectory(\n    successCallback?: any,\n    errorCallback?: any,\n    finallyCallback?: any\n  ) {\n    let that = this;\n    let form = {userUuid: that.userUuid, name: that.name, puuid: that.puuid};\n\n    return this.httpPost(\n      Matter.URL_MATTER_CREATE_DIRECTORY,\n      form,\n      function (response: any) {\n        that.assign(response.data.data);\n        typeof successCallback === \"function\" && successCallback(response);\n      },\n      errorCallback,\n      finallyCallback\n    );\n  }\n\n  httpDelete(successCallback?: any, errorCallback?: any) {\n    this.httpPost(\n      Matter.URL_MATTER_DELETE,\n      {uuid: this.uuid},\n      function (response: any) {\n        typeof successCallback === \"function\" && successCallback(response);\n      },\n      errorCallback\n    );\n  }\n\n  httpDeleteBatch(uuids: string, successCallback?: any, errorCallback?: any) {\n    this.httpPost(\n      Matter.URL_MATTER_DELETE_BATCH,\n      {uuids: uuids},\n      function (response: any) {\n        typeof successCallback === \"function\" && successCallback(response);\n      },\n      errorCallback\n    );\n  }\n\n  httpRename(\n    name: string,\n    successCallback?: any,\n    errorCallback?: any,\n    finallyCallback?: any\n  ) {\n    let that = this;\n    this.httpPost(\n      Matter.URL_MATTER_RENAME,\n      {uuid: this.uuid, name: name},\n      function (response: any) {\n        that.assign(response.data.data);\n        typeof successCallback === \"function\" && successCallback(response);\n      },\n      errorCallback,\n      finallyCallback\n    );\n  }\n\n  httpChangePrivacy(\n    privacy: boolean,\n    successCallback?: any,\n    errorCallback?: any\n  ) {\n    let that = this;\n    this.httpPost(\n      Matter.URL_CHANGE_PRIVACY,\n      {uuid: this.uuid, privacy: privacy},\n      function (response: any) {\n        that.privacy = privacy;\n        if (typeof successCallback === \"function\") {\n          successCallback(response);\n          message.success(response.data.msg);\n        } else {\n          message.success(response.data.msg);\n        }\n      },\n      errorCallback\n    );\n  }\n\n  httpMove(\n    srcUuids: string,\n    destUuid: string,\n    successCallback?: any,\n    errorCallback?: any\n  ) {\n    let form: any = {srcUuids: srcUuids};\n    if (destUuid) {\n      form.destUuid = destUuid;\n    } else {\n      form.destUuid = \"root\";\n    }\n    this.httpPost(\n      Matter.URL_MATTER_MOVE,\n      form,\n      function (response: any) {\n        typeof successCallback === \"function\" && successCallback(response);\n      },\n      errorCallback\n    );\n  }\n\n  /*\n  以下是和上传相关的内容。\n   */\n\n  //从file中装填metaData\n  validate() {\n    if (!this.file) {\n      this.errorMessage = \"请选择上传文件\";\n      return false;\n    }\n\n    this.name = this.file.name;\n    if (!this.name) {\n      this.errorMessage = \"请选择上传文件\";\n      return false;\n    }\n\n    this.size = this.file.size;\n\n    this.errorMessage = null;\n    return true;\n  }\n\n  //验证过滤器有没有误填写，这个方法主要给开发者使用。\n  validateFilter() {\n    let filter = this.filter;\n    if (filter === null || filter === \"\") {\n      this.errorMessage = \"过滤器设置错误，请检查-1\";\n      console.error(\"过滤器设置错误，请检查.-1\");\n      return false;\n    }\n    if (filter !== \"*\") {\n      let regex1 = /^(image|audio|video|text)(\\|(image|audio|video|text))*$/g;\n      let regex2 = /^(\\.[\\w]+)(\\|\\.[\\w]+)*$/;\n      // 测试几种特殊类型 image|audio|video|text\n\n      if (!regex1.test(filter)) {\n        //测试后缀名\n        if (!regex2.test(filter)) {\n          this.errorMessage = \"过滤器设置错误，请检查-2\";\n          console.error(\"过滤器设置错误，请检查.-2\");\n          return false;\n        }\n      }\n    }\n\n    //validate privacy\n    let privacy = this.privacy;\n    if (!privacy) {\n      if (privacy !== false) {\n        this.errorMessage = \"privacy属性为Boolean类型\";\n        console.error(\"privacy属性为Boolean类型.\");\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  //验证用户上传的文件是否符合过滤器\n  validateFileType() {\n    if (!this.filter) {\n      this.errorMessage = \"该过滤条件有问题\";\n      return false;\n    }\n    if (this.filter === \"*\") {\n      this.errorMessage = null;\n      return true;\n    }\n\n    let type = MimeUtil.getMimeType(this.name);\n    let extension = MimeUtil.getExtension(this.name);\n    let simpleType = type.substring(0, type.indexOf(\"/\"));\n\n    //专门解决android微信浏览器中名字乱命名的bug.\n    if (StringUtil.startWith(this.name, \"image%3A\")) {\n      extension = \"jpg\";\n      simpleType = \"image\";\n    } else if (StringUtil.startWith(this.name, \"video%3A\")) {\n      extension = \"mp4\";\n      simpleType = \"video\";\n    } else if (StringUtil.startWith(this.name, \"audio%3A\")) {\n      extension = \"mp3\";\n      simpleType = \"audio\";\n    }\n\n    if (StringUtil.containStr(this.filter, extension)) {\n      this.errorMessage = null;\n      return true;\n    }\n\n    if (simpleType) {\n      if (StringUtil.containStr(this.filter, simpleType)) {\n        this.errorMessage = null;\n        return true;\n      }\n    }\n    this.errorMessage = \"您上传的文件格式不符合要求\";\n    return false;\n  }\n\n  //文件上传\n  httpUpload(successCallback?: any, failureCallback?: any) {\n    let that = this;\n\n    //验证是否装填好\n    if (!this.validate()) {\n      return;\n    }\n\n    //验证用户填写的过滤条件是否正确\n    if (!this.validateFilter()) {\n      return;\n    }\n\n    //验证是否满足过滤器\n    if (!this.validateFileType()) {\n      MessageBoxUtil.error(\"文件类型不满足，请重试\");\n      return;\n    }\n\n    //（兼容性：chrome，ff，IE9及以上）\n    let formData = new FormData();\n\n    formData.append(\"userUuid\", that.userUuid);\n    formData.append(\"puuid\", that.puuid);\n    formData.append(\"file\", that.file!);\n    formData.append(\"alien\", that.alien.toString());\n    formData.append(\"privacy\", that.privacy.toString());\n\n    //闭包\n    let lastTimeStamp = new Date().getTime();\n    let lastSize = 0;\n\n    that.loading = true;\n\n    HttpUtil.httpPostFile(\n      Matter.URL_MATTER_UPLOAD,\n      formData,\n      function (response: any) {\n        that.uuid = response.data.data.uuid;\n        SafeUtil.safeCallback(successCallback)(response);\n      },\n      function (err: any) {\n        const response = err.response;\n        that.errorMessage = response;\n        that.clear();\n        that.defaultErrorHandler(response);\n        SafeUtil.safeCallback(failureCallback)();\n      },\n      function () {\n        that.loading = false;\n      },\n      function (event) {\n        //上传进度。\n        that.progress = event.loaded / event.total;\n\n        let currentTime = new Date().getTime();\n        let deltaTime = currentTime - lastTimeStamp;\n\n        //每1s计算一次速度\n        if (deltaTime > 1000) {\n          lastTimeStamp = currentTime;\n\n          let currentSize = event.loaded;\n          let deltaSize = currentSize - lastSize;\n          lastSize = currentSize;\n\n          that.speed = NumberUtil.parseInt(\n            (deltaSize / (deltaTime / 1000)).toFixed(0)\n          );\n        }\n        that.updateUI();\n      }\n    );\n  }\n\n  //清除文件\n  clear() {\n    //filter,privacy不变\n    let matter = new Matter();\n    matter.filter = this.filter;\n    matter.privacy = this.privacy;\n    matter.errorMessage = this.errorMessage;\n    matter.uploadHint = this.uploadHint;\n    this.assign(matter);\n  }\n\n  getPreviewUrl(downloadTokenUuid?: string): string {\n    return `${EnvUtil.currentHost()}/api/alien/preview/${this.uuid}/${\n      this.name\n    }${downloadTokenUuid ? \"?downloadTokenUuid=\" + downloadTokenUuid : \"\"}`;\n  }\n\n  getDownloadUrl(downloadTokenUuid?: string): string {\n    return `${EnvUtil.currentHost()}/api/alien/download/${this.uuid}/${\n      this.name\n    }${downloadTokenUuid ? \"?downloadTokenUuid=\" + downloadTokenUuid : \"\"}`;\n  }\n\n  getShareDownloadUrl(\n    shareUuid: string,\n    shareCode: string,\n    shareRootUuid: string\n  ): string {\n    return `${EnvUtil.currentHost()}/api/alien/download/${this.uuid}/${\n      this.name\n    }?shareUuid=${shareUuid}&shareCode=${shareCode}&shareRootUuid=${shareRootUuid}`;\n  }\n\n  getSharePreviewUrl(\n    shareUuid: string,\n    shareCode: string,\n    shareRootUuid: String\n  ): string {\n    return `${EnvUtil.currentHost()}/api/alien/preview/${this.uuid}/${\n      this.name\n    }?shareUuid=${shareUuid}&shareCode=${shareCode}&shareRootUuid=${shareRootUuid}`;\n  }\n}\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport StringUtil from \"../../../common/util/StringUtil\";\r\nimport { Progress } from \"antd\";\r\nimport \"./UploadMatterPanel.less\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  matter: Matter;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class UploadMatterPanel extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  format = (percent: number) => {\r\n    return `${percent.toFixed(1)}%`\r\n  };\r\n\r\n  render() {\r\n    const { matter } = this.props;\r\n    return (\r\n      <div className=\"upload-matter-panel\">\r\n        {matter.loading ? (\r\n          <div className=\"huge-block clearfix\">\r\n            <div className=\"media\">\r\n              <div className=\"media-body\">{matter.file!.name}</div>\r\n            </div>\r\n            <Progress\r\n              className=\"progress\"\r\n              strokeColor={{\r\n                from: \"#108ee9\",\r\n                to: \"#87d068\",\r\n              }}\r\n              format={() => this.format(matter.progress * 100)}\r\n              percent={matter.progress * 100}\r\n              status=\"active\"\r\n            />\r\n            <div>\r\n              {`${Lang.t(\"matter.uploaded\")}: ${StringUtil.humanFileSize(\r\n                matter.file!.size * matter.progress\r\n              )}/${StringUtil.humanFileSize(\r\n                matter.file!.size\r\n              )} ${Lang.t(\"matter.speed\")}:${StringUtil.humanFileSize(matter.speed)}s`}\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport ImagePreviewer from \"../../widget/previewer/ImagePreviewer\";\r\nimport { Input, Upload, Button } from \"antd\";\r\nimport UploadMatterPanel from \"./UploadMatterPanel\";\r\nimport \"./MatterImage.less\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  value?: string;\r\n  onChange?: (value: string) => any;\r\n  preview?: boolean; //上传的照片是否需要预览\r\n  previewWidth?: number;\r\n  filter?: string;\r\n  uploadHint?: string;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class MatterImage extends TankComponent<IProps, IState> {\r\n  // 是否手动上传模式\r\n  manual = false;\r\n  matter = new Matter(this);\r\n  user = Moon.getSingleton().user;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  changeLink = (e: any) => {\r\n    SafeUtil.safeCallback(this.props.onChange)(e.target.value);\r\n  };\r\n\r\n  triggerUpload = (fileObj: any) => {\r\n    const { file } = fileObj;\r\n    const { filter = \"image\", uploadHint = \"\" } = this.props;\r\n    if (file) {\r\n      if (this.user.sizeLimit >= 0 && file.size > this.user.sizeLimit) {\r\n        MessageBoxUtil.error(\r\n          Lang.t(\"matter.sizeExceedLimit\", file.size, this.user.sizeLimit)\r\n        );\r\n        return;\r\n      }\r\n      this.matter.assign({\r\n        uploadHint,\r\n        filter,\r\n        file,\r\n        puuid: \"root\",\r\n        privacy: false,\r\n        dir: false,\r\n        alien: true,\r\n        userUuid: this.user.uuid,\r\n      });\r\n      this.matter.httpUpload(\r\n        () => {\r\n          SafeUtil.safeCallback(this.props.onChange)(\r\n            this.matter.getPreviewUrl()\r\n          );\r\n          this.matter = new Matter();\r\n          this.updateUI();\r\n        },\r\n        () => this.updateUI()\r\n      );\r\n    }\r\n  };\r\n\r\n  toggleHandle = () => {\r\n    this.manual = !this.manual;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { manual, matter } = this;\r\n    const {\r\n      value,\r\n      preview = true,\r\n      previewWidth = 200,\r\n      uploadHint,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"matter-image\">\r\n        <div className=\"tiny-block\">\r\n          {preview && value ? (\r\n            <img\r\n              className=\"p10 mb10 bg-white br5 border\"\r\n              style={{ width: `${previewWidth}px` }}\r\n              src={value}\r\n              onClick={() => ImagePreviewer.showSinglePhoto(value)}\r\n            />\r\n          ) : null}\r\n        </div>\r\n        <div className=\"composite-box\">\r\n          {manual ? (\r\n            <Input\r\n              className=\"content\"\r\n              placeholder={Lang.t(\"matter.fillInPicLink\")}\r\n              value={value}\r\n              onChange={this.changeLink}\r\n            />\r\n          ) : (\r\n            <Upload\r\n              className=\"content\"\r\n              customRequest={this.triggerUpload}\r\n              showUploadList={false}\r\n            >\r\n              <Button className=\"wp100 border-short\">{Lang.t(\"matter.chooseImage\")}</Button>\r\n            </Upload>\r\n          )}\r\n          <Button className=\"handle\" type=\"primary\" onClick={this.toggleHandle}>\r\n            {manual ? Lang.t(\"matter.uploadMode\") : Lang.t(\"matter.fillMode\")}\r\n          </Button>\r\n        </div>\r\n        {uploadHint ? <div className=\"italic\">{uploadHint}</div> : null}\r\n        <UploadMatterPanel matter={matter} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Edit.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport {Button, Form, Input, InputNumber, Select} from 'antd';\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport {FormInstance} from \"antd/lib/form\";\r\nimport {SaveOutlined} from \"@ant-design/icons/lib\";\r\nimport {UserRole, UserRoleList} from \"../../common/model/user/UserRole\";\r\nimport ColorSelectionOption from \"../../common/model/base/option/ColorSelectionOption\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport MatterImage from \"../matter/widget/MatterImage\";\r\n\r\n\r\ninterface RouteParam {\r\n  uuid: string\r\n}\r\n\r\n\r\ninterface IProps extends RouteComponentProps<RouteParam> {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class Edit extends TankComponent<IProps, IState> {\r\n\r\n  formRef = React.createRef<FormInstance>();\r\n\r\n  createMode: boolean = false\r\n\r\n  //登录的那个用户\r\n  user: User = Moon.getSingleton().user\r\n\r\n  //当前页面正在编辑的用户\r\n  currentUser: User = new User(this)\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n    this.currentUser.role = UserRole.USER\r\n  }\r\n\r\n  componentDidMount() {\r\n    let match = this.props.match;\r\n\r\n    if (match.params.uuid) {\r\n      this.createMode = false;\r\n      this.currentUser.uuid = match.params.uuid;\r\n      this.currentUser.httpDetail();\r\n    } else {\r\n      this.createMode = true;\r\n      this.updateUI()\r\n    }\r\n\r\n  }\r\n\r\n  onFinish(values: any) {\r\n    console.log('Success:', values);\r\n\r\n    let that = this\r\n\r\n    let user: User = this.user\r\n    let currentUser: User = this.currentUser\r\n\r\n    currentUser.assign(values)\r\n\r\n    currentUser.httpSave(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"))\r\n\r\n      //如果是自己的资料修改成功，更新一下本地。\r\n      if (user.uuid === currentUser.uuid) {\r\n        user.assign(currentUser)\r\n      }\r\n\r\n      Sun.navigateBack()\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let user: User = this.user\r\n    let currentUser: User = this.currentUser\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n    //当前是否为编辑自己的模式。\r\n    let editSelf: boolean = false\r\n    if (!this.createMode && user.uuid === currentUser.uuid) {\r\n      editSelf = true\r\n    }\r\n\r\n    //是否可以编辑角色。\r\n    let roleEditable: boolean = false\r\n    if (this.createMode || (user.uuid !== currentUser.uuid && user.role === UserRole.ADMINISTRATOR)) {\r\n      roleEditable = true\r\n    }\r\n\r\n    return (\r\n\r\n      <div className=\"page-user-edit\">\r\n\r\n        <TankTitle name={this.createMode ? Lang.t(\"user.createUser\") : Lang.t(\"user.editUser\")}>\r\n\r\n        </TankTitle>\r\n\r\n        <TankContentCard loading={currentUser.detailLoading}>\r\n\r\n          <Form\r\n            {...layout}\r\n            name=\"basic\"\r\n            ref={this.formRef}\r\n            onFinish={this.onFinish.bind(this)}\r\n            onFinishFailed={this.onFinishFailed.bind(this)}\r\n            onValuesChange={() => {\r\n              that.updateUI()\r\n            }}\r\n          >\r\n            {editSelf && (\r\n              <Form.Item\r\n                label={Lang.t(\"user.avatar\")}\r\n                name=\"avatarUrl\"\r\n                initialValue={currentUser.avatarUrl}\r\n              >\r\n                <MatterImage />\r\n              </Form.Item>\r\n            )}\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"user.username\")}\r\n              name=\"username\"\r\n              initialValue={currentUser.username}\r\n              rules={[{required: true, message: Lang.t(\"user.enterUsername\")}]}\r\n            >\r\n              <Input disabled={!this.createMode}/>\r\n            </Form.Item>\r\n\r\n            {\r\n              this.createMode && (\r\n                <Form.Item\r\n                  label={Lang.t(\"user.password\")}\r\n                  name=\"password\"\r\n                  rules={[{required: true, message: Lang.t(\"user.enterPassword\")}]}\r\n                >\r\n                  <Input.Password/>\r\n                </Form.Item>\r\n              )\r\n            }\r\n\r\n            {\r\n              this.createMode && (\r\n                <Form.Item\r\n                  name=\"confirmPassword\"\r\n                  label={Lang.t(\"user.confirmPassword\")}\r\n                  dependencies={['password']}\r\n                  hasFeedback\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: Lang.t(\"user.enterPassword\"),\r\n                    },\r\n                    ({getFieldValue}) => ({\r\n                      validator(rule, value) {\r\n                        if (!value || getFieldValue('password') === value) {\r\n                          return Promise.resolve();\r\n                        }\r\n                        return Promise.reject(Lang.t(\"user.passwordNotSame\"));\r\n                      },\r\n                    }),\r\n                  ]}\r\n                >\r\n                  <Input.Password/>\r\n                </Form.Item>\r\n              )\r\n            }\r\n            <Form.Item\r\n              label={Lang.t(\"user.role\")}\r\n              name=\"role\"\r\n              initialValue={currentUser.role}\r\n            >\r\n              <Select disabled={!roleEditable}>\r\n                {\r\n                  UserRoleList.filter((item: ColorSelectionOption, index: number) => {\r\n                    return item.value !== UserRole.GUEST\r\n                  }).map((item: ColorSelectionOption, index: number) => {\r\n                    return <Select.Option key={index} value={item.value}>{item.name}</Select.Option>\r\n                  })\r\n                }\r\n              </Select>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"user.singleFileSizeLimit\")}\r\n              required={true}\r\n            >\r\n              <Form.Item\r\n                name=\"sizeLimit\"\r\n                rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n                initialValue={currentUser.sizeLimit}\r\n                noStyle\r\n              >\r\n                <InputNumber min={-1} className='w150'/>\r\n              </Form.Item>\r\n              <span\r\n                className=\"pl10\"> {Lang.t(\"user.current\")}:\r\n                {(this.formRef && this.formRef.current) ?\r\n                  FileUtil.humanFileSize(this.formRef.current.getFieldValue(\"sizeLimit\"))\r\n                  : FileUtil.humanFileSize(currentUser.sizeLimit)}\r\n              </span>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"user.totalFileSizeLimit\")}\r\n              required={true}\r\n            >\r\n              <Form.Item\r\n                name=\"totalSizeLimit\"\r\n                rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n                initialValue={currentUser.totalSizeLimit}\r\n                noStyle\r\n              >\r\n                <InputNumber min={-1} className='w150'/>\r\n              </Form.Item>\r\n              <span\r\n                className=\"pl10\"> {Lang.t(\"user.current\")}:\r\n                {(this.formRef && this.formRef.current) ?\r\n                  FileUtil.humanFileSize(this.formRef.current.getFieldValue(\"totalSizeLimit\"))\r\n                  : FileUtil.humanFileSize(currentUser.totalSizeLimit)}\r\n              </span>\r\n            </Form.Item>\r\n\r\n            <div className=\"text-right\">\r\n              <Button type=\"primary\" htmlType=\"submit\" icon={<SaveOutlined/>}>\r\n                {this.createMode ? Lang.t(\"create\") : Lang.t(\"save\")}\r\n              </Button>\r\n            </div>\r\n\r\n          </Form>\r\n        </TankContentCard>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Edit.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\n\r\ninterface RouteParam {\r\n  authentication: string\r\n}\r\n\r\n\r\ninterface IProps extends RouteComponentProps<RouteParam> {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class Authentication extends TankComponent<IProps, IState> {\r\n\r\n  //登录的那个用户\r\n  user: User = Moon.getSingleton().user\r\n\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    let match = this.props.match;\r\n\r\n    console.log(match.params.authentication)\r\n\r\n    this.user.httpAuthenticationLogin(match.params.authentication, function () {\r\n      //转跳到首页\r\n      //Sun.navigateTo(\"/\")\r\n      window.location.href = \"/\"\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let user: User = this.user\r\n\r\n    return (\r\n      <div className=\"page-user-authentication\">\r\n        {Lang.t(\"user.redirecting\")}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport { Link, RouteComponentProps } from \"react-router-dom\";\r\nimport \"./Index.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport { Button, Tooltip, Tag, Divider, Empty } from \"antd\";\r\nimport { EditOutlined, ThunderboltOutlined } from \"@ant-design/icons\";\r\nimport InfoCell from \"../widget/InfoCell\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport ImagePreviewer from \"../widget/previewer/ImagePreviewer\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport SingleTextModal from \"../widget/SingleTextModal\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class Index extends TankComponent<IProps, IState> {\r\n  user: User = Moon.getSingleton().user;\r\n\r\n  preference: Preference = Moon.getSingleton().preference;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refresh();\r\n  }\r\n\r\n  //refresh preference.\r\n  refresh() {\r\n    let that = this;\r\n\r\n    that.preference.httpFetch(function () {\r\n      that.updateUI();\r\n    });\r\n  }\r\n\r\n  cleanup() {\r\n    let that = this;\r\n    let preference = this.preference;\r\n\r\n    SingleTextModal.open(\r\n      Lang.t(\"preference.systemCleanupPrompt\"),\r\n      \"\",\r\n      function (text: string) {\r\n        preference.httpSystemCleanup(text, function () {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { previewEngines } = this.preference.previewConfig;\r\n\r\n    return (\r\n      <div className=\"page-preference-index\">\r\n        <TankTitle name={Lang.t(\"layout.setting\")}>\r\n          <Button\r\n            className={\"ml10\"}\r\n            type={\"primary\"}\r\n            danger={true}\r\n            onClick={this.cleanup.bind(this)}\r\n            icon={<ThunderboltOutlined />}\r\n          >\r\n            {Lang.t(\"preference.systemCleanup\")}\r\n          </Button>\r\n        </TankTitle>\r\n\r\n        <TankContentCard>\r\n\r\n          <div className=\"basic-info\">\r\n            <header>\r\n              <p className=\"title\">{Lang.t(\"preference.basic\")}</p>\r\n              <Link to={\"/preference/edit\"}>\r\n                <Button type={\"primary\"} icon={<EditOutlined />}>\r\n                  {Lang.t(\"edit\")}\r\n                </Button>\r\n              </Link>\r\n            </header>\r\n            <InfoCell name={Lang.t(\"preference.websiteName\")}>\r\n              {this.preference.name}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.logo\")}>\r\n              {this.preference.logoUrl && (\r\n                <img\r\n                  src={this.preference.logoUrl}\r\n                  alt=\"logo\"\r\n                  className=\"img-logo\"\r\n                  onClick={() => {\r\n                    ImagePreviewer.showSinglePhoto(this.preference.logoUrl!);\r\n                  }}\r\n                />\r\n              )}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={\"favicon\"}>\r\n              {this.preference.faviconUrl && (\r\n                <img\r\n                  src={this.preference.faviconUrl}\r\n                  alt=\"logo\"\r\n                  className=\"img-favicon\"\r\n                  onClick={() => {\r\n                    ImagePreviewer.showSinglePhoto(this.preference.faviconUrl!);\r\n                  }}\r\n                />\r\n              )}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.copyright\")}>\r\n            <span\r\n              dangerouslySetInnerHTML={{ __html: this.preference.copyright }}\r\n            />\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.extraInfo\")}>\r\n            <span\r\n              dangerouslySetInnerHTML={{ __html: this.preference.record }}\r\n            />\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.zipMaxNumLimit\")}>\r\n              {this.preference.downloadDirMaxNum === -1\r\n                ? Lang.t(\"preference.noLimit\")\r\n                : this.preference.downloadDirMaxNum}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.zipMaxSizeLimit\")}>\r\n              {FileUtil.humanFileSize(this.preference.downloadDirMaxSize)}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.userDefaultSizeLimit\")}>\r\n              {FileUtil.humanFileSize(this.preference.defaultTotalSizeLimit)}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.allowRegister\")}>\r\n              {this.preference.allowRegister ? Lang.t(\"yes\") : Lang.t(\"no\")}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.docLink\")}>\r\n              <a href={\"https://tank-doc.eyeblue.cn/zh\"} target=\"_blank\">\r\n                https://tank-doc.eyeblue.cn/zh\r\n              </a>\r\n            </InfoCell>\r\n          </div>\r\n\r\n          <Divider />\r\n\r\n          <div className=\"preview-info\">\r\n            <header>\r\n              <p className=\"title\">\r\n                {Lang.t(\"preference.preview\")}\r\n              </p>\r\n              <Link to={\"/preference/engine/edit\"}>\r\n                <Button type={\"primary\"} icon={<EditOutlined />}>\r\n                  {Lang.t(\"edit\")}\r\n                </Button>\r\n              </Link>\r\n\r\n            </header>\r\n            <div className=\"content\">\r\n              {\r\n                previewEngines.length ? previewEngines.map((engines, index) => (\r\n                  <div key={index} className=\"relative mb10 engine-box\">\r\n                      <Tooltip title={Lang.t(\"preference.enginePreview\")}>\r\n                        {engines.previewInSite ? (\r\n                          <Tag className=\"preview-tip\" color=\"warning\">\r\n                            {Lang.t(\"preference.previewCurrent\")}\r\n                          </Tag>\r\n                        ) : (\r\n                          <Tag className=\"preview-tip\" color=\"success\">\r\n                            {Lang.t(\"preference.previewOpen\")}\r\n                          </Tag>\r\n                        )}\r\n                      </Tooltip>\r\n                      <InfoCell name={Lang.t(\"preference.engineReg\")}>\r\n                        {engines.url}\r\n                      </InfoCell>\r\n                      <InfoCell name={Lang.t(\"preference.engineSuffix\")}>\r\n                        {engines.extensions}\r\n                      </InfoCell>\r\n                  </div>\r\n                )) : <Empty description={Lang.t(\"preference.noEngine\")} />\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          <Divider />\r\n\r\n          <div className=\"scan-info\">\r\n            <header>\r\n              <p className=\"title\">\r\n                {Lang.t(\"preference.scan\")}\r\n              </p>\r\n              <Button type={\"primary\"} icon={<EditOutlined />}>\r\n                {Lang.t(\"edit\")}\r\n              </Button>\r\n            </header>\r\n          </div>\r\n\r\n        </TankContentCard>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./PreviewEngineCell.less\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport PreviewEngine from \"../../../common/model/preference/model/PreviewEngine\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Form, Input, Switch, Tooltip } from \"antd\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport { QuestionCircleOutlined } from \"@ant-design/icons\";\r\n\r\ninterface IProps {\r\n  previewEngine: PreviewEngine;\r\n  index: number;\r\n  onDelete: () => void;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class PreviewEngineCell extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { previewEngine } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-preview-engine-cell\">\r\n        <div className=\"engine-title\">\r\n          <span>{Lang.t(\"preference.engine\", this.props.index + 1)}</span>\r\n          <span>\r\n            <DeleteOutlined\r\n              className=\"btn-action text-danger\"\r\n              onClick={() => {\r\n                this.props.onDelete();\r\n              }}\r\n            />\r\n          </span>\r\n        </div>\r\n        <div className=\"engine-content\">\r\n          <Form.Item\r\n            label={\r\n              <Tooltip title={Lang.t(\"preference.engineRegHelper\")}>\r\n                <div>\r\n                  {Lang.t(\"preference.engineReg\")}\r\n                  <QuestionCircleOutlined className=\"btn-action text-warning\" />\r\n                </div>\r\n              </Tooltip>\r\n            }\r\n            rules={[\r\n              { required: true, message: Lang.t(\"preference.engineRegHelper\") },\r\n            ]}\r\n          >\r\n            <Input\r\n              value={previewEngine.url}\r\n              placeholder={Lang.t(\"preference.engineRegPlaceHolder\")}\r\n              onChange={(e) => {\r\n                previewEngine.url = e.target.value;\r\n                this.updateUI();\r\n              }}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={\r\n              <Tooltip title={Lang.t(\"preference.engineSuffixPlaceHolder\")}>\r\n                <div>\r\n                  {Lang.t(\"preference.engineSuffix\")}\r\n                  <QuestionCircleOutlined className=\"btn-action text-warning\" />\r\n                </div>\r\n              </Tooltip>\r\n            }\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: Lang.t(\"preference.engineSuffixPlaceHolder\"),\r\n              },\r\n            ]}\r\n          >\r\n            <Input\r\n              value={previewEngine.extensions}\r\n              placeholder={Lang.t(\"preference.engineSuffixPlaceHolder\")}\r\n              onChange={(e) => {\r\n                previewEngine.extensions = e.target.value;\r\n                this.updateUI();\r\n              }}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={\r\n              <Tooltip\r\n                title={`${Lang.t(\"preference.previewCurrent\")} or ${Lang.t(\r\n                  \"preference.previewOpen\"\r\n                )}`}\r\n              >\r\n                <div>\r\n                  {Lang.t(\"preference.previewCurrent\")}\r\n                  <QuestionCircleOutlined className=\"btn-action text-warning\" />\r\n                </div>\r\n              </Tooltip>\r\n            }\r\n          >\r\n            <Switch\r\n              checked={previewEngine.previewInSite}\r\n              onChange={(val) => {\r\n                previewEngine.previewInSite = val;\r\n                this.updateUI();\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./PreviewConfigPanel.less\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport PreviewConfig from \"../../../common/model/preference/model/PreviewConfig\";\r\nimport PreviewEngine from \"../../../common/model/preference/model/PreviewEngine\";\r\nimport PreviewEngineCell from \"./PreviewEngineCell\";\r\nimport { Button } from \"antd\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  previewConfig: PreviewConfig;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class PreviewConfigPanel extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  addEngine = () => {\r\n    let previewConfig: PreviewConfig = this.props.previewConfig;\r\n\r\n    let engine: PreviewEngine = new PreviewEngine();\r\n\r\n    previewConfig.previewEngines.push(engine);\r\n\r\n    this.updateUI();\r\n  };\r\n\r\n  delEngineCell = (index: number) => {\r\n    this.props.previewConfig.previewEngines.splice(index, 1);\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { previewConfig } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-preview-config-panel\">\r\n        {previewConfig.previewEngines.map(\r\n          (previewEngine: PreviewEngine, index: number) => {\r\n            return (\r\n              <PreviewEngineCell\r\n                key={index}\r\n                previewEngine={previewEngine}\r\n                index={index}\r\n                onDelete={() => {\r\n                  this.delEngineCell(index);\r\n                }}\r\n              />\r\n            );\r\n          }\r\n        )}\r\n\r\n        <Button\r\n          type=\"dashed\"\r\n          block={true}\r\n          icon={<PlusOutlined />}\r\n          onClick={this.addEngine.bind(this)}\r\n        >\r\n          {Lang.t(\"preference.newEngine\")}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Edit.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport {Button, Form, Input, InputNumber, Switch} from \"antd\";\r\nimport {SaveOutlined} from \"@ant-design/icons\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport {FormInstance} from \"antd/lib/form\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport MatterImage from \"../matter/widget/MatterImage\";\r\nimport PreviewConfigPanel from \"./widget/PreviewConfigPanel\";\r\n\r\ninterface IProps extends RouteComponentProps {\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class Edit extends TankComponent<IProps, IState> {\r\n  formRef = React.createRef<FormInstance>();\r\n\r\n  user: User = Moon.getSingleton().user;\r\n  preference: Preference = Moon.getSingleton().preference;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n\r\n    this.preference.detailLoading = true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    that.refreshPreference();\r\n  }\r\n\r\n  refreshPreference() {\r\n    let that = this;\r\n\r\n    that.preference.httpFetch(function () {\r\n      that.preference.detailLoading = false;\r\n      that.updateUI();\r\n    });\r\n  }\r\n\r\n  onFinish(values: any) {\r\n    console.log(\"Success:\", values);\r\n\r\n    let that = this;\r\n\r\n    let user = that.user;\r\n\r\n    that.preference.assign(values);\r\n\r\n    that.preference.httpSave(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n\r\n      Sun.updateFrame();\r\n\r\n      Sun.navigateTo(\"/preference/index\");\r\n    });\r\n  }\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n    console.log(\"Failed:\", errorInfo);\r\n  }\r\n\r\n  render() {\r\n    let that = this;\r\n\r\n    let preference = that.preference;\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n    let initialValues: any = preference.getForm();\r\n\r\n    return (\r\n      <div className=\"page-preference-edit\">\r\n        <TankTitle name={Lang.t(\"preference.editPreference\")} />\r\n\r\n        <TankContentCard loading={preference.detailLoading}>\r\n          <Form\r\n            {...layout}\r\n            name=\"basic\"\r\n            ref={this.formRef}\r\n            initialValues={initialValues}\r\n            onFinish={this.onFinish.bind(this)}\r\n            onFinishFailed={this.onFinishFailed.bind(this)}\r\n            onValuesChange={() => that.updateUI()}\r\n          >\r\n            <Form.Item\r\n              label={Lang.t(\"preference.websiteName\")}\r\n              name=\"name\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: Lang.t(\"preference.enterWebsiteName\"),\r\n                },\r\n              ]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"logo\" name=\"logoUrl\">\r\n              <MatterImage uploadHint={Lang.t(\"preference.logoSquare\")} />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"favicon\" name=\"faviconUrl\">\r\n              <MatterImage\r\n                filter=\".ico\"\r\n                previewWidth={60}\r\n                uploadHint={Lang.t(\"preference.onlyAllowIco\")}\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item label={Lang.t(\"preference.copyright\")} name=\"copyright\">\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item label={Lang.t(\"preference.extraInfo\")} name=\"record\">\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"preference.zipMaxNumLimit\")}\r\n              name=\"downloadDirMaxNum\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: Lang.t(\"preference.enterZipMaxNumLimit\"),\r\n                },\r\n              ]}\r\n            >\r\n              <InputNumber min={-1} max={1000} className=\"w150\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"preference.zipMaxSizeLimit\")}\r\n              required={true}\r\n            >\r\n              <Form.Item\r\n                name=\"downloadDirMaxSize\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: Lang.t(\"preference.enterZipMaxSizeLimit\"),\r\n                  },\r\n                ]}\r\n                noStyle\r\n              >\r\n                <InputNumber min={-1} className=\"w150\" />\r\n              </Form.Item>\r\n              <span className=\"pl10\">\r\n                {\" \"}\r\n                {Lang.t(\"preference.current\")}:\r\n                {this.formRef && this.formRef.current\r\n                  ? FileUtil.humanFileSize(\r\n                      this.formRef.current.getFieldValue(\"downloadDirMaxSize\")\r\n                    )\r\n                  : FileUtil.humanFileSize(preference.defaultTotalSizeLimit)}\r\n              </span>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"preference.userDefaultSizeLimit\")}\r\n              required={true}\r\n            >\r\n              <Form.Item\r\n                name=\"defaultTotalSizeLimit\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: Lang.t(\"preference.enterUserDefaultSizeLimit\"),\r\n                  },\r\n                ]}\r\n                noStyle\r\n              >\r\n                <InputNumber min={-1} className=\"w150\" />\r\n              </Form.Item>\r\n              <span className=\"pl10\">\r\n                {\" \"}\r\n                {Lang.t(\"preference.current\")}:\r\n                {this.formRef && this.formRef.current\r\n                  ? FileUtil.humanFileSize(\r\n                      this.formRef.current.getFieldValue(\r\n                        \"defaultTotalSizeLimit\"\r\n                      )\r\n                    )\r\n                  : FileUtil.humanFileSize(preference.defaultTotalSizeLimit)}\r\n              </span>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"preference.allowRegister\")}\r\n              name=\"allowRegister\"\r\n              required={true}\r\n              valuePropName=\"checked\"\r\n            >\r\n              <Switch />\r\n            </Form.Item>\r\n\r\n            <Form.Item label={Lang.t(\"preference.previewConfig\")}>\r\n              <PreviewConfigPanel previewConfig={preference.previewConfig} />\r\n            </Form.Item>\r\n\r\n            <div className=\"text-right\">\r\n              <Button type=\"primary\" htmlType=\"submit\" icon={<SaveOutlined />}>\r\n                {Lang.t(\"save\")}\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </TankContentCard>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport \"./PreviewEngineEdit.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport { Button, Form } from \"antd\";\r\nimport { FormInstance } from \"antd/lib/form\";\r\nimport { SaveOutlined } from \"@ant-design/icons\";\r\nimport PreviewConfigPanel from \"./widget/PreviewConfigPanel\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class PreviewEngineEdit extends TankComponent<IProps, IState> {\r\n  formRef = React.createRef<FormInstance>();\r\n  preference: Preference = Moon.getSingleton().preference;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.preference.detailLoading = true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refresh();\r\n  }\r\n\r\n  refresh = () => {\r\n    this.preference.httpFetch(() => {\r\n      this.preference.detailLoading = false;\r\n      this.updateUI();\r\n    });\r\n  };\r\n\r\n  finish = (values: any) => {\r\n    this.preference.assign(values);\r\n    this.preference.httpSavePreviewEngine(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      Sun.updateFrame();\r\n      Sun.navigateTo(\"/preference/index\");\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { preference } = this;\r\n    const layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 18 },\r\n    };\r\n\r\n    return (\r\n      <div className=\"preference-preview-engine-edit\">\r\n        <TankTitle name={Lang.t(\"preference.editPreviewEngine\")} />\r\n        <TankContentCard loading={preference.detailLoading}>\r\n          <Form\r\n            {...layout}\r\n            name=\"preview-engine\"\r\n            ref={this.formRef}\r\n            initialValues={preference.getForm()}\r\n            onFinish={this.finish}\r\n            onValuesChange={this.updateUI}\r\n          >\r\n            <Form.Item label={Lang.t(\"preference.previewConfig\")}>\r\n              <PreviewConfigPanel previewConfig={preference.previewConfig} />\r\n            </Form.Item>\r\n            <div className=\"text-right\">\r\n              <Button type=\"primary\" htmlType=\"submit\" icon={<SaveOutlined />}>\r\n                {Lang.t(\"save\")}\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </TankContentCard>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport \"./RatePanel.less\"\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport {ArrowDownOutlined, ArrowUpOutlined} from \"@ant-design/icons/lib\";\r\nimport Color from \"../../../common/model/base/option/Color\";\r\n\r\ninterface IProps {\r\n  name: string\r\n  standardValue: number\r\n  compareValue: number\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class RatePanel extends TankComponent <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  getValue(): number {\r\n    if (this.props.standardValue === 0) {\r\n      if (this.props.compareValue === 0) {\r\n        return 0;\r\n      } else {\r\n        return 100;\r\n      }\r\n    } else {\r\n      let v1 = this.props.compareValue - this.props.standardValue\r\n      let v2 = v1 / this.props.standardValue\r\n      return parseInt((v2 * 100).toFixed(0))\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n    let name: string = this.props.name\r\n\r\n    let noData: boolean = this.props.standardValue === 0 && this.props.compareValue === 0\r\n    let infinite: boolean = this.props.standardValue === 0 && this.props.compareValue > 0\r\n    let value: number = this.getValue()\r\n\r\n    return (\r\n      <span className=\"widget-rate-panel\">\r\n\r\n            <span className=\"name\">{name}</span>\r\n\r\n        {infinite ? (\r\n          <span className=\"infinite\">∞</span>\r\n        ) : (\r\n          noData ? (\r\n            <span className=\"no-data\"> - </span>\r\n          ) : (\r\n            <span>{value > 0 ? '+' : ''}{value}%</span>\r\n          )\r\n        )}\r\n\r\n        {\r\n          (!noData && value < 0) &&\r\n          (<ArrowDownOutlined style={{fontSize: 16, color: Color.SUCCESS}}/>)\r\n        }\r\n\r\n        {\r\n          (!noData && (infinite || value >= 0)) &&\r\n          (<ArrowUpOutlined style={{fontSize: 16, color: Color.DANGER}}/>)\r\n        }\r\n\r\n      </span>\r\n    )\r\n  }\r\n}\r\n\r\n","import SafeUtil from '../../util/SafeUtil';\nimport BaseEntity from '../base/BaseEntity';\nimport Filter from \"../base/filter/Filter\";\nimport SortFilter from \"../base/filter/SortFilter\";\nimport InputFilter from \"../base/filter/InputFilter\";\nimport SelectionFilter from \"../base/filter/SelectionFilter\";\nimport {UserStatusList} from \"../user/UserStatus\";\n\n\nexport default class Dashboard extends BaseEntity {\n\n  static URL_ACTIVE_IP_TOP10 = \"/api/dashboard/active/ip/top10\"\n  static URL_ETL = \"/api/dashboard/etl\"\n\n  invokeNum: number = 0;\n  totalInvokeNum: number = 0;\n  uv: number = 0;\n  totalUv: number = 0;\n  matterNum: number = 0;\n  totalMatterNum: number = 0;\n  fileSize: number = 0;\n  totalFileSize: number = 0;\n  avgCost: number = 0;\n  dt: string = \"\";\n\n\n  constructor(reactComponent?: React.Component) {\n\n    super(reactComponent);\n\n  }\n\n  assign(obj: any) {\n    super.assign(obj);\n\n  }\n\n  getFilters(): Filter[] {\n    return [\n      ...super.getFilters(),\n      new SortFilter(\"按DT排序\", \"orderDt\"),\n\n    ]\n  }\n\n  httpActiveIpTop10(successCallback?: any, errorCallback?: any, finalCallback?: any) {\n    let that = this\n    this.httpPost(Dashboard.URL_ACTIVE_IP_TOP10, {}, function (response: any) {\n\n      SafeUtil.safeCallback(successCallback)(response.data.data);\n\n    }, errorCallback, finalCallback)\n  }\n\n\n  httpEtl(successCallback?: any, errorCallback?: any, finalCallback?: any) {\n    let that = this\n    this.httpPost(Dashboard.URL_ETL, {}, function (response: any) {\n\n      SafeUtil.safeCallback(successCallback)(response.data.data);\n\n    }, errorCallback, finalCallback)\n  }\n\n}\n\n\n\n\n","import React from 'react';\nimport {Link, RouteComponentProps} from \"react-router-dom\";\nimport \"./Index.less\"\nimport TankComponent from \"../../common/component/TankComponent\";\nimport TankTitle from \"../widget/TankTitle\";\nimport {Alert, Col, Row} from 'antd';\nimport RatePanel from \"./widget/RatePanel\";\nimport ReactEcharts from 'echarts-for-react';\nimport Echarts from 'echarts';\nimport theme from \"./theme.json\"\nimport Pager from \"../../common/model/base/Pager\";\nimport Dashboard from '../../common/model/dashboard/Dashboard';\nimport DateUtil from '../../common/util/DateUtil';\nimport SortDirection from \"../../common/model/base/SortDirection\";\nimport FileUtil from \"../../common/util/FileUtil\";\nimport Matter from '../../common/model/matter/Matter';\nimport Lang from \"../../common/model/global/Lang\";\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\n\nEcharts.registerTheme('tank_theme', theme);\n\ninterface IProps extends RouteComponentProps {\n\n}\n\ninterface IState {\n\n}\n\ninterface IpStruct {\n  ip: string\n  times: number\n}\n\nexport default class Index extends TankComponent<IProps, IState> {\n\n\n  //获取分页的一个帮助器\n  pager: Pager<Dashboard> = new Pager<Dashboard>(this, Dashboard, 15);\n\n  //今天的统计情况\n  dashboard: Dashboard = new Dashboard(this)\n  yesterdayDashboard: Dashboard = new Dashboard(this)\n\n  matterPager: Pager<Matter> = new Pager<Matter>(this, Matter, 10);\n\n  activeIpTop10: IpStruct[] = []\n\n  //****************作图需要的对象******************/\n  days: number = 15\n  //用来存放日期的，辅助x轴的生成\n  dateStrings: string[] = []\n\n  //调用量周环比\n  standardWeekInvokeNum: number = 0\n  compareWeekInvokeNum: number = 0\n  //调用量日环比\n  standardDayInvokeNum: number = 0\n  compareDayInvokeNum: number = 0\n  //UV周环比\n  standardWeekUv: number = 0\n  compareWeekUv: number = 0\n  //UV日环比\n  standardDayUv: number = 0\n  compareDayUv: number = 0\n  //文件总数周环比\n  standardWeekMatterNum: number = 0\n  compareWeekMatterNum: number = 0\n  //文件总数日环比\n  standardDayMatterNum: number = 0\n  compareDayMatterNum: number = 0\n  //文件大小周环比\n  standardWeekSize: number = 0\n  compareWeekSize: number = 0\n  //文件大小日环比\n  standardDaySize: number = 0\n  compareDaySize: number = 0\n\n  invokeListOption: any = {\n    tooltip: {},\n    legend: {\n      data: ['PV', 'UV']\n    },\n    xAxis: {\n      name: Lang.t(\"assign.date\"),\n      data: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\n    },\n    yAxis: {\n      name: Lang.t(\"assign.num\")\n    },\n    series: [{\n      name: 'PV',\n      type: 'bar',\n      data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n    }, {\n      name: 'UV',\n      type: 'line',\n      data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n    }]\n  };\n\n  constructor(props: IProps) {\n    super(props);\n\n    this.state = {};\n\n  }\n\n  componentDidMount() {\n\n    this.refresh()\n\n  }\n\n  refresh() {\n\n    this.updateDateStrings()\n    this.refreshDashboardPager()\n    this.refreshMatterPager()\n    this.refreshActiveIpTop10()\n  }\n\n  updateDateStrings() {\n    let that = this;\n    //更新横坐标 从今天开始倒推\n    let arr = []\n    for (let d = that.days - 1; d >= 0; d--) {\n      let thenDate = new Date((new Date()).getTime() - d * 24 * 60 * 60 * 1000)\n      arr.push(DateUtil.simpleDate(thenDate))\n    }\n    that.dateStrings = arr\n  }\n\n  //获取15日调用分时数据\n  refreshDashboardPager() {\n    let that = this;\n\n    this.pager.setFilterValue(\"orderDt\", SortDirection.DESC)\n\n    this.pager.httpList(function (response: any) {\n\n      let list = that.pager.data\n\n      if (list.length > 0) {\n        that.dashboard.assign(list[0])\n      }\n\n      if (list.length > 1) {\n        that.yesterdayDashboard.assign(list[1])\n      }\n\n      //数据转换成map，方便检索\n      let map: { [key: string]: Dashboard } = {}\n      for (let i = 0; i < list.length; i++) {\n        map[list[i].dt] = list[i]\n      }\n\n      let invokeNumData = []\n      let uvData = []\n      let matterNumData = []\n      let fileSizeData = []\n      for (let i = 0; i < that.days; i++) {\n        invokeNumData.push(0)\n        uvData.push(0)\n        matterNumData.push(0)\n        fileSizeData.push(0)\n      }\n\n      //按照日期对应。\n      for (let i = 0; i < that.dateStrings.length; i++) {\n        let item = map[that.dateStrings[i]];\n        if (item) {\n          invokeNumData[i] = item.invokeNum\n          uvData[i] = item.uv\n          matterNumData[i] = item.matterNum\n          fileSizeData[i] = item.fileSize\n\n        }\n      }\n\n      //同环比\n      that.standardWeekInvokeNum = 0\n      that.compareWeekInvokeNum = 0\n      //调用量日环比\n      that.standardDayInvokeNum = 0\n      that.compareDayInvokeNum = 0\n      //UV周环比\n      that.standardWeekUv = 0\n      that.compareWeekUv = 0\n      //UV日环比\n      that.standardDayUv = 0\n      that.compareDayUv = 0\n\n      //文件总数周环比\n      that.standardWeekMatterNum = 0\n      that.compareWeekMatterNum = 0\n      //文件总数日环比\n      that.standardDayMatterNum = 0\n      that.compareDayMatterNum = 0\n      //文件大小周环比\n      that.standardWeekSize = 0\n      that.compareWeekSize = 0\n      //文件大小日环比\n      that.standardDaySize = 0\n      that.compareDaySize = 0\n\n      for (let i = 0; i < that.days; i++) {\n        if (i >= 1 && i <= 7) {\n          that.standardWeekInvokeNum += invokeNumData[i]\n          that.standardWeekUv += uvData[i]\n          that.standardWeekMatterNum += matterNumData[i]\n          that.standardWeekSize += fileSizeData[i]\n\n        } else if (i >= 8 && i <= 14) {\n          that.compareWeekInvokeNum += invokeNumData[i]\n          that.compareWeekUv += uvData[i]\n          that.compareWeekMatterNum += matterNumData[i]\n          that.compareWeekSize += fileSizeData[i]\n        }\n        if (i === 13) {\n          that.standardDayInvokeNum = invokeNumData[i]\n          that.standardDayUv = uvData[i]\n          that.standardDayMatterNum = matterNumData[i]\n          that.standardDaySize = fileSizeData[i]\n\n        }\n        if (i === 14) {\n          that.compareDayInvokeNum = invokeNumData[i]\n          that.compareDayUv = uvData[i]\n          that.compareDayMatterNum = matterNumData[i]\n          that.compareDaySize = fileSizeData[i]\n        }\n      }\n\n\n      that.invokeListOption.xAxis.data = that.dateStrings.map((k) => k.substr(5))\n      that.invokeListOption.series[0].data = invokeNumData\n      that.invokeListOption.series[1].data = uvData\n\n      that.updateUI()\n    })\n\n  }\n\n  //获取下载前10的文件\n  refreshMatterPager() {\n    let that = this;\n    that.matterPager.setFilterValue(\"orderTimes\", SortDirection.DESC)\n    that.matterPager.httpList()\n  }\n\n  refreshActiveIpTop10() {\n    let that = this\n    that.dashboard.httpActiveIpTop10(function (data: any) {\n      that.activeIpTop10 = data\n      that.updateUI()\n    })\n  }\n\n  reRun() {\n    let that = this\n    that.dashboard.httpEtl(function (data: any) {\n\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"))\n\n      that.refresh()\n    })\n  }\n\n  onChartReady() {\n\n  }\n\n  render() {\n\n    let that = this\n\n    let dashboard: Dashboard = this.dashboard\n    let yesterdayDashboard: Dashboard = this.yesterdayDashboard\n\n    return (\n      <div className=\"page-dashboard-index\">\n\n        <TankTitle name={Lang.t(\"layout.dashboard\")}>\n        </TankTitle>\n\n        <Row gutter={18}>\n          <Col xs={24} sm={24} md={12} lg={6}>\n            <div className=\"text-block\">\n              <div className=\"upper\">\n                <div className=\"indicator\">{Lang.t(\"dashboard.totalInvokeNum\")}</div>\n                <div className=\"amount\">{dashboard.totalInvokeNum}</div>\n                <div>\n                  <RatePanel name={Lang.t(\"dashboard.weekRate\")} standardValue={this.standardWeekInvokeNum}\n                             compareValue={this.compareWeekInvokeNum}/>\n                  <RatePanel name={Lang.t(\"dashboard.dayRate\")} standardValue={this.standardDayInvokeNum}\n                             compareValue={this.compareDayInvokeNum}/>\n                </div>\n              </div>\n              <div className=\"lower\">\n                {Lang.t(\"dashboard.yesterdayInvoke\")}:{yesterdayDashboard.invokeNum}\n              </div>\n            </div>\n          </Col>\n\n          <Col xs={24} sm={24} md={12} lg={6}>\n            <div className=\"text-block\">\n              <div className=\"upper\">\n                <div className=\"indicator\">{Lang.t(\"dashboard.totalUV\")}</div>\n                <div className=\"amount\">{dashboard.totalUv}</div>\n                <div>\n                  <RatePanel name={Lang.t(\"dashboard.weekRate\")} standardValue={this.standardWeekUv}\n                             compareValue={this.compareWeekUv}/>\n                  <RatePanel name={Lang.t(\"dashboard.dayRate\")} standardValue={this.standardDayUv}\n                             compareValue={this.compareDayUv}/>\n                </div>\n              </div>\n              <div className=\"lower\">\n                {Lang.t(\"dashboard.yesterdayUV\")}:{yesterdayDashboard.uv}\n              </div>\n            </div>\n          </Col>\n\n\n          <Col xs={24} sm={24} md={12} lg={6}>\n            <div className=\"text-block\">\n              <div className=\"upper\">\n                <div className=\"indicator\">{Lang.t(\"dashboard.totalMatterNum\")}</div>\n                <div className=\"amount\">{dashboard.totalMatterNum}</div>\n                <div>\n                  <RatePanel name={Lang.t(\"dashboard.weekRate\")} standardValue={this.standardWeekMatterNum}\n                             compareValue={this.compareWeekMatterNum}/>\n                  <RatePanel name={Lang.t(\"dashboard.dayRate\")} standardValue={this.standardDayMatterNum}\n                             compareValue={this.compareDayMatterNum}/>\n                </div>\n              </div>\n              <div className=\"lower\">\n                {Lang.t(\"dashboard.yesterdayMatterNum\")}:{yesterdayDashboard.matterNum}\n              </div>\n            </div>\n          </Col>\n\n          <Col xs={24} sm={24} md={12} lg={6}>\n            <div className=\"text-block\">\n              <div className=\"upper\">\n                <div className=\"indicator\">{Lang.t(\"dashboard.totalFileSize\")}</div>\n                <div className=\"amount\">{FileUtil.humanFileSize(dashboard.totalFileSize)}</div>\n                <div>\n                  <RatePanel name={Lang.t(\"dashboard.weekRate\")} standardValue={this.standardWeekSize}\n                             compareValue={this.compareWeekSize}/>\n                  <RatePanel name={Lang.t(\"dashboard.dayRate\")} standardValue={this.standardDaySize}\n                             compareValue={this.compareDaySize}/>\n                </div>\n              </div>\n              <div className=\"lower\">\n                {Lang.t(\"dashboard.yesterdayMatterSize\")}:{FileUtil.humanFileSize(yesterdayDashboard.fileSize)}\n              </div>\n            </div>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col span={24}>\n\n            <div className=\"figure-block\">\n              <div className=\"title\">\n                {Lang.t(\"dashboard.recentDayInvokeUV\", 15)}\n              </div>\n              <figure>\n                <ReactEcharts\n                  option={that.invokeListOption}\n                  notMerge={true}\n                  lazyUpdate={false}\n                  theme={\"tank_theme\"}\n                  onChartReady={this.onChartReady.bind(this)}\n                  showLoading={this.pager.loading}\n                  opts={{renderer: \"svg\"}}/>\n              </figure>\n            </div>\n\n\n          </Col>\n        </Row>\n\n        <Row gutter={18}>\n          <Col sm={24} md={12}>\n\n            <div className=\"figure-block\">\n              <div className=\"title\">\n                {Lang.t(\"dashboard.downloadMatterTop10\")}\n              </div>\n              <div className=\"list-rank\">\n                <ul>\n                  {\n                    this.matterPager.data.map((matter: Matter, index: number) => {\n                      return (\n                        <li key={index}>\n                          <span className={`rank ${index < 3 ? 'top3' : ''}`}>{index + 1}</span>\n                          <Link className=\"name\" to={'/matter/detail/' + matter.uuid}>{matter.name}</Link>\n                          <span className=\"info\">{matter.times}</span>\n                        </li>\n                      )\n                    })\n                  }\n                </ul>\n              </div>\n            </div>\n\n\n          </Col>\n\n\n          <Col sm={24} md={12}>\n\n            <div className=\"figure-block\">\n              <div className=\"title\">\n                {Lang.t(\"dashboard.activeIpTop10\")}\n              </div>\n              <div className=\"list-rank\">\n                <ul>\n                  {\n                    this.activeIpTop10.map((item: IpStruct, index: number) => {\n                      return (\n                        <li key={index}>\n                          <span className={`rank ${index < 3 ? 'top3' : ''}`}>{index + 1}</span>\n                          <span className=\"name\">{item.ip}</span>\n                          <span className=\"info\">{item.times}</span>\n                        </li>\n                      )\n                    })\n                  }\n                </ul>\n              </div>\n            </div>\n\n          </Col>\n\n        </Row>\n\n        <div>\n          <Alert\n            message={<span>\n              {Lang.t(\"dashboard.warnHint\")}\n              <span className=\"link\" onClick={this.reRun.bind(this)}>{Lang.t(\"dashboard.reRun\")}</span>\n            </span>}\n            type=\"warning\"\n          />\n        </div>\n\n\n      </div>\n    );\n  }\n}\n\n\n","import SafeUtil from '../../util/SafeUtil';\r\nimport BaseEntity from '../base/BaseEntity';\r\nimport User from \"../user/User\";\r\n\r\nexport default class Install extends BaseEntity {\r\n\r\n  static URL_VERIFY = '/api/install/verify'\r\n  static URL_TABLE_INFO_LIST = '/api/install/table/info/list'\r\n  static URL_ADMIN_LIST = '/api/install/admin/list'\r\n  static URL_CREATE_TABLE = '/api/install/create/table'\r\n  static URL_CREATE_ADMIN = '/api/install/create/admin'\r\n  static URL_VALIDATE_ADMIN = '/api/install/validate/admin'\r\n  static URL_FINISH = '/api/install/finish'\r\n\r\n  //数据库名\r\n  mysqlPort: number = 3306\r\n  mysqlHost: string = \"127.0.0.1\"\r\n  mysqlSchema: string = \"tank\"\r\n  mysqlUsername: string = \"tank\"\r\n  mysqlPassword: string | null = null\r\n  mysqlCharset: string = \"utf8\"\r\n\r\n  //管理员用户名\r\n  adminUsername: string | null = null\r\n  adminPassword: string | null = null\r\n  adminRepassword: string | null = null\r\n\r\n  //表元信息\r\n  tableInfoList: any[] = []\r\n\r\n  //管理员列表\r\n  adminList: User[] = []\r\n\r\n  //数据库连接是否可用\r\n  verified: boolean = false\r\n  //管理员配置完毕\r\n  adminConfigured: boolean = false\r\n\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n\r\n    super(reactComponent);\r\n\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n  }\r\n\r\n  getMysqlForm() {\r\n    return {\r\n      mysqlHost: this.mysqlHost,\r\n      mysqlPort: this.mysqlPort,\r\n      mysqlSchema: this.mysqlSchema,\r\n      mysqlUsername: this.mysqlUsername,\r\n      mysqlPassword: this.mysqlPassword,\r\n      mysqlCharset: this.mysqlCharset,\r\n    }\r\n  }\r\n\r\n  getForm() {\r\n    return {\r\n      mysqlPort: this.mysqlPort,\r\n      mysqlHost: this.mysqlHost,\r\n      mysqlSchema: this.mysqlSchema,\r\n      mysqlUsername: this.mysqlUsername,\r\n      mysqlPassword: this.mysqlPassword,\r\n      mysqlCharset: this.mysqlCharset,\r\n      adminUsername: this.adminUsername,\r\n      adminPassword: this.adminPassword,\r\n    }\r\n  }\r\n\r\n\r\n  //表创建完毕\r\n  tableCreated() {\r\n    if (!this.tableInfoList || this.tableInfoList.length === 0) {\r\n      return false\r\n    }\r\n    for (let i = 0; i < this.tableInfoList.length; i++) {\r\n      let tableInfo = this.tableInfoList[i]\r\n      if (!tableInfo.tableExist) {\r\n        return false\r\n      }\r\n\r\n      if (tableInfo.tableExist && tableInfo.missingFields.length !== 0) {\r\n        return false\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  httpVerify(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    this.httpPost(Install.URL_VERIFY, this.getMysqlForm(), function (response: any) {\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n\r\n    }, errorCallback)\r\n  }\r\n\r\n  httpTableInfoList(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.verified) {\r\n      this.defaultErrorHandler(\"Please verify mysql first\", errorCallback)\r\n      return\r\n    }\r\n\r\n    this.httpPost(Install.URL_TABLE_INFO_LIST, this.getForm(), function (response: any) {\r\n\r\n      that.tableInfoList.splice(0, that.tableInfoList.length);\r\n      that.tableInfoList.push(...response.data.data)\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n  httpCreateTable(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.verified) {\r\n      this.defaultErrorHandler(\"Please verify mysql first\", errorCallback)\r\n      return\r\n    }\r\n\r\n    this.httpPost(Install.URL_CREATE_TABLE, this.getForm(), function (response: any) {\r\n\r\n      that.tableInfoList.splice(0, that.tableInfoList.length);\r\n      that.tableInfoList.push(...response.data.data)\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n  //获取管理员列表\r\n  httpAdminList(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.tableCreated()) {\r\n      this.defaultErrorHandler(\"Please verify create table first\", errorCallback)\r\n      return\r\n    }\r\n\r\n\r\n    let form = this.getForm()\r\n\r\n\r\n    this.httpPost(Install.URL_ADMIN_LIST, form, function (response: any) {\r\n\r\n      that.adminList = BaseEntity.renderList(response.data.data, User)\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n\r\n  httpCreateAdmin(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.tableCreated()) {\r\n      this.defaultErrorHandler(\"Please verify create table first\", errorCallback)\r\n      return\r\n    }\r\n\r\n\r\n    if (this.adminPassword !== this.adminRepassword) {\r\n      this.defaultErrorHandler(\"password not same\", errorCallback)\r\n      return\r\n    }\r\n\r\n\r\n    let form = this.getForm()\r\n\r\n    this.httpPost(Install.URL_CREATE_ADMIN, form, function (response: any) {\r\n\r\n      that.adminConfigured = true\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n\r\n  //验证管理员账号\r\n  httpValidateAdmin(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.tableCreated()) {\r\n      this.defaultErrorHandler(\"Please verify create table first\", errorCallback)\r\n      return\r\n    }\r\n\r\n    if (!this.adminUsername || !this.adminPassword) {\r\n      this.defaultErrorHandler(\"username and password required\", errorCallback)\r\n      return\r\n    }\r\n\r\n    let form = this.getForm()\r\n\r\n    this.httpPost(Install.URL_VALIDATE_ADMIN, form, function (response: any) {\r\n\r\n      that.adminConfigured = true\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n\r\n  //完成安装过程\r\n  httpFinish(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n\r\n    let form = this.getForm()\r\n\r\n    this.httpPost(Install.URL_FINISH, form, function (response: any) {\r\n\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport './SetAdminPanel.less';\r\nimport Install from \"../../../common/model/install/Install\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport PhaseSelectingPanel from \"./inner/PhaseSelectingPanel\";\r\nimport PhaseVerifyPanel from \"./inner/PhaseVerifyPanel\";\r\nimport PhaseCreatePanel from \"./inner/PhaseCreatePanel\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\nenum Phase {\r\n  //选择界面\r\n  SELECTING = \"SELECTING\",\r\n  //验证管理员\r\n  VERIFY = \"VERIFY\",\r\n  //创建管理员\r\n  CREATE = \"CREATE\",\r\n}\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n\r\n  onPreStep: () => void\r\n  onNextStep: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class SetAdminPanel extends TankComponent<IProps, IState> {\r\n\r\n  phase: Phase = Phase.SELECTING\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n  }\r\n\r\n\r\n  goToPrevious() {\r\n    let that = this\r\n\r\n    this.props.onPreStep()\r\n\r\n  }\r\n\r\n  goToNext() {\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    if (install.adminConfigured) {\r\n\r\n      this.props.onNextStep()\r\n\r\n    } else {\r\n      MessageBoxUtil.error(Lang.t(\"install.configAdminFirst\"))\r\n    }\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n    let phase: Phase = this.phase\r\n\r\n    return (\r\n      <div className=\"widget-set-admin-panel\">\r\n        {phase === Phase.SELECTING && (\r\n\r\n          <PhaseSelectingPanel install={install} onRefresh={() => {\r\n            if (install.adminList.length) {\r\n              that.phase = Phase.SELECTING\r\n            } else {\r\n              that.phase = Phase.CREATE\r\n            }\r\n            that.updateUI()\r\n          }}\r\n                               onSelectVerify={() => {\r\n                                 that.phase = Phase.VERIFY\r\n                                 that.updateUI()\r\n                               }} onSelectCreate={() => {\r\n            that.phase = Phase.CREATE\r\n            that.updateUI()\r\n          }} onPreStep={this.goToPrevious.bind(this)} onNextStep={this.goToNext.bind(this)}\r\n          />\r\n        )}\r\n\r\n\r\n        {phase === Phase.VERIFY && (\r\n          <PhaseVerifyPanel install={install} onSuccess={() => {\r\n\r\n            that.props.onNextStep()\r\n\r\n          }} onPreStep={() => {\r\n            that.phase = Phase.SELECTING\r\n            that.updateUI()\r\n\r\n          }}/>\r\n        )}\r\n\r\n        {phase === Phase.CREATE && (\r\n          <PhaseCreatePanel install={install} onSuccess={() => {\r\n\r\n            that.props.onNextStep()\r\n\r\n          }} onPreStep={() => {\r\n            that.phase = Phase.SELECTING\r\n            that.updateUI()\r\n\r\n          }}/>\r\n        )}\r\n\r\n      </div>\r\n    )\r\n\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './MysqlPanel.less';\r\nimport {Alert, Button, Form, Input, Select} from 'antd';\r\nimport Install from \"../../../common/model/install/Install\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport {FormInstance} from \"antd/lib/form\";\r\nimport {ArrowRightOutlined, DisconnectOutlined, LinkOutlined, SoundOutlined} from \"@ant-design/icons/lib\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  install: Install\r\n  onNextStep: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class MysqlPanel extends TankComponent<IProps, IState> {\r\n  formRef = React.createRef<FormInstance>();\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    that.updateUI();\r\n  }\r\n\r\n\r\n  onFinish(values: any) {\r\n    console.log('Success:', values);\r\n\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    install.mysqlHost = values[\"mysqlHost\"]\r\n    install.mysqlPort = values[\"mysqlPort\"]\r\n    install.mysqlSchema = values[\"mysqlSchema\"]\r\n    install.mysqlUsername = values[\"mysqlUsername\"]\r\n    install.mysqlPassword = values[\"mysqlPassword\"]\r\n    install.mysqlCharset = values[\"mysqlCharset\"]\r\n\r\n    install.httpVerify(function () {\r\n\r\n      install.verified = true\r\n      MessageBoxUtil.success(Lang.t(\"install.mysqlConnectionPass\"))\r\n      that.updateUI()\r\n\r\n    }, function (msg: any) {\r\n\r\n      install.verified = false\r\n      MessageBoxUtil.error(msg)\r\n      that.updateUI()\r\n\r\n    })\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  goToNext() {\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    if (install.verified) {\r\n\r\n      this.props.onNextStep()\r\n\r\n    } else {\r\n      MessageBoxUtil.error(Lang.t(\"install.validateMysqlFirst\"))\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n\r\n    let install: Install = this.props.install\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n    return (\r\n      <div className=\"widget-mysql-panel\">\r\n\r\n        <Form\r\n          {...layout}\r\n          name=\"basic\"\r\n          ref={this.formRef}\r\n          onFinish={this.onFinish.bind(this)}\r\n          onFinishFailed={this.onFinishFailed.bind(this)}\r\n          onValuesChange={() => {\r\n            that.updateUI()\r\n          }}\r\n        >\r\n          <Form.Item\r\n            label=\"MySQL host\"\r\n            name=\"mysqlHost\"\r\n            initialValue={install.mysqlHost}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.port\")}\r\n            name=\"mysqlPort\"\r\n            initialValue={install.mysqlPort}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.schema\")}\r\n            name=\"mysqlSchema\"\r\n            initialValue={install.mysqlSchema}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.username\")}\r\n            name=\"mysqlUsername\"\r\n            initialValue={install.mysqlUsername}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.password\")}\r\n            name=\"mysqlPassword\"\r\n            initialValue={install.mysqlPassword}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.charset\")}\r\n            name=\"mysqlCharset\"\r\n            initialValue={install.mysqlCharset}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Select>\r\n              <Select.Option value=\"utf8\">utf8</Select.Option>\r\n              <Select.Option value=\"utf8mb4\">utf8mb4</Select.Option>\r\n              <Select.Option value=\"gbk\">gbk</Select.Option>\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <div>\r\n            <Alert\r\n              message={<div>\r\n                <div><SoundOutlined/> {Lang.t(\"install.notice\")}</div>\r\n                <div>\r\n                  <ol>\r\n                    <li> {Lang.t(\"install.mysqlNotice1\")}</li>\r\n                    <li>{Lang.t(\"install.mysqlNotice2\")}</li>\r\n                  </ol>\r\n                </div>\r\n              </div>}\r\n              type=\"info\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"text-right mt15\">\r\n            <Button type={install.verified ? \"primary\" : \"default\"} htmlType=\"submit\"\r\n                    icon={install.verified ? <LinkOutlined/> : <DisconnectOutlined/>}>\r\n              {install.verified ? Lang.t(\"install.mysqlConnectionPass\") : Lang.t(\"install.testMysqlConnection\")}\r\n            </Button>\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowRightOutlined/>}\r\n                    onClick={this.goToNext.bind(this)}>\r\n              {Lang.t(\"install.nextStep\")}\r\n            </Button>\r\n          </div>\r\n\r\n        </Form>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './CreateTablePanel.less';\r\nimport {Alert, Button, Spin, Tag} from 'antd';\r\nimport Install from \"../../../common/model/install/Install\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Color from \"../../../common/model/base/option/Color\";\r\nimport {\r\n  ArrowLeftOutlined,\r\n  ArrowRightOutlined,\r\n  CheckOutlined,\r\n  FormatPainterOutlined,\r\n  SoundOutlined,\r\n  SyncOutlined\r\n} from \"@ant-design/icons/lib\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n  onPreStep: () => void\r\n  onNextStep: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class CreateTablePanel extends TankComponent<IProps, IState> {\r\n\r\n  loading: boolean = true\r\n\r\n  createTableLoading: boolean = false\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    this.fetchTableInfoList()\r\n\r\n  }\r\n\r\n  fetchTableInfoList() {\r\n\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    this.loading = true\r\n    this.updateUI()\r\n\r\n    install.httpTableInfoList(null, null, function () {\r\n      that.loading = false\r\n      that.updateUI()\r\n    })\r\n  }\r\n\r\n  createTable() {\r\n    //开始建表\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    that.createTableLoading = true\r\n    that.updateUI()\r\n\r\n    install.httpCreateTable(function () {\r\n      MessageBoxUtil.success(Lang.t(\"install.createTableSuccess\"))\r\n    }, null, function () {\r\n\r\n      that.createTableLoading = false\r\n      that.updateUI()\r\n    })\r\n  }\r\n\r\n  goToPrevious() {\r\n    let that = this\r\n\r\n    this.props.onPreStep()\r\n\r\n  }\r\n\r\n  goToNext() {\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    if (install.tableCreated()) {\r\n\r\n      this.props.onNextStep()\r\n\r\n    } else {\r\n      MessageBoxUtil.error(Lang.t(\"install.crateTableFirst\"))\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n\r\n    let install: Install = this.props.install\r\n\r\n    let tableCreated: boolean = install.tableCreated()\r\n\r\n    return (\r\n      <div className=\"widget-create-panel\">\r\n\r\n        <Spin spinning={that.loading}>\r\n          {\r\n            install.tableInfoList.map(function (tableInfo: any, index: number) {\r\n\r\n              return (\r\n                <div className=\"install-block\" key={index}>\r\n                  <div className=\"f16\">\r\n                    {tableInfo.name}\r\n\r\n                    {\r\n                      (tableInfo.tableExist && tableInfo.missingFields.length === 0) && (\r\n                        <Tag className=\"mh5\" color={Color.SUCCESS}>{Lang.t(\"install.installed\")}</Tag>\r\n                      )\r\n                    }\r\n\r\n                    {\r\n                      (tableInfo.tableExist && tableInfo.missingFields.length > 0) && (\r\n                        <Tag className=\"mh5\" color={Color.DANGER}>{Lang.t(\"install.installedButMissing\")}</Tag>\r\n                      )\r\n                    }\r\n\r\n                    {\r\n                      !tableInfo.tableExist && (\r\n                        <Tag className=\"mh5\" color={Color.WARNING}>{Lang.t(\"install.toBeInstalled\")}</Tag>\r\n                      )\r\n                    }\r\n                  </div>\r\n\r\n                  <div className=\"mt10\">\r\n                    {Lang.t(\"install.allFields\")}:\r\n                    {\r\n                      tableInfo.allFields.map(function (field: any, j: number) {\r\n\r\n                        return (\r\n                          <Tag className=\"mh5 mv5\" key={j}>\r\n                            {field.DBName}\r\n                          </Tag>\r\n                        )\r\n                      })\r\n                    }\r\n                  </div>\r\n\r\n\r\n                  {\r\n                    (tableInfo.tableExist && tableInfo.missingFields.length > 0) && (\r\n                      <div className=\"mt10\">\r\n                        {Lang.t(\"install.missingFields\")}:\r\n                        {\r\n                          tableInfo.missingFields.map(function (field: any, j: number) {\r\n\r\n                            return (\r\n                              <Tag className=\"mh5 mv5\" key={j}>\r\n                                {field.DBName}\r\n                              </Tag>\r\n                            )\r\n                          })\r\n                        }\r\n                      </div>\r\n                    )\r\n                  }\r\n\r\n                </div>\r\n              )\r\n\r\n            })\r\n          }\r\n\r\n\r\n          <div>\r\n            <Alert\r\n              message={<div>\r\n                <div><SoundOutlined/> {Lang.t(\"install.tableNotice\")}</div>\r\n                <div>\r\n                  <ol>\r\n                    <li> {Lang.t(\"install.tableNotice1\")}</li>\r\n                    <li>{Lang.t(\"install.tableNotice2\")}</li>\r\n                    <li>{Lang.t(\"install.tableNotice3\")}</li>\r\n                    <li>{Lang.t(\"install.tableNotice4\")}</li>\r\n                  </ol>\r\n                </div>\r\n              </div>}\r\n              type=\"info\"\r\n            />\r\n          </div>\r\n\r\n\r\n          <div className=\"text-right mt15\">\r\n            <Button className={'ml10'} type={\"default\"}\r\n                    icon={<SyncOutlined/>}\r\n                    onClick={this.fetchTableInfoList.bind(this)}\r\n            >\r\n              {Lang.t(\"refresh\")}\r\n            </Button>\r\n\r\n            <Button className={'ml10'} type={tableCreated ? \"primary\" : \"default\"}\r\n                    icon={tableCreated ? <CheckOutlined/> : <FormatPainterOutlined/>}\r\n                    onClick={this.createTable.bind(this)}\r\n                    disabled={tableCreated}\r\n                    loading={this.createTableLoading}\r\n            >\r\n              {tableCreated ? Lang.t(\"install.createFinish\") : Lang.t(\"install.oneKeyCreate\")}\r\n            </Button>\r\n\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowLeftOutlined/>}\r\n                    onClick={this.goToPrevious.bind(this)}>\r\n              {Lang.t(\"install.preStep\")}\r\n            </Button>\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowRightOutlined/>}\r\n                    onClick={this.goToNext.bind(this)}>\r\n              {Lang.t(\"install.nextStep\")}\r\n            </Button>\r\n          </div>\r\n\r\n        </Spin>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './PhaseSelectingPanel.less';\r\nimport TankComponent from \"../../../../common/component/TankComponent\";\r\nimport Install from \"../../../../common/model/install/Install\";\r\nimport User from \"../../../../common/model/user/User\";\r\nimport {Button} from \"antd\";\r\nimport {\r\n  ArrowLeftOutlined,\r\n  ArrowRightOutlined,\r\n  SecurityScanOutlined,\r\n  SyncOutlined,\r\n  UserAddOutlined\r\n} from \"@ant-design/icons/lib\";\r\nimport Lang from \"../../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  install: Install\r\n\r\n  onRefresh: () => void\r\n  onSelectVerify: () => void\r\n  onSelectCreate: () => void\r\n  onPreStep: () => void\r\n  onNextStep: () => void\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class PhaseSelectingPanel extends TankComponent<IProps, IState> {\r\n\r\n  loadingAdminList: boolean = false\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    this.refreshAdminList()\r\n  }\r\n\r\n\r\n  refreshAdminList() {\r\n    //开始创建管理员\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    that.loadingAdminList = true\r\n    that.updateUI()\r\n\r\n    install.httpAdminList(null, null, function () {\r\n      that.loadingAdminList = false\r\n      that.updateUI()\r\n      that.props.onRefresh()\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    return (\r\n      <div className=\"widget-phase-selecting-panel\">\r\n\r\n        <div>\r\n          {Lang.t(\"install.detectAdministrator\")}:\r\n        </div>\r\n        {\r\n          install.adminList.map(function (admin: User, index: number) {\r\n            return (\r\n              <div key={index} className=\"mv10 bold\">\r\n                {admin.username}\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n\r\n        <div>\r\n          {Lang.t(\"install.useOrCreateAdministrator\")}\r\n        </div>\r\n\r\n        <div className=\"text-right mt15\">\r\n          <Button className={'ml10'} type={\"default\"}\r\n                  icon={<SyncOutlined/>}\r\n                  onClick={this.refreshAdminList.bind(this)}\r\n                  loading={this.loadingAdminList}\r\n          >\r\n            {Lang.t(\"refresh\")}\r\n          </Button>\r\n\r\n          <Button className={'ml10'} type={\"default\"}\r\n                  icon={<SecurityScanOutlined/>}\r\n                  onClick={this.props.onSelectVerify.bind(this)}\r\n          >\r\n            {Lang.t(\"install.validateAdministrator\")}\r\n          </Button>\r\n\r\n          <Button className={'ml10'} type={\"default\"}\r\n                  icon={<UserAddOutlined/>}\r\n                  onClick={this.props.onSelectCreate.bind(this)}\r\n          >\r\n            {Lang.t(\"install.createAdministrator\")}\r\n          </Button>\r\n\r\n          <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowLeftOutlined/>}\r\n                  onClick={this.props.onPreStep.bind(this)}>\r\n            {Lang.t(\"install.preStep\")}\r\n          </Button>\r\n          <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowRightOutlined/>}\r\n                  onClick={this.props.onNextStep.bind(this)}>\r\n            {Lang.t(\"install.nextStep\")}\r\n          </Button>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './PhaseVerifyPanel.less';\r\nimport TankComponent from \"../../../../common/component/TankComponent\";\r\nimport Install from \"../../../../common/model/install/Install\";\r\nimport {Button, Form, Input} from \"antd\";\r\nimport {ArrowLeftOutlined, SendOutlined} from \"@ant-design/icons/lib\";\r\nimport MessageBoxUtil from \"../../../../common/util/MessageBoxUtil\";\r\nimport Lang from \"../../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n\r\n\r\n  onSuccess: () => void\r\n  onPreStep: () => void\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class PhaseVerifyPanel extends TankComponent<IProps, IState> {\r\n\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n  }\r\n\r\n\r\n  onFinish(values: any) {\r\n    console.log('Success:', values);\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    install.adminUsername = values[\"adminUsername\"]\r\n    install.adminPassword = values[\"adminPassword\"]\r\n\r\n    install.httpValidateAdmin(function () {\r\n      MessageBoxUtil.success(Lang.t(\"install.validateAdminSuccess\"))\r\n\r\n      that.props.onSuccess()\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n\r\n    return (\r\n      <div className=\"widget-phase-verify-panel\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>{Lang.t(\"install.validateAdministrator\")}</h2>\r\n        </div>\r\n\r\n        <Form\r\n          {...layout}\r\n          name=\"basic\"\r\n          onFinish={this.onFinish.bind(this)}\r\n          onFinishFailed={this.onFinishFailed.bind(this)}\r\n          onValuesChange={() => {\r\n            that.updateUI()\r\n          }}\r\n        >\r\n          <Form.Item\r\n            label={Lang.t(\"install.administratorUsername\")}\r\n            name=\"adminUsername\"\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.administratorPassword\")}\r\n            name=\"adminPassword\"\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <div className=\"text-right mt15\">\r\n\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowLeftOutlined/>}\r\n                    onClick={this.props.onPreStep.bind(this)}>\r\n              {Lang.t(\"install.preStep\")}\r\n            </Button>\r\n\r\n            <Button className={'ml10'} type={\"primary\"}\r\n                    icon={<SendOutlined/>}\r\n                    htmlType=\"submit\"\r\n            >\r\n              {Lang.t(\"submit\")}\r\n            </Button>\r\n\r\n          </div>\r\n        </Form>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './PhaseCreatePanel.less';\r\nimport TankComponent from \"../../../../common/component/TankComponent\";\r\nimport Install from \"../../../../common/model/install/Install\";\r\nimport MessageBoxUtil from \"../../../../common/util/MessageBoxUtil\";\r\nimport {Button, Form, Input} from \"antd\";\r\nimport {ArrowLeftOutlined, SendOutlined} from \"@ant-design/icons/lib\";\r\nimport Lang from \"../../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n\r\n  onSuccess: () => void\r\n  onPreStep: () => void\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class PhaseCreatePanel extends TankComponent<IProps, IState> {\r\n\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n  }\r\n\r\n  onFinish(values: any) {\r\n    console.log('Success:', values);\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    install.adminUsername = values[\"adminUsername\"]\r\n    install.adminPassword = values[\"adminPassword\"]\r\n    install.adminRepassword = values[\"adminRepassword\"]\r\n\r\n    install.httpCreateAdmin(function () {\r\n      MessageBoxUtil.success(Lang.t(\"install.createAdminSuccess\"))\r\n      that.props.onSuccess()\r\n    })\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n\r\n    return (\r\n      <div className=\"widget-phase-verify-panel\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>{Lang.t(\"install.createAdministrator\")}</h2>\r\n        </div>\r\n\r\n        <Form\r\n          {...layout}\r\n          name=\"basic\"\r\n          onFinish={this.onFinish.bind(this)}\r\n          onFinishFailed={this.onFinishFailed.bind(this)}\r\n          onValuesChange={() => {\r\n            that.updateUI()\r\n          }}\r\n        >\r\n          <Form.Item\r\n            label={Lang.t(\"install.administratorUsername\")}\r\n            name=\"adminUsername\"\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.administratorPassword\")}\r\n            name=\"adminPassword\"\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item\r\n            name=\"adminRepassword\"\r\n            label={Lang.t(\"install.administratorRePassword\")}\r\n            dependencies={['adminPassword']}\r\n            hasFeedback\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: Lang.t(\"inputRequired\"),\r\n              },\r\n              ({getFieldValue}) => ({\r\n                validator(rule, value) {\r\n                  if (!value || getFieldValue('adminPassword') === value) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject(Lang.t(\"user.passwordNotSame\"));\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <div className=\"text-right mt15\">\r\n\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowLeftOutlined/>}\r\n                    onClick={this.props.onPreStep.bind(this)}>\r\n              {Lang.t(\"install.preStep\")}\r\n            </Button>\r\n\r\n            <Button className={'ml10'} type={\"primary\"}\r\n                    icon={<SendOutlined/>}\r\n                    htmlType=\"submit\"\r\n            >\r\n              {Lang.t(\"submit\")}\r\n            </Button>\r\n\r\n          </div>\r\n        </Form>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import SelectionOption from \"../base/option/SelectionOption\";\r\n\r\nenum ShareType {\r\n  FILE = \"FILE\",\r\n  DIRECTORY = \"DIRECTORY\",\r\n  MIX = \"MIX\",\r\n}\r\n\r\nconst ShareTypes: ShareType[] = Object.keys(ShareType).map(\r\n  (k) => k as ShareType\r\n);\r\n\r\nconst ShareTypeMap: { [key in keyof typeof ShareType]: SelectionOption } = {\r\n  FILE: {\r\n    name: \"文件\",\r\n    value: \"FILE\",\r\n  },\r\n  DIRECTORY: {\r\n    name: \"文件夹\",\r\n    value: \"DIRECTORY\",\r\n  },\r\n  MIX: {\r\n    name: \"混合\",\r\n    value: \"MIX\",\r\n  },\r\n};\r\n\r\nlet ShareTypeList: SelectionOption[] = [];\r\nShareTypes.forEach((type: ShareType) => {\r\n  ShareTypeList.push(ShareTypeMap[type]);\r\n});\r\n\r\nexport { ShareType, ShareTypeMap, ShareTypeList };\r\n","import React from 'react';\r\nimport './FinishPanel.less';\r\nimport Install from \"../../../common/model/install/Install\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport {Button, Result} from \"antd\";\r\nimport {HomeOutlined} from \"@ant-design/icons/lib\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n}\r\n\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class FinishPanel extends TankComponent<IProps, IState> {\r\n\r\n\r\n  loading: boolean = false\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    that.updateUI();\r\n  }\r\n\r\n  finish() {\r\n\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    that.loading = true\r\n    that.updateUI()\r\n\r\n    install.httpFinish(function () {\r\n\r\n\r\n      window.location.href = \"/\"\r\n\r\n    }, null, function () {\r\n\r\n      that.loading = false\r\n      that.updateUI()\r\n\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n\r\n    return (\r\n      <div className=\"widget-finish-panel\">\r\n        <Result\r\n          status=\"success\"\r\n          title={Lang.t(\"install.congratulationInstall\")}\r\n          subTitle={Lang.t(\"install.pressToHome\")}\r\n          extra={[\r\n            <Button icon={<HomeOutlined/>} type=\"primary\" key=\"home\" loading={that.loading}\r\n                    onClick={this.finish.bind(this)}>\r\n              {Lang.t(\"install.enterHome\")}\r\n            </Button>\r\n          ]}\r\n        />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {RouteComponentProps} from 'react-router-dom';\r\nimport './Index.less';\r\nimport TankComponent from '../../common/component/TankComponent';\r\nimport Moon from '../../common/model/global/Moon';\r\nimport User from '../../common/model/user/User';\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport {Tabs} from 'antd';\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport Install from \"../../common/model/install/Install\";\r\nimport MysqlPanel from \"./widget/MysqlPanel\";\r\nimport CreateTablePanel from \"./widget/CreateTablePanel\";\r\nimport SetAdminPanel from \"./widget/SetAdminPanel\";\r\nimport FinishPanel from \"./widget/FinishPanel\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\nconst {TabPane} = Tabs;\r\n\r\ninterface IProps extends RouteComponentProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n\r\nexport default class Index extends TankComponent<IProps, IState> {\r\n\r\n  user: User = Moon.getSingleton().user;\r\n\r\n  install: Install = new Install()\r\n\r\n  //当前高亮的tab\r\n  activeName: string = \"first\"\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    that.updateUI();\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n\r\n    let install: Install = this.install\r\n\r\n    return (\r\n      <div className=\"page-install-index\">\r\n\r\n        <TankTitle name={Lang.t(\"layout.install\")}>\r\n\r\n        </TankTitle>\r\n\r\n        <TankContentCard>\r\n          <Tabs activeKey={this.activeName} onTabClick={(activeKey: string) => {\r\n\r\n            this.activeName = activeKey\r\n            this.updateUI()\r\n          }}>\r\n            <TabPane tab={Lang.t(\"install.configMysql\")} key=\"first\">\r\n              <MysqlPanel install={install} onNextStep={() => {\r\n                this.activeName = \"second\"\r\n                this.updateUI()\r\n              }}/>\r\n            </TabPane>\r\n            <TabPane tab={Lang.t(\"install.createTable\")} disabled={!install.verified} key=\"second\">\r\n              <CreateTablePanel install={install} onPreStep={() => {\r\n                this.activeName = \"first\"\r\n                this.updateUI()\r\n              }} onNextStep={() => {\r\n                this.activeName = \"third\"\r\n                this.updateUI()\r\n              }}/>\r\n            </TabPane>\r\n            <TabPane tab={Lang.t(\"install.setAdministrator\")} disabled={!install.tableCreated()} key=\"third\">\r\n              <SetAdminPanel install={install} onPreStep={() => {\r\n                this.activeName = \"second\"\r\n                this.updateUI()\r\n              }} onNextStep={() => {\r\n                this.activeName = \"forth\"\r\n                this.updateUI()\r\n              }}/>\r\n            </TabPane>\r\n            <TabPane tab={Lang.t(\"install.finish\")} disabled={!install.adminConfigured} key=\"forth\">\r\n              <FinishPanel install={install}/>\r\n            </TabPane>\r\n          </Tabs>\r\n\r\n        </TankContentCard>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","//导演类，用户来让整个工作有序进行\r\nexport default class Director {\r\n    //正在重命名\r\n    renameMode:boolean = false\r\n    //正在创建新文件夹\r\n    createMode:boolean = false\r\n    //正在移动文件\r\n    moveMode:boolean = false\r\n\r\n  isEditing() {\r\n    return this.renameMode || this.createMode || this.moveMode\r\n  }\r\n\r\n}\r\n","import SafeUtil from \"./SafeUtil\";\r\n\r\nexport default class AnimateUtil {\r\n\r\n  /**\r\n   * 动画函数\r\n   * @param startValue 开始的值\r\n   * @param endValue 结束的值\r\n   * @param duration 动画持续时间，单位ms 如果开始值和结束值一样，那么会提前结束。\r\n   * @param processHandler 过程中处理的回调函数. 该函数能保证第一个值是startValue，结束的值是endValue\r\n   * @param startHandler 开始的回调函数\r\n   * @param endHandler 结束的回调函数\r\n   * @param standard 每隔多少毫秒进行一次处理。\r\n   *\r\n   */\r\n  static animate(\r\n    startValue: number,\r\n    endValue: number,\r\n    duration: number,\r\n    processHandler: (value: number) => void,\r\n    startHandler?: (value: number) => void,\r\n    endHandler?: (value: number) => void,\r\n    standard?: number\r\n  ): void {\r\n\r\n\r\n    //规则校验。\r\n    if (duration <= 0) {\r\n      console.error(\"duration值只能是正整数\")\r\n      return\r\n    }\r\n\r\n    if (standard == undefined) {\r\n      standard = 20\r\n    } else if (standard <= 0) {\r\n      console.error(\"standard值只能是正整数\")\r\n      return\r\n    }\r\n\r\n    let totalStep: number = endValue - startValue\r\n\r\n    //从startValue到endValue需要触发几次。\r\n    let num = Math.ceil(duration / standard)\r\n\r\n    //每一步的长度\r\n    let delta: number = totalStep\r\n    if (num != 0) {\r\n      delta = Math.ceil(totalStep / num)\r\n    }\r\n\r\n    //定时执行\r\n    let sum = 0;\r\n    SafeUtil.safeCallback(startHandler)(startValue)\r\n    processHandler(startValue)\r\n    let intervalHandler = setInterval(() => {\r\n\r\n      sum = sum + delta\r\n      if (Math.abs(sum) >= Math.abs(totalStep)) {\r\n        //该停止了\r\n        processHandler(endValue)\r\n        SafeUtil.safeCallback(endHandler)(endValue)\r\n\r\n        //关闭定时器。\r\n        clearInterval(intervalHandler)\r\n\r\n      } else {\r\n        //更新当前进度\r\n        processHandler(startValue + sum)\r\n      }\r\n\r\n    }, standard)\r\n\r\n  }\r\n\r\n  static setInputSelection(input: HTMLInputElement, startPos: number, endPos: number) {\r\n    input.focus();\r\n    if (typeof input.selectionStart !== \"undefined\") {\r\n      input.selectionStart = startPos;\r\n      input.selectionEnd = endPos;\r\n    } else if ((document as any).selection && (document as any).selection.createRange) {\r\n      // IE branch\r\n      input.select();\r\n      let range = (document as any).selection.createRange();\r\n      range.collapse(true);\r\n      range.moveEnd(\"character\", endPos);\r\n      range.moveStart(\"character\", startPos);\r\n      range.select();\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import React from \"react\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Director from \"./Director\";\r\nimport \"./MatterPanel.less\";\r\nimport Sun from \"../../../common/model/global/Sun\";\r\nimport StringUtil from \"../../../common/util/StringUtil\";\r\nimport DateUtil from \"../../../common/util/DateUtil\";\r\nimport AnimateUtil from \"../../../common/util/AnimateUtil\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Expanding from \"../../widget/Expanding\";\r\nimport {\r\n  LockOutlined,\r\n  UnlockOutlined,\r\n  DownloadOutlined,\r\n  ExclamationCircleFilled,\r\n  LinkOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  InfoCircleOutlined,\r\n  EllipsisOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Modal, Checkbox, Tooltip } from \"antd\";\r\nimport { CheckboxChangeEvent } from \"antd/es/checkbox\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport ClipboardUtil from \"../../../common/util/ClipboardUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  matter: Matter;\r\n  shareMode?: boolean; // 分享模式\r\n  director?: Director;\r\n  onCreateDirectoryCallback?: () => any;\r\n  onDeleteSuccess?: () => any;\r\n  onCheckMatter?: (matter?: Matter) => any;\r\n  onPreviewImage?: (matter: Matter) => any;\r\n  onGoToDirectory?: (id: string) => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class MatterPanel extends TankComponent<IProps, IState> {\r\n  // 正在重命名的临时字段\r\n  renameMatterName: string = \"\";\r\n  // 正在向服务器提交rename的请求\r\n  renamingLoading: boolean = false;\r\n  // 小屏幕下操作栏\r\n  showMore: boolean = false;\r\n\r\n  inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  prepareRename = () => {\r\n    const { matter, director } = this.props;\r\n    if (director!.isEditing()) {\r\n      console.error(\"导演正忙着，不予执行\");\r\n      return;\r\n    }\r\n\r\n    //告诉导演，自己正在编辑\r\n    director!.renameMode = true;\r\n    matter.editMode = true;\r\n    this.renameMatterName = matter.name!;\r\n    this.updateUI();\r\n    setTimeout(() => {\r\n      if (!this.inputRef.current) return;\r\n      //如果是文件夹，全选中\r\n      let dotIndex = matter.name!.lastIndexOf(\".\");\r\n      if (dotIndex === -1) {\r\n        AnimateUtil.setInputSelection(\r\n          this.inputRef.current,\r\n          0,\r\n          this.renameMatterName.length\r\n        );\r\n      } else {\r\n        AnimateUtil.setInputSelection(this.inputRef.current, 0, dotIndex);\r\n      }\r\n    });\r\n  };\r\n\r\n  clipboard = () => {\r\n    let textToCopy = this.props.matter.getDownloadUrl();\r\n    ClipboardUtil.copy(textToCopy, () => {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n    });\r\n  };\r\n\r\n  deleteMatter = () => {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        this.props.matter.httpDelete(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.props.onDeleteSuccess!();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  changeMatterName = (e: any) => {\r\n    this.renameMatterName = e.currentTarget.value;\r\n    this.updateUI();\r\n  };\r\n\r\n  finishRename = () => {\r\n    //有可能按enter的时候和blur同时了。\r\n    if (this.renamingLoading) {\r\n      return;\r\n    }\r\n    const { matter, director } = this.props;\r\n    this.renamingLoading = true;\r\n\r\n    matter.httpRename(\r\n      this.renameMatterName,\r\n      () => {\r\n        this.renamingLoading = false;\r\n        MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n        //告诉导演，自己编辑完毕\r\n        director!.renameMode = false;\r\n        matter.editMode = false;\r\n      },\r\n      (msg: string) => {\r\n        this.renamingLoading = false;\r\n        MessageBoxUtil.error(msg);\r\n        //告诉导演，自己编辑完毕\r\n        director!.renameMode = false;\r\n        matter.editMode = false;\r\n      },\r\n      () => this.updateUI()\r\n    );\r\n  };\r\n\r\n  finishCreateDirectory = () => {\r\n    const { matter, director, onCreateDirectoryCallback } = this.props;\r\n    matter.name = this.renameMatterName;\r\n    matter.httpCreateDirectory(\r\n      () => {\r\n        director!.createMode = false;\r\n        matter.editMode = false;\r\n        matter.assign(new Matter());\r\n      },\r\n      (msg: string) => {\r\n        director!.createMode = false;\r\n        matter.editMode = false;\r\n        MessageBoxUtil.error(msg);\r\n      },\r\n      () => onCreateDirectoryCallback!()\r\n    );\r\n  };\r\n\r\n  blurTrigger = () => {\r\n    const { matter, director } = this.props;\r\n    if (matter.editMode) {\r\n      if (director!.createMode) {\r\n        this.finishCreateDirectory();\r\n      } else if (director!.renameMode) {\r\n        this.finishRename();\r\n      }\r\n    }\r\n  };\r\n\r\n  enterTrigger = (e: any) => {\r\n    if (e.key.toLowerCase() === \"enter\") {\r\n      this.inputRef.current!.blur();\r\n    }\r\n  };\r\n\r\n  changePrivacy = (privacy: boolean) => {\r\n    this.props.matter.httpChangePrivacy(privacy, () => {\r\n      this.updateUI();\r\n    });\r\n  };\r\n\r\n  checkToggle = (e: CheckboxChangeEvent) => {\r\n    this.props.matter.check = e.target.checked;\r\n    this.props.onCheckMatter!(this.props.matter);\r\n  };\r\n\r\n  highLight = () => {\r\n    this.inputRef.current!.select();\r\n  };\r\n\r\n  clickRow = () => {\r\n    const { matter, director, onGoToDirectory, onPreviewImage } = this.props;\r\n    if (director && director.isEditing()) {\r\n      console.error(\"导演正忙着，不予执行\");\r\n      return;\r\n    }\r\n\r\n    if (matter.dir) {\r\n      onGoToDirectory!(matter.uuid!);\r\n    } else {\r\n      //图片进行预览操作\r\n      if (matter.isImage()) {\r\n        onPreviewImage!(matter);\r\n      } else {\r\n        matter.preview();\r\n      }\r\n    }\r\n  };\r\n\r\n  toggleHandles = () => {\r\n    this.showMore = !this.showMore;\r\n    this.updateUI();\r\n  };\r\n\r\n  renderPcOperation = () => {\r\n    const { matter, shareMode } = this.props;\r\n    if (shareMode)\r\n      return (\r\n        <div className=\"right-part\">\r\n          <Tooltip title={Lang.t(\"download\")}>\r\n            <DownloadOutlined\r\n              className=\"btn-action text-theme\"\r\n              onClick={(e) =>\r\n                SafeUtil.stopPropagationWrap(e)(matter.download())\r\n              }\r\n            />\r\n          </Tooltip>\r\n\r\n          <Tooltip title={Lang.t(\"matter.size\")}>\r\n            <span className=\"matter-size\">\r\n              {StringUtil.humanFileSize(matter.size)}\r\n            </span>\r\n          </Tooltip>\r\n\r\n          <Tooltip title={Lang.t(\"matter.updateTime\")}>\r\n            <span className=\"matter-date mr10\">\r\n              {DateUtil.simpleDateHourMinute(matter.updateTime)}\r\n            </span>\r\n          </Tooltip>\r\n        </div>\r\n      );\r\n    return (\r\n      <div className=\"right-part\">\r\n        <span className=\"matter-operation text-theme\">\r\n          {!matter.dir && matter.privacy && (\r\n            <Tooltip title={Lang.t(\"matter.setPublic\")}>\r\n              <UnlockOutlined\r\n                className=\"btn-action\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.changePrivacy(false))\r\n                }\r\n              />\r\n            </Tooltip>\r\n          )}\r\n          {!matter.dir && !matter.privacy && (\r\n            <Tooltip title={Lang.t(\"matter.setPrivate\")}>\r\n              <LockOutlined\r\n                className=\"btn-action\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.changePrivacy(true))\r\n                }\r\n              />\r\n            </Tooltip>\r\n          )}\r\n          <Tooltip title={Lang.t(\"matter.fileDetail\")}>\r\n            <InfoCircleOutlined\r\n              className=\"btn-action\"\r\n              onClick={(e) =>\r\n                SafeUtil.stopPropagationWrap(e)(\r\n                  Sun.navigateTo(\"/matter/detail/\" + matter.uuid)\r\n                )\r\n              }\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title={Lang.t(\"matter.rename\")}>\r\n            <EditOutlined\r\n              className=\"btn-action\"\r\n              onClick={(e) =>\r\n                SafeUtil.stopPropagationWrap(e)(this.prepareRename())\r\n              }\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title={Lang.t(\"matter.copyPath\")}>\r\n            <LinkOutlined\r\n              className=\"btn-action\"\r\n              onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.clipboard())}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title={Lang.t(\"matter.download\")}>\r\n            <DownloadOutlined\r\n              className=\"btn-action\"\r\n              onClick={(e) =>\r\n                SafeUtil.stopPropagationWrap(e)(matter.download())\r\n              }\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title={Lang.t(\"matter.delete\")}>\r\n            <DeleteOutlined\r\n              className=\"btn-action text-danger\"\r\n              onClick={(e) =>\r\n                SafeUtil.stopPropagationWrap(e)(this.deleteMatter())\r\n              }\r\n            />\r\n          </Tooltip>\r\n        </span>\r\n        <Tooltip title={Lang.t(\"matter.size\")}>\r\n          <span className=\"matter-size\">\r\n            {StringUtil.humanFileSize(matter.size)}\r\n          </span>\r\n        </Tooltip>\r\n        <Tooltip title={Lang.t(\"matter.updateTime\")}>\r\n          <span className=\"matter-date mr10\">\r\n            {DateUtil.simpleDateHourMinute(matter.updateTime)}\r\n          </span>\r\n        </Tooltip>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderMobileOperation = () => {\r\n    const { matter, shareMode } = this.props;\r\n    if (shareMode)\r\n      return (\r\n        <div className=\"more-panel\">\r\n          <div className=\"cell-btn navy text\">\r\n            <span>{DateUtil.simpleDateHourMinute(matter.updateTime)}</span>\r\n            <span className=\"matter-size\">\r\n              {StringUtil.humanFileSize(matter.size)}\r\n            </span>\r\n          </div>\r\n          <div\r\n            className=\"cell-btn navy\"\r\n            onClick={(e) => SafeUtil.stopPropagationWrap(e)(matter.download())}\r\n          >\r\n            <DownloadOutlined className=\"btn-action mr5\" />\r\n            {Lang.t(\"matter.download\")}\r\n          </div>\r\n        </div>\r\n      );\r\n    return (\r\n      <div className=\"more-panel\">\r\n        <div className=\"cell-btn navy text\">\r\n          <span>{DateUtil.simpleDateHourMinute(matter.updateTime)}</span>\r\n          <span className=\"matter-size\">\r\n            {StringUtil.humanFileSize(matter.size)}\r\n          </span>\r\n        </div>\r\n\r\n        {!matter.dir && matter.privacy && (\r\n          <div\r\n            className=\"cell-btn navy\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.changePrivacy(false))\r\n            }\r\n          >\r\n            <UnlockOutlined className=\"btn-action mr5\" />\r\n            {Lang.t(\"matter.setPublic\")}\r\n          </div>\r\n        )}\r\n\r\n        {!matter.dir && !matter.privacy && (\r\n          <div\r\n            className=\"cell-btn navy\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.changePrivacy(true))\r\n            }\r\n          >\r\n            <LockOutlined className=\"btn-action mr5\" />\r\n            {Lang.t(\"matter.setPrivate\")}\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) =>\r\n            SafeUtil.stopPropagationWrap(e)(\r\n              Sun.navigateTo(\"/matter/detail/\" + matter.uuid)\r\n            )\r\n          }\r\n        >\r\n          <InfoCircleOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.fileDetail\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.prepareRename())}\r\n        >\r\n          <EditOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.rename\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.clipboard())}\r\n        >\r\n          <LinkOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.copyLink\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) => SafeUtil.stopPropagationWrap(e)(matter.download())}\r\n        >\r\n          <DownloadOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.download\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn text-danger\"\r\n          onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.deleteMatter())}\r\n        >\r\n          <DeleteOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.delete\")}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { matter, shareMode } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-matter-panel\">\r\n        <div onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.clickRow())}>\r\n          <div className=\"media clearfix\">\r\n            <div className=\"pull-left\">\r\n              <div className=\"left-part\">\r\n                {!shareMode && (\r\n                  <span\r\n                    className=\"cell cell-hot\"\r\n                    onClick={(e) => SafeUtil.stopPropagationWrap(e)}\r\n                  >\r\n                    <Checkbox\r\n                      checked={matter.check}\r\n                      onChange={this.checkToggle}\r\n                    />\r\n                  </span>\r\n                )}\r\n                <span className=\"cell\">\r\n                  <img className=\"matter-icon\" src={matter.getIcon()} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/*在大屏幕下的操作栏*/}\r\n            <div className=\"pull-right visible-pc\">\r\n              {matter.uuid && this.renderPcOperation()}\r\n            </div>\r\n\r\n            <div className=\"pull-right visible-mobile\">\r\n              <span\r\n                className=\"more-btn\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.toggleHandles())\r\n                }\r\n              >\r\n                <EllipsisOutlined className=\"btn-action navy f18\" />\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"media-body\">\r\n              <div className=\"middle-part\">\r\n                {matter.editMode ? (\r\n                  <span className=\"matter-name-edit\">\r\n                    <input\r\n                      ref={this.inputRef}\r\n                      className={matter.uuid!}\r\n                      value={this.renameMatterName}\r\n                      onChange={this.changeMatterName.bind(this)}\r\n                      placeholder={Lang.t(\"matter.enterName\")}\r\n                      onBlur={this.blurTrigger.bind(this)}\r\n                      onKeyUp={this.enterTrigger.bind(this)}\r\n                    />\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"matter-name\">\r\n                    {matter.name}\r\n                    {!matter.dir && !matter.privacy && (\r\n                      <Tooltip title={Lang.t(\"matter.publicFileEveryoneCanVisit\")}>\r\n                        <UnlockOutlined className=\"icon\" />\r\n                      </Tooltip>\r\n                    )}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Expanding>\r\n          {this.showMore ? this.renderMobileOperation() : null}\r\n        </Expanding>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport { Modal, Tree, Button } from \"antd\";\r\nimport Pager from \"../../../common/model/base/Pager\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport \"./MoveBatchModal.less\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport { FolderFilled, FolderOpenFilled } from \"@ant-design/icons\";\r\n\r\ninterface IProps {\r\n  onSuccess: (uuid: string) => any;\r\n  onClose: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class MoveBatchModal extends TankComponent<IProps, IState> {\r\n  pager = new Pager<Matter>(this, Matter, 10);\r\n  targetUuid = \"root\";\r\n  treeData = [\r\n    {\r\n      title: Lang.t(\"matter.root\"),\r\n      key: \"root\",\r\n    },\r\n  ];\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.pager.setFilterValue(\"orderCreateTime\", \"DESC\");\r\n    this.pager.setFilterValue(\"dir\", true);\r\n  }\r\n\r\n  static open(onSuccess: (uuid: string) => void) {\r\n    let modal = Modal.confirm({\r\n      className: \"move-modal\",\r\n      title: Lang.t(\"matter.moveTo\"),\r\n      width: \"90vw\",\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\",\r\n      },\r\n      content: (\r\n        <MoveBatchModal\r\n          onSuccess={(uuid: string) => {\r\n            modal.destroy();\r\n            onSuccess(uuid);\r\n          }}\r\n          onClose={() => {\r\n            modal.destroy();\r\n          }}\r\n        />\r\n      ),\r\n    });\r\n  }\r\n\r\n  fetchData = (treeNode: any, success: () => any) => {\r\n    const { data: origin } = treeNode.props;\r\n    this.pager.setFilterValue(\"puuid\", treeNode.key);\r\n    this.pager.httpList((response: any) => {\r\n      const { data, page, totalPages } = response.data.data;\r\n      origin.children = (origin.children || []).concat(\r\n        data.map((matter: Matter) => ({\r\n          title: matter.name,\r\n          key: matter.uuid,\r\n        }))\r\n      );\r\n      if (page + 1 < totalPages) {\r\n        this.pager.page++;\r\n        this.fetchData(treeNode, success);\r\n      } else {\r\n        this.pager.page = 0;\r\n        success();\r\n      }\r\n    });\r\n  };\r\n\r\n  onLoadData = (treeNode: any) => {\r\n    return new Promise((resolve) => {\r\n      if (treeNode.props.children) {\r\n        resolve();\r\n        return;\r\n      }\r\n      this.fetchData(treeNode, () => resolve());\r\n    }).then(() => {\r\n      this.treeData = JSON.parse(JSON.stringify(this.treeData));\r\n      this.updateUI();\r\n    });\r\n  };\r\n\r\n  onSelect = (selectedKeys: any) => {\r\n    if (selectedKeys.length) {\r\n      this.targetUuid = selectedKeys[0];\r\n      this.updateUI();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Tree.DirectoryTree\r\n          className=\"tree-wrapper\"\r\n          treeData={this.treeData}\r\n          defaultExpandedKeys={[\"root\"]}\r\n          selectedKeys={[this.targetUuid]}\r\n          loadData={this.onLoadData}\r\n          onSelect={this.onSelect}\r\n          icon={e => e.expanded ? <FolderOpenFilled className=\"text-primary f20\" /> : <FolderFilled className=\"text-primary f20\" />}\r\n        />\r\n        <div className=\"mt10 text-right\">\r\n          <Button className=\"mr10\" onClick={() => this.props.onClose()}>\r\n            {Lang.t(\"close\")}\r\n          </Button>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.props.onSuccess(this.targetUuid)}\r\n          >\r\n            {Lang.t(\"confirm\")}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import SelectionOption from \"../base/option/SelectionOption\";\r\n\r\nenum ShareExpireOption {\r\n  HOUR = \"HOUR\",\r\n  DAY = \"DAY\",\r\n  WEEK = \"WEEK\",\r\n  MONTH = \"MONTH\",\r\n  YEAR = \"YEAR\",\r\n  INFINITY = \"INFINITY\",\r\n}\r\n\r\ninterface ShareExpireSelection extends SelectionOption {\r\n  deltaMillisecond: number;\r\n}\r\n\r\nconst ShareExpireOptions: ShareExpireOption[] = Object.keys(\r\n  ShareExpireOption\r\n).map((k) => k as ShareExpireOption);\r\n\r\nconst ShareExpireOptionMap: {\r\n  [key in keyof typeof ShareExpireOption]: ShareExpireSelection;\r\n} = {\r\n  HOUR: {\r\n    name: \"share.hour\",\r\n    value: \"HOUR\",\r\n    deltaMillisecond: 60 * 60 * 1000,\r\n  },\r\n  DAY: {\r\n    name: \"share.day\",\r\n    value: \"DAY\",\r\n    deltaMillisecond: 24 * 60 * 60 * 1000,\r\n  },\r\n  WEEK: {\r\n    name: \"share.week\",\r\n    value: \"WEEK\",\r\n    deltaMillisecond: 7 * 24 * 60 * 60 * 1000,\r\n  },\r\n  MONTH: {\r\n    name: \"share.month\",\r\n    value: \"MONTH\",\r\n    deltaMillisecond: 30 * 24 * 60 * 60 * 1000,\r\n  },\r\n  YEAR: {\r\n    name: \"share.year\",\r\n    value: \"YEAR\",\r\n    deltaMillisecond: 365 * 24 * 60 * 60 * 1000,\r\n  },\r\n  INFINITY: {\r\n    name: \"share.infinity\",\r\n    value: \"INFINITY\",\r\n    deltaMillisecond: 0,\r\n  },\r\n};\r\n\r\nlet ShareExpireOptionList: ShareExpireSelection[] = [];\r\nShareExpireOptions.forEach((type: ShareExpireOption) => {\r\n  ShareExpireOptionList.push(ShareExpireOptionMap[type]);\r\n});\r\n\r\nexport { ShareExpireOption, ShareExpireOptionMap, ShareExpireOptionList };\r\n","import BaseEntity from \"../base/BaseEntity\";\r\nimport Matter from \"../matter/Matter\";\r\nimport FileUtil from \"../../util/FileUtil\";\r\nimport EnvUtil from \"../../util/EnvUtil\";\r\nimport { ShareType } from \"./ShareType\";\r\nimport { ShareExpireOption, ShareExpireOptionMap } from \"./ShareExpireOption\";\r\nimport DateUtil from \"../../util/DateUtil\";\r\nimport SafeUtil from \"../../util/SafeUtil\";\r\nimport MessageBoxUtil from \"../../util/MessageBoxUtil\";\r\n\r\nexport default class Share extends BaseEntity {\r\n  name: string | null = null;\r\n  shareType: ShareType = ShareType.MIX;\r\n  userUuid: string | null = null;\r\n  username: string | null = null;\r\n  downloadTimes: number = 0;\r\n  code: string | null = null;\r\n  expireInfinity: boolean = false;\r\n  expireTime: Date | null = null;\r\n\r\n  //当前正在查看的文件夹\r\n  dirMatter: Matter = new Matter();\r\n  //当前share对应的matters\r\n  matters: Matter[] = [];\r\n\r\n  //当前分享正在查看的根目录matter的uuid。前端辅助字段。\r\n  rootUuid: string = Matter.MATTER_ROOT;\r\n\r\n  //本地临时字段\r\n  expireOption: ShareExpireOption = ShareExpireOption.MONTH;\r\n\r\n  static URL_CREATE = \"/api/share/create\";\r\n  static URL_BROWSE = \"/api/share/browse\";\r\n  static URL_DELETE_BATCH = \"/api/share/delete/batch\";\r\n  static URL_ZIP = \"/api/share/zip\";\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n    super(reactComponent);\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n    super.assignEntity(\"expireTime\", Date);\r\n    super.assignEntity(\"dirMatter\", Matter);\r\n    super.assignList(\"matters\", Matter);\r\n  }\r\n\r\n  getUrlPrefix() {\r\n    return \"/api/share\";\r\n  }\r\n\r\n  getFilters() {\r\n    return [...super.getFilters()];\r\n  }\r\n\r\n  getForm() {\r\n    return {\r\n      name: this.name,\r\n      uuid: this.uuid ? this.uuid : null,\r\n    };\r\n  }\r\n\r\n  getIcon() {\r\n    if (this.shareType === ShareType.MIX) {\r\n      return require(\"../../../assets/image/file/archive.svg\");\r\n    } else {\r\n      return FileUtil.getIcon(\r\n        this.name,\r\n        this.shareType === ShareType.DIRECTORY\r\n      );\r\n    }\r\n  }\r\n\r\n  getLink() {\r\n    return EnvUtil.currentHost() + \"/share/detail/\" + this.uuid;\r\n  }\r\n\r\n  hasExpired() {\r\n    if (this.expireInfinity) {\r\n      return false;\r\n    } else {\r\n      if (this.expireTime) {\r\n        return new Date(this.expireTime).getTime() < new Date().getTime();\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  //获取过期时间\r\n  getExpireTime() {\r\n    const delta = ShareExpireOptionMap[this.expireOption].deltaMillisecond;\r\n    const now = new Date();\r\n    return new Date(now.getTime() + delta);\r\n  }\r\n\r\n  //下载zip包\r\n  downloadZip(puuid?: string) {\r\n    window.open(\r\n      `${EnvUtil.currentHost()}${Share.URL_ZIP}?shareUuid=${this.uuid}&code=${\r\n        this.code\r\n      }&puuid=${puuid}&rootUuid=${this.rootUuid}`\r\n    );\r\n  }\r\n\r\n  //创建一个分享matterUuids要求为数组，expireTime要求为时间对象\r\n  httpCreate(\r\n    matterUuids: string,\r\n    successCallback?: () => any,\r\n    errorCallback?: () => any\r\n  ) {\r\n    let that = this;\r\n\r\n    const form = {\r\n      matterUuids: matterUuids,\r\n      expireInfinity: this.expireOption === ShareExpireOption.INFINITY,\r\n      expireTime: DateUtil.simpleDateTime(this.getExpireTime()),\r\n    };\r\n\r\n    this.httpPost(\r\n      Share.URL_CREATE,\r\n      form,\r\n      function (response: any) {\r\n        that.assign(response.data.data);\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpDeleteBatch(\r\n    uuids: string,\r\n    successCallback?: () => any,\r\n    errorCallback?: () => any\r\n  ) {\r\n    this.httpPost(\r\n      Share.URL_DELETE_BATCH,\r\n      { uuids: uuids },\r\n      function (response: any) {\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpBrowse(\r\n    puuid: string,\r\n    rootUuid: string,\r\n    successCallback?: () => any,\r\n    errorCallback?: () => any\r\n  ) {\r\n    let that = this;\r\n\r\n    const form = {\r\n      puuid,\r\n      rootUuid,\r\n      shareUuid: this.uuid,\r\n      code: this.code,\r\n    };\r\n\r\n    this.detailLoading = true;\r\n    this.httpPost(\r\n      Share.URL_BROWSE,\r\n      form,\r\n      function (response: any) {\r\n        that.assign(response.data.data);\r\n        that.detailLoading = false;\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      },\r\n      function (errorMsg: any) {\r\n        that.detailLoading = false;\r\n        MessageBoxUtil.error(errorMsg);\r\n        SafeUtil.safeCallback(errorCallback)(errorMsg);\r\n      }\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport { Modal, Button, Col, Row, Select } from \"antd\";\r\nimport \"./ShareOperationModal.less\";\r\nimport Share from \"../../../common/model/share/Share\";\r\nimport {\r\n  ShareExpireOptionList,\r\n  ShareExpireOption,\r\n} from \"../../../common/model/share/ShareExpireOption\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  onSuccess: (share: Share) => any;\r\n  onClose: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class ShareOperationModal extends TankComponent<IProps, IState> {\r\n  share = new Share();\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  static open = (confirmCallback: (share: Share) => any) => {\r\n    const modal = Modal.confirm({\r\n      className: \"share-modal\",\r\n      title: Lang.t(\"matter.share\"),\r\n      width: \"90vw\",\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\",\r\n      },\r\n      content: (\r\n        <ShareOperationModal\r\n          onSuccess={(share: Share) => {\r\n            confirmCallback(share);\r\n            modal.destroy();\r\n          }}\r\n          onClose={() => {\r\n            modal.destroy();\r\n          }}\r\n        />\r\n      ),\r\n    });\r\n  };\r\n\r\n  selectChange = (value: ShareExpireOption) => {\r\n    this.share.expireOption = value;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { share } = this;\r\n    return (\r\n      <div className=\"widget-share-modal\">\r\n        <Row>\r\n          <Col span={8}>{Lang.t(\"matter.expire\")}</Col>\r\n          <Col span={16}>\r\n            <Select\r\n              className=\"wp100\"\r\n              value={share.expireOption}\r\n              onChange={this.selectChange}\r\n            >\r\n              {ShareExpireOptionList.map((option) => (\r\n                <Select.Option key={option.value} value={option.value}>\r\n                  {Lang.t(option.name)}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Col>\r\n        </Row>\r\n        <div className=\"mt10 text-right\">\r\n          <Button\r\n            type=\"primary\"\r\n            className=\"mr10\"\r\n            onClick={() => this.props.onSuccess(share)}\r\n          >\r\n            {Lang.t(\"matter.share\")}\r\n          </Button>\r\n          <Button onClick={this.props.onClose}>{Lang.t(\"matter.close\")}</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Share from \"../../../common/model/share/Share\";\r\nimport {Button, Modal} from \"antd\";\r\nimport { CopyOutlined } from \"@ant-design/icons\";\r\nimport DateUtil from \"../../../common/util/DateUtil\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport './ShareDialogModal.less';\r\nimport ClipboardUtil from \"../../../common/util/ClipboardUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  share: Share;\r\n  onSuccess: () => any;\r\n  onClose: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class ShareDialogModal extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  clipboard = (text: string) => {\r\n    ClipboardUtil.copy(text, () => {\r\n      MessageBoxUtil.success(Lang.t(\"copySuccess\"));\r\n    })\r\n  };\r\n\r\n  copyAll = () => {\r\n    const { share } = this.props;\r\n    const text = `${Lang.t(\"share.link\")}：${share.getLink()} ${Lang.t(\"share.code\")}：${share.code}`;\r\n    this.clipboard(text);\r\n  };\r\n\r\n  static open = (share: Share) => {\r\n    let modal = Modal.confirm({\r\n      className: \"share-modal\",\r\n      title: Lang.t(\"share.shareDetail\"),\r\n      width: \"90vw\",\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\",\r\n      },\r\n      maskClosable: true,\r\n      content: (\r\n        <ShareDialogModal\r\n          share={share}\r\n          onSuccess={() => {\r\n            modal.destroy();\r\n          }}\r\n          onClose={() => {\r\n            modal.destroy();\r\n          }}\r\n        />\r\n      ),\r\n\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { share } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-share-dialog-panel\">\r\n        <div className=\"share-block\">\r\n          <div>\r\n            <img className=\"share-icon\" src={share.getIcon()} />\r\n            <span className=\"name\">{share.name}</span>\r\n          </div>\r\n          <div className=\"mt15\">\r\n            <span className=\"inline-block mr10\">${Lang.t(\"share.sharer\")}：{share.username}</span>\r\n            <span className=\"inline-block mr10\">\r\n              {share.expireInfinity\r\n                ? Lang.t(\"share.noExpire\")\r\n                : `${Lang.t(\"share.expireTime\")}：${DateUtil.simpleDateHourMinute(\r\n                    share.expireTime\r\n                  )}`}\r\n            </span>\r\n          </div>\r\n          <div className=\"mt15\">\r\n            {Lang.t(\"share.link\")}：{share.getLink()}\r\n            <CopyOutlined\r\n              className=\"text-primary\"\r\n              onClick={() => this.clipboard(share.getLink())}\r\n            />\r\n          </div>\r\n          <div className=\"mt15\">\r\n            {Lang.t(\"share.code\")}：{share.code}\r\n            <CopyOutlined\r\n              className=\"text-primary\"\r\n              onClick={() => this.clipboard(share.code!)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"mt10 text-right\">\r\n          <Button className=\"mr10\" onClick={() => this.props.onClose()}>{Lang.t(\"close\")}</Button>\r\n          <Button type=\"primary\" onClick={this.copyAll}>{Lang.t(\"matter.copyLinkAndCode\")}</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {Breadcrumb} from 'antd';\r\nimport \"./TableEmpty.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport BreadcrumbModel from \"../../common/model/base/option/BreadcrumbModel\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport {HomeOutlined} from \"@ant-design/icons/lib\";\r\n\r\ninterface IProps {\r\n  breadcrumbModels: BreadcrumbModel[]\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class BreadcrumbPanel extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Breadcrumb>\r\n\r\n        <Breadcrumb.Item>\r\n          <HomeOutlined className=\"cursor\" onClick={() => {\r\n            Sun.navigateTo(\"/\")\r\n          }}/>\r\n        </Breadcrumb.Item>\r\n\r\n        {\r\n          this.props.breadcrumbModels.map((item: BreadcrumbModel, index: number) => {\r\n            if (item.displayDirect) {\r\n              return (\r\n                <Breadcrumb.Item key={index}>{item.name}</Breadcrumb.Item>\r\n              )\r\n            } else {\r\n              return (\r\n                <Breadcrumb.Item key={index}>\r\n                    <span className=\"cursor\" onClick={() => {\r\n                      Sun.navigateQueryTo({\r\n                        path: item.path,\r\n                        query: item.query\r\n                      })\r\n                    }}>{item.name}</span>\r\n                </Breadcrumb.Item>\r\n              )\r\n            }\r\n          })\r\n        }\r\n      </Breadcrumb>\r\n    )\r\n  }\r\n}\r\n\r\n","import React, { Children } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport \"./List.less\";\nimport TankComponent from \"../../common/component/TankComponent\";\nimport Pager from \"../../common/model/base/Pager\";\nimport Matter from \"../../common/model/matter/Matter\";\nimport Moon from \"../../common/model/global/Moon\";\nimport Director from \"./widget/Director\";\nimport SortDirection from \"../../common/model/base/SortDirection\";\nimport MatterPanel from \"./widget/MatterPanel\";\nimport UploadMatterPanel from \"./widget/UploadMatterPanel\";\nimport {\n  Button,\n  Col,\n  Empty,\n  Input,\n  Modal,\n  Pagination,\n  Row,\n  Space,\n  Upload,\n} from \"antd\";\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\nimport {\n  ExclamationCircleFilled,\n  CloudUploadOutlined,\n  PlusSquareOutlined,\n  MinusSquareOutlined,\n  FolderOutlined,\n  SyncOutlined,\n  DeleteOutlined,\n  DownloadOutlined,\n  DragOutlined,\n  ShareAltOutlined,\n} from \"@ant-design/icons\";\nimport ImagePreviewer from \"../widget/previewer/ImagePreviewer\";\nimport Sun from \"../../common/model/global/Sun\";\nimport { UserRole } from \"../../common/model/user/UserRole\";\nimport StringUtil from \"../../common/util/StringUtil\";\nimport MoveBatchModal from \"./widget/MoveBatchModal\";\nimport ShareOperationModal from \"./widget/ShareOperationModal\";\nimport Share from \"../../common/model/share/Share\";\nimport ShareDialogModal from \"../share/widget/ShareDialogModal\";\nimport BreadcrumbModel from \"../../common/model/base/option/BreadcrumbModel\";\nimport BreadcrumbPanel from \"../widget/BreadcrumbPanel\";\nimport Lang from \"../../common/model/global/Lang\";\n\ninterface IProps extends RouteComponentProps {}\n\ninterface IState {}\n\nexport default class List extends TankComponent<IProps, IState> {\n  //当前文件夹信息。\n  matter = new Matter();\n  //准备新建的文件。\n  newMatter = new Matter();\n  //准备上传的一系列文件\n  uploadMatters: Matter[] = [];\n  //当前选中的文件\n  selectedMatters: Matter[] = [];\n  //搜索的文字\n  searchText: string | null = null;\n  //获取分页的一个帮助器\n  pager = new Pager<Matter>(this, Matter, 100);\n  user = Moon.getSingleton().user;\n  preference = Moon.getSingleton().preference;\n  //导演\n  director = new Director();\n  //当前面包屑模型数组。\n  breadcrumbModels: BreadcrumbModel[] = [];\n  //分享\n  share = new Share();\n\n  newMatterRef = React.createRef<MatterPanel>();\n  //用来判断是否展示遮罩层\n  dragEnterCount = 0;\n\n  constructor(props: IProps) {\n    super(props);\n  }\n\n  //拖拽上传\n  drag = {\n    dragEnterListener: (e: DragEvent) => {\n      e.preventDefault();\n      this.dragEnterCount++;\n      if (this.dragEnterCount > 0) this.updateUI();\n    },\n    dragleaveListener: (e: DragEvent) => {\n      e.preventDefault();\n      this.dragEnterCount--;\n      if (this.dragEnterCount <= 0) this.updateUI();\n    },\n    dragoverListener: (e: DragEvent) => {\n      e.preventDefault();\n    },\n    dropListener: (e: DragEvent) => {\n      e.preventDefault();\n      this.dragEnterCount = 0;\n      this.launchUpload(e.dataTransfer!.files);\n      this.updateUI();\n    },\n    register: () => {\n      const {\n        dragEnterListener,\n        dragleaveListener,\n        dragoverListener,\n        dropListener,\n      } = this.drag;\n      const el = document.getElementById(\"layout-content\")!;\n      el.addEventListener(\"dragenter\", dragEnterListener);\n      el.addEventListener(\"dragleave\", dragleaveListener);\n      el.addEventListener(\"dragover\", dragoverListener);\n      el.addEventListener(\"drop\", dropListener);\n    },\n    remove: () => {\n      const {\n        dragEnterListener,\n        dragleaveListener,\n        dragoverListener,\n        dropListener,\n      } = this.drag;\n      const el = document.getElementById(\"layout-content\")!;\n      el.removeEventListener(\"dragenter\", dragEnterListener);\n      el.removeEventListener(\"dragleave\", dragleaveListener);\n      el.removeEventListener(\"dragover\", dragoverListener);\n      el.removeEventListener(\"drop\", dropListener);\n    },\n  };\n\n  componentDidMount() {\n    //刷新一下列表\n    if (this.user.role === UserRole.ADMINISTRATOR) {\n      this.pager.getFilter(\"userUuid\")!.visible = true;\n    } else {\n      this.pager.setFilterValue(\"userUuid\", this.user.uuid);\n    }\n    this.pager.enableHistory();\n    this.refresh();\n    this.drag.register();\n  }\n\n  componentWillReceiveProps(nextProps: Readonly<IProps>, nextContext: any) {\n    if (this.props.location.search !== nextProps.location.search) {\n      this.pager.enableHistory();\n      this.refresh();\n    }\n  }\n  componentWillUnmount() {\n    this.drag.remove();\n  }\n\n  refresh = () => {\n    // 初始化当前matter uuid\n    if(this.matter.uuid !== this.pager.getFilterValue(\"puuid\")) {\n      this.matter.uuid = this.pager.getFilterValue(\"puuid\") || Matter.MATTER_ROOT;\n    }\n\n    // 清空暂存区\n    this.selectedMatters = [];\n\n    // 刷新文件列表\n    this.refreshPager();\n\n    // 刷新面包屑\n    this.refreshBreadcrumbs();\n  };\n\n  refreshPager = () => {\n    this.pager.setFilterValue(\"puuid\", this.matter.uuid);\n\n    //如果没有任何的排序，默认使用时间倒序和文件夹在顶部\n    if (!this.pager.getCurrentSortFilter()) {\n      this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\n      this.pager.setFilterValue(\"orderDir\", SortDirection.DESC);\n    }\n\n    //如果没有设置用户的话，那么默认显示当前登录用户的资料\n    if (!this.pager.getFilterValue(\"userUuid\")) {\n      this.pager.setFilterValue(\"userUuid\", this.user.uuid);\n    }\n\n    this.pager.httpList();\n  };\n\n  checkMatter = (matter?: Matter) => {\n    if (matter) {\n      if (matter.check) {\n        this.selectedMatters.push(matter);\n      } else {\n        const index = this.selectedMatters.findIndex(\n          (item) => item.uuid === matter.uuid\n        );\n        this.selectedMatters.splice(index, 1);\n      }\n    } else {\n      //统计所有的勾选\n      this.selectedMatters = [];\n      this.pager.data.forEach((matter) => {\n        if (matter.check) {\n          this.selectedMatters.push(matter);\n        }\n      });\n    }\n    this.updateUI();\n  };\n\n  checkAll = () => {\n    this.pager.data.forEach((i) => {\n      i.check = true;\n    });\n    this.checkMatter();\n  };\n\n  checkNone = () => {\n    this.pager.data.forEach((i) => {\n      i.check = false;\n    });\n    this.checkMatter();\n  };\n\n  deleteBatch = () => {\n    Modal.confirm({\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\n      onOk: () => {\n        const uuids = this.selectedMatters.map((i) => i.uuid).toString();\n        this.matter.httpDeleteBatch(uuids, () => {\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\n          this.refresh();\n        });\n      },\n    });\n  };\n\n  downloadZip = () => {\n    const uuids = this.selectedMatters.map((i) => i.uuid).toString();\n    Matter.downloadZip(uuids);\n  };\n\n  toggleMoveBatch = () => {\n    MoveBatchModal.open((targetUuid) => {\n      const uuids = this.selectedMatters.map((i) => i.uuid).join(\",\");\n      this.matter.httpMove(uuids, targetUuid, () => {\n        MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\n        this.refresh();\n      });\n    });\n  };\n\n  triggerUpload = (fileObj: any) => {\n    const { file } = fileObj;\n    if (file) this.launchUpload([file]);\n  };\n\n  launchUpload = (files: FileList | [File]) => {\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n      const m = new Matter(this);\n      m.dir = false;\n      m.puuid = this.matter.uuid!;\n      m.userUuid = this.user.uuid!;\n\n      //判断文件大小。\n      if (this.user.sizeLimit >= 0) {\n        if (file.size > this.user.sizeLimit) {\n          MessageBoxUtil.error(\n            Lang.t(\n              \"matter.sizeExceedLimit\",\n              StringUtil.humanFileSize(file.size),\n              StringUtil.humanFileSize(this.user.sizeLimit)\n            )\n          );\n        }\n      }\n      m.file = file;\n      m.httpUpload(\n        () => this.refresh(),\n        () => this.updateUI()\n      );\n\n      this.uploadMatters.push(m);\n    }\n  };\n\n  shareBatch = () => {\n    const uuids = this.selectedMatters.map((i) => i.uuid).join(\",\");\n    ShareOperationModal.open((share: Share) => {\n      share.httpCreate(uuids, () => {\n        ShareDialogModal.open(share);\n      });\n    });\n  };\n\n  searchFile = (value?: string) => {\n    this.pager.resetFilter();\n    if (value) {\n      this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\n      this.pager.setFilterValue(\"orderDir\", SortDirection.DESC);\n      this.pager.setFilterValue(\"name\", value);\n      this.pager.httpList();\n    } else {\n      this.refresh();\n    }\n  };\n\n  changeSearch = (e: any) => {\n    if (!e.currentTarget.value) this.searchFile();\n  };\n\n  changePage = (page: number) => {\n    this.pager.page = page - 1; // page的页数0基\n    this.pager.httpList();\n    this.updateUI();\n  };\n\n  createDirectory = () => {\n    this.newMatter.name = \"matter.allFiles\";\n    this.newMatter.dir = true;\n    this.newMatter.editMode = true;\n    this.newMatter.puuid = this.matter.uuid || \"root\";\n    this.newMatter.userUuid = this.user.uuid!;\n    this.director.createMode = true;\n\n    this.updateUI();\n    setTimeout(() => this.newMatterRef.current!.highLight());\n  };\n\n  previewImage = (matter: Matter) => {\n    let imageArray: string[] = [];\n    let startIndex = -1;\n    this.pager.data.forEach((item) => {\n      if (item.isImage()) {\n        imageArray.push(item.getPreviewUrl());\n        if (item.uuid === matter.uuid) {\n          startIndex = imageArray.length - 1;\n        }\n      }\n    });\n\n    ImagePreviewer.showMultiPhoto(imageArray, startIndex);\n  };\n\n  goToDirectory = (id: string) => {\n    this.searchText = null;\n    this.pager.setFilterValue(\"puuid\", id);\n    this.pager.page = 0;\n    const query = this.pager.getParams();\n    Sun.navigateQueryTo({ path: \"/matter/list\", query });\n    this.refresh();\n  };\n\n  //刷新面包屑\n  refreshBreadcrumbs = () => {\n    const uuid = this.pager.getFilterValue(\"puuid\") || Matter.MATTER_ROOT;\n\n    //根目录简单处理即可。\n    if (uuid === Matter.MATTER_ROOT) {\n      this.matter.uuid = Matter.MATTER_ROOT;\n      this.breadcrumbModels = [\n        {\n          name: Lang.t(\"matter.allFiles\"),\n          path: \"/matter/list\",\n          query: {},\n          displayDirect: true,\n        },\n      ];\n    } else {\n      this.matter.uuid = uuid;\n      this.matter.httpDetail(() => {\n        const arr = [];\n        let cur: Matter | null = this.matter;\n        do {\n          arr.push(cur);\n          cur = cur.parent;\n        } while (cur);\n\n        this.breadcrumbModels = arr.reduceRight(\n          (t: any, item: Matter, i: number) => {\n            const query = this.pager.getParams();\n            query[\"puuid\"] = item.uuid!;\n            t.push({\n              name: item.name,\n              path: \"/matter/list\",\n              query: query,\n              displayDirect: !i, // 当前目录不需要导航\n            });\n            return t;\n          },\n          [\n            {\n              name: Lang.t(\"matter.allFiles\"),\n              path: \"/matter/list\",\n              query: {},\n              displayDirect: false,\n            },\n          ]\n        );\n        this.updateUI();\n      });\n    }\n  };\n\n  render() {\n    const {\n      pager,\n      director,\n      selectedMatters,\n      uploadMatters,\n      dragEnterCount,\n    } = this;\n    return (\n      <div className=\"matter-list\">\n        {dragEnterCount > 0 ? (\n          <div className=\"obscure\">\n            <CloudUploadOutlined className=\"white f50\" />\n          </div>\n        ) : null}\n        <BreadcrumbPanel breadcrumbModels={this.breadcrumbModels} />\n\n        <Row className=\"mt10\">\n          <Col xs={24} sm={24} md={14} lg={16}>\n            <Space className=\"buttons\">\n              {selectedMatters.length !== pager.data.length ? (\n                <Button type=\"primary\" className=\"mb10\" onClick={this.checkAll}>\n                  <PlusSquareOutlined />\n                  {Lang.t(\"selectAll\")}\n                </Button>\n              ) : null}\n              {pager.data.length &&\n              selectedMatters.length === pager.data.length ? (\n                <Button\n                  type=\"primary\"\n                  className=\"mb10\"\n                  onClick={this.checkNone}\n                >\n                  <MinusSquareOutlined />\n                  {Lang.t(\"cancel\")}\n                </Button>\n              ) : null}\n              {selectedMatters.length ? (\n                <>\n                  <Button\n                    type=\"primary\"\n                    className=\"mb10\"\n                    onClick={this.deleteBatch}\n                  >\n                    <DeleteOutlined />\n                    {Lang.t(\"delete\")}\n                  </Button>\n\n                  <Button\n                    type=\"primary\"\n                    className=\"mb10\"\n                    onClick={this.downloadZip}\n                  >\n                    <DownloadOutlined />\n                    {Lang.t(\"download\")}\n                  </Button>\n\n                  <Button\n                    type=\"primary\"\n                    className=\"mb10\"\n                    onClick={this.toggleMoveBatch}\n                  >\n                    <DragOutlined />\n                    {Lang.t(\"matter.move\")}\n                  </Button>\n\n                  <Button\n                    type=\"primary\"\n                    className=\"mb10\"\n                    onClick={this.shareBatch}\n                  >\n                    <ShareAltOutlined />\n                    {Lang.t(\"matter.share\")}\n                  </Button>\n                </>\n              ) : null}\n\n              <Upload\n                className=\"ant-upload\"\n                customRequest={this.triggerUpload}\n                showUploadList={false}\n                multiple\n              >\n                <Button type=\"primary\" className=\"mb10\">\n                  <CloudUploadOutlined />\n                  {Lang.t(\"matter.upload\")}\n                </Button>\n              </Upload>\n              <Button\n                type=\"primary\"\n                className=\"mb10\"\n                onClick={this.createDirectory}\n              >\n                <FolderOutlined />\n                {Lang.t(\"matter.create\")}\n              </Button>\n\n              <Button type=\"primary\" className=\"mb10\" onClick={this.refresh}>\n                <SyncOutlined />\n                {Lang.t(\"refresh\")}\n              </Button>\n            </Space>\n          </Col>\n          <Col xs={24} sm={24} md={10} lg={8}>\n            <Input.Search\n              className=\"mb10\"\n              placeholder={Lang.t(\"matter.searchFile\")}\n              onSearch={(value) => this.searchFile(value)}\n              onChange={this.changeSearch}\n              enterButton\n            />\n          </Col>\n        </Row>\n\n        {Children.toArray(\n          uploadMatters.map((m) => <UploadMatterPanel matter={m} />)\n        )}\n\n        {director.createMode ? (\n          <MatterPanel\n            ref={this.newMatterRef}\n            matter={this.newMatter}\n            director={director}\n            onCreateDirectoryCallback={this.refresh}\n          />\n        ) : null}\n        <div>\n          {pager.loading || pager.data.length ? (\n            pager.data.map((matter) => (\n              <MatterPanel\n                key={matter.uuid!}\n                director={director}\n                matter={matter}\n                onGoToDirectory={this.goToDirectory}\n                onDeleteSuccess={this.refresh}\n                onCheckMatter={this.checkMatter}\n                onPreviewImage={this.previewImage}\n              />\n            ))\n          ) : (\n            <Empty description={Lang.t(\"matter.noContentYet\")} />\n          )}\n        </div>\n        <Pagination\n          className=\"mt10 pull-right\"\n          onChange={this.changePage}\n          current={pager.page + 1}\n          total={pager.totalItems}\n          pageSize={pager.pageSize}\n          hideOnSinglePage\n        />\n      </div>\n    );\n  }\n}\n","import BaseEntity from '../../base/BaseEntity'\r\nimport User from \"../../user/User\";\r\nimport Matter from \"../../matter/Matter\";\r\nimport InputFilter from \"../../base/filter/InputFilter\";\r\nimport SafeUtil from \"../../../util/SafeUtil\";\r\n\r\nexport default class ImageCache extends BaseEntity {\r\n\r\n  static URL_DELETE_BATCH = '/api/image/cache/delete/batch';\r\n\r\n  name: string | null = null;\r\n  userUuid: string | null = null;\r\n  matterUuid: string | null = null;\r\n  matterName: string | null = null;\r\n  mode: string | null = null;\r\n  md5: string | null = null;\r\n  size: number = 0;\r\n  path: number = 0;\r\n\r\n  /*\r\n    这部分是辅助UI的字段信息\r\n   */\r\n  //作为勾选变量\r\n  check: boolean = false;\r\n\r\n  user: User = new User();\r\n  matter: Matter = new Matter();\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n    super(reactComponent);\r\n  }\r\n\r\n  getUrlPrefix() {\r\n    return \"/api/image/cache\"\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n  }\r\n\r\n  getFilters() {\r\n    return [\r\n      ...super.getFilters(),\r\n      new InputFilter(\"User Uuid\", \"userUuid\", null, false),\r\n      new InputFilter(\"File Uuid\", \"matterUuid\", null, false),\r\n    ]\r\n  }\r\n\r\n  getForm() {\r\n    return {\r\n      uuid: this.uuid ? this.uuid : null\r\n    }\r\n  }\r\n\r\n  getResizeUrl() {\r\n    return '/api/alien/preview/' + this.matterUuid + '/' + this.matterName + \"?ir=\" + this.mode\r\n  }\r\n\r\n  getOriginUrl() {\r\n    return '/api/alien/download/' + this.matterUuid + '/' + this.matterName\r\n  }\r\n\r\n\r\n  httpDeleteBatch(uuids: string, successCallback?: () => any, errorCallback?: () => any) {\r\n    this.httpPost(ImageCache.URL_DELETE_BATCH, {'uuids': uuids}, function (response: any) {\r\n      SafeUtil.safeCallback(successCallback)(response)\r\n    }, errorCallback)\r\n  }\r\n\r\n\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../../common/component/TankComponent\";\r\nimport { Checkbox, Modal } from \"antd\";\r\nimport SafeUtil from \"../../../../common/util/SafeUtil\";\r\nimport ImageCache from \"../../../../common/model/image/cache/ImageCache\";\r\nimport ImageUtil from \"../../../../common/util/ImageUtil\";\r\nimport { CheckboxChangeEvent } from \"antd/es/checkbox\";\r\nimport {\r\n  DeleteOutlined,\r\n  ExclamationCircleFilled,\r\n  SmallDashOutlined,\r\n} from \"@ant-design/icons\";\r\nimport MessageBoxUtil from \"../../../../common/util/MessageBoxUtil\";\r\nimport FileUtil from \"../../../../common/util/FileUtil\";\r\nimport DateUtil from \"../../../../common/util/DateUtil\";\r\nimport Expanding from \"../../../widget/Expanding\";\r\nimport \"./ImageCachePanel.less\";\r\nimport StringUtil from \"../../../../common/util/StringUtil\";\r\nimport Lang from \"../../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  imageCache: ImageCache;\r\n  onCheckImageCache: (imageCache?: ImageCache) => any;\r\n  onPreviewImageCache: (imageCache: ImageCache) => any;\r\n  onDeleteSuccess: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class ImageCachePanel extends TankComponent<IProps, IState> {\r\n  //正在向服务器提交rename的请求\r\n  renamingLoading = false;\r\n  // 小屏幕下操作栏\r\n  showMore = false;\r\n\r\n  checkToggle = (e: CheckboxChangeEvent) => {\r\n    const { imageCache, onCheckImageCache } = this.props;\r\n    imageCache.check = e.target.checked;\r\n    onCheckImageCache(imageCache);\r\n  };\r\n\r\n  deleteImageCache = () => {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        this.props.imageCache.httpDel(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.props.onDeleteSuccess!();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  toggleHandles = () => {\r\n    this.showMore = !this.showMore;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { imageCache } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-image-cache-panel\">\r\n        <div\r\n          onClick={(e) =>\r\n            SafeUtil.stopPropagationWrap(e)(\r\n              this.props.onPreviewImageCache(imageCache)\r\n            )\r\n          }\r\n        >\r\n          <div className=\"media clearfix\">\r\n            <div className=\"pull-left\">\r\n              <div className=\"left-part\">\r\n                <span className=\"basic-span basic-span-hot\">\r\n                  <Checkbox\r\n                    onClick={(e) => SafeUtil.stopPropagationWrap(e)}\r\n                    checked={imageCache.check}\r\n                    onChange={this.checkToggle}\r\n                  />\r\n                </span>\r\n                <span className=\"basic-span\">\r\n                  <img\r\n                    className=\"image-cache-icon\"\r\n                    src={ImageUtil.handleImageUrl(\r\n                      imageCache.getOriginUrl(),\r\n                      false,\r\n                      100,\r\n                      100\r\n                    )}\r\n                  />\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/*在大屏下的操作栏*/}\r\n            <div className=\"pull-right visible-pc\">\r\n              {imageCache.uuid ? (\r\n                <div className=\"right-part\">\r\n                  <DeleteOutlined\r\n                    title={Lang.t(\"delete\")}\r\n                    className=\"image-cache-operation btn-action red\"\r\n                    onClick={(e) =>\r\n                      SafeUtil.stopPropagationWrap(e)(this.deleteImageCache())\r\n                    }\r\n                  />\r\n                  <span className=\"image-cache-size\">\r\n                    {FileUtil.humanFileSize(imageCache.size)}\r\n                  </span>\r\n                  <span className=\"image-cache-date\">\r\n                    {DateUtil.simpleDateHourMinute(imageCache.updateTime)}\r\n                  </span>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n\r\n            {/*在小屏下的操作栏*/}\r\n            <div className=\"pull-right visible-mobile\">\r\n              <span\r\n                className=\"more-btn\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.toggleHandles())\r\n                }\r\n              >\r\n                <SmallDashOutlined className=\"btn-action navy f18\" />\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"media-body\">\r\n              <div className=\"middle-part\">\r\n                <span className=\"image-cache-name\">{imageCache.name}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Expanding>\r\n            {this.showMore ? (\r\n              <div className=\"more-panel\">\r\n                <div className=\"cell-btn text\">\r\n                  <span>\r\n                    {DateUtil.simpleDateHourMinute(imageCache.updateTime)}\r\n                  </span>\r\n                  <span className=\"matter-size\">\r\n                    {StringUtil.humanFileSize(imageCache.size)}\r\n                  </span>\r\n                </div>\r\n                <div\r\n                  className=\"cell-btn red\"\r\n                  onClick={(e) =>\r\n                    SafeUtil.stopPropagationWrap(e)(this.deleteImageCache())\r\n                  }\r\n                >\r\n                  <DeleteOutlined className=\"btn-action mr5\" />\r\n                  {Lang.t(\"delete\")}\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </Expanding>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport {Button, Empty, Modal, Pagination, Space} from \"antd\";\nimport Pager from \"../../../../common/model/base/Pager\";\nimport ImageCache from \"../../../../common/model/image/cache/ImageCache\";\nimport TankComponent from \"../../../../common/component/TankComponent\";\nimport ImageCachePanel from \"./ImageCachePanel\";\nimport ImagePreviewer from \"../../../widget/previewer/ImagePreviewer\";\nimport MessageBoxUtil from \"../../../../common/util/MessageBoxUtil\";\nimport {DeleteOutlined, ExclamationCircleFilled, MinusSquareOutlined, PlusSquareOutlined} from \"@ant-design/icons\";\nimport TankTitle from \"../../../widget/TankTitle\";\nimport Lang from \"../../../../common/model/global/Lang\";\nimport TankContentCard from \"../../../widget/TankContentCard\";\n\ninterface IProps {\n  initFilter: any;\n}\n\ninterface IState {\n}\n\nexport default class ImageCacheList extends TankComponent<IProps, IState> {\n  selectedImageCaches: ImageCache[] = [];\n  pager = new Pager<ImageCache>(this, ImageCache, 2);\n\n  constructor(props: IProps) {\n    super(props);\n    this.state = {};\n    this.pager.enableHistory()\n  }\n\n  componentDidMount() {\n    this.refresh();\n  }\n\n  deleteBatch = () => {\n    Modal.confirm({\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\"/>,\n      onOk: () => {\n        const uuids = this.selectedImageCaches.map((i) => i.uuid).toString();\n        const imageCache = new ImageCache();\n        imageCache.httpDeleteBatch(uuids, () => {\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\n          this.refresh();\n        });\n      },\n    });\n  };\n\n  checkBatch = (check: boolean) => {\n    this.pager.data.forEach((i) => {\n      i.check = check;\n    });\n    this.checkImageCache();\n  };\n\n  refresh = () => {\n    const {initFilter} = this.props;\n    if (initFilter) {\n      for (let key in initFilter) {\n        if (initFilter.hasOwnProperty(key)) {\n          this.pager.setFilterValue(key, initFilter[key]);\n        }\n      }\n    }\n    this.pager.page = 0;\n    this.pager.httpList();\n    this.selectedImageCaches = [];\n  };\n\n  checkImageCache = (imageCache?: ImageCache) => {\n    if (imageCache) {\n      if (imageCache.check) {\n        this.selectedImageCaches.push(imageCache);\n      } else {\n        const index = this.selectedImageCaches.findIndex(\n          (item) => item.uuid === imageCache.uuid\n        );\n        this.selectedImageCaches.splice(index, 1);\n      }\n    } else {\n      this.selectedImageCaches.splice(0, this.selectedImageCaches.length);\n      this.pager.data.forEach((imageCache) => {\n        if (imageCache.check) {\n          this.selectedImageCaches.push(imageCache);\n        }\n      });\n    }\n    this.updateUI();\n  };\n\n  previewImageCache = (imageCache: ImageCache) => {\n    //从matter开始预览图片\n    const imageArray: string[] = [];\n    let startIndex = -1;\n    this.pager.data.forEach((item) => {\n      imageArray.push(item.getResizeUrl());\n      if (item.uuid === imageCache.uuid) {\n        startIndex = imageArray.length - 1;\n      }\n    });\n\n    ImagePreviewer.showMultiPhoto(imageArray, startIndex);\n  };\n\n  changePage = (page: number) => {\n    this.pager.page = page - 1; // page的页数0基\n    this.pager.httpList();\n    this.updateUI();\n  };\n\n  render() {\n    const {selectedImageCaches, pager} = this;\n    if (!pager.data.length) return <Empty description={Lang.t(\"matter.noImageCache\")}/>;\n    return (\n      <div>\n        <TankTitle\n          name={Lang.t(\"matter.imageCache\")}\n          children={\n            <div>\n              <Space>\n                {selectedImageCaches.length ? (\n                  <Button type=\"primary\" onClick={this.deleteBatch}>\n                    <DeleteOutlined/>\n                    {Lang.t(\"delete\")}\n                  </Button>\n                ) : null}\n                {selectedImageCaches.length !== pager.data.length ? (\n                  <Button type=\"primary\" onClick={() => this.checkBatch(true)}>\n                    <PlusSquareOutlined/>\n                    {Lang.t(\"selectAll\")}\n                  </Button>\n                ) : null}\n                {pager.data.length &&\n                selectedImageCaches.length === pager.data.length ? (\n                  <Button type=\"primary\" onClick={() => this.checkBatch(false)}>\n                    <MinusSquareOutlined/>\n                    {Lang.t(\"cancel\")}\n                  </Button>\n                ) : null}\n              </Space>\n            </div>\n          }\n        />\n\n        <TankContentCard>\n          {pager.data.map((imageCache) => (\n            <ImageCachePanel\n              key={imageCache.uuid!}\n              imageCache={imageCache}\n              onDeleteSuccess={this.refresh}\n              onCheckImageCache={this.checkImageCache}\n              onPreviewImageCache={this.previewImageCache}\n            />\n          ))}\n\n        </TankContentCard>\n\n        <Pagination\n          className=\"mt10 pull-right\"\n          onChange={this.changePage}\n          current={pager.page + 1}\n          total={pager.totalItems}\n          pageSize={pager.pageSize}\n          hideOnSinglePage\n        />\n\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport \"./Detail.less\";\nimport TankComponent from \"../../common/component/TankComponent\";\nimport Matter from \"../../common/model/matter/Matter\";\nimport { Spin, Space } from \"antd\";\nimport StringUtil from \"../../common/util/StringUtil\";\nimport TankTitle from \"../widget/TankTitle\";\nimport DownloadToken from \"../../common/model/download/token/DownloadToken\";\nimport DateUtil from \"../../common/util/DateUtil\";\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\nimport ImageCacheList from \"./widget/imageCache/ImageCacheList\";\nimport ClipboardUtil from \"../../common/util/ClipboardUtil\";\nimport Lang from \"../../common/model/global/Lang\";\nimport InfoCell from \"../widget/InfoCell\";\nimport TankContentCard from \"../widget/TankContentCard\";\n\ninterface RouteParam {\n  uuid: string;\n}\n\ninterface IProps extends RouteComponentProps<RouteParam> {}\n\ninterface IState {}\n\nexport default class Detail extends TankComponent<IProps, IState> {\n  matter = new Matter();\n  downloadToken = new DownloadToken();\n\n  constructor(props: IProps) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    const { uuid } = this.props.match.params;\n    this.matter.uuid = uuid;\n    let that = this;\n    this.matter.httpDetail((response: any) => {\n      that.updateUI();\n      if (!response.data.data.dir) {\n        that.downloadToken.httpFetchDownloadToken(that.matter.uuid!);\n      }\n    });\n  }\n\n  copyLink = () => {\n    const { privacy } = this.matter;\n    const textToCopy = this.matter.getDownloadUrl(\n      privacy ? this.downloadToken.uuid! : undefined\n    );\n    ClipboardUtil.copy(textToCopy, () => {\n      MessageBoxUtil.success(Lang.t(\"copySuccess\"));\n    })\n  };\n\n  render() {\n    const { matter } = this;\n    return (\n      <Spin tip={Lang.t(\"loading\")} spinning={matter.detailLoading}>\n        <div className=\"page-matter-detail\">\n          <TankTitle name={Lang.t(\"matter.fileDetail\")} />\n\n          <TankContentCard>\n            <div className=\"info\">\n              <InfoCell name={Lang.t(\"matter.fileInfo\")}>\n                {matter.name}\n              </InfoCell>\n              <InfoCell name={Lang.t(\"matter.path\")}>\n                {matter.path}\n              </InfoCell>\n              <InfoCell name={Lang.t(\"matter.createTime\")}>\n                {DateUtil.simpleDateTime(matter.createTime)}\n              </InfoCell>\n              <InfoCell name={Lang.t(\"matter.updateTime\")}>\n                {DateUtil.simpleDateTime(matter.updateTime)}\n              </InfoCell>\n              {!matter.dir ? (\n                <>\n                  <InfoCell name={Lang.t(\"matter.size\")}>\n                    {StringUtil.humanFileSize(matter.size)}\n                  </InfoCell>\n                  <InfoCell name={Lang.t(\"matter.publicOrPrivate\")}>\n                    {matter.privacy\n                      ? Lang.t(\"matter.privateInfo\")\n                      : Lang.t(\"matter.publicInfo\")}\n                  </InfoCell>\n                  <InfoCell name={Lang.t(\"matter.downloadTimes\")}>\n                    {matter.times}\n                  </InfoCell>\n                  <InfoCell name={Lang.t(\"matter.operations\")}>\n                    <Space>\n                      <a onClick={() => matter.download()}>{Lang.t(\"matter.download\")}</a>\n                      <a onClick={() => matter.preview()}>{Lang.t(\"matter.preview\")}</a>\n                      <a onClick={this.copyLink}>\n                        {matter.privacy ? Lang.t(\"matter.oneTimeLink\") : Lang.t(\"matter.copyPath\")}\n                      </a>\n                    </Space>\n                  </InfoCell>\n                </>\n              ) : null}\n            </div>\n          </TankContentCard>\n\n        </div>\n\n        {!matter.dir && matter.uuid && matter.isImage() ? (\n          <ImageCacheList initFilter={{ matterUuid: matter.uuid }} />\n        ) : null}\n      </Spin>\n    );\n  }\n}\n","import React from \"react\";\r\nimport {\r\n  InfoCircleOutlined,\r\n  DeleteOutlined,\r\n  SmallDashOutlined,\r\n  ExclamationCircleFilled,\r\n} from \"@ant-design/icons\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport DateUtil from \"../../../common/util/DateUtil\";\r\nimport Expanding from \"../../widget/Expanding\";\r\nimport Share from \"../../../common/model/share/Share\";\r\nimport Sun from \"../../../common/model/global/Sun\";\r\nimport \"./ShareBar.less\";\r\nimport { Modal, Tooltip } from \"antd\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport ShareDialogModal from \"./ShareDialogModal\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  share: Share;\r\n  onDeleteSuccess: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class ShareBar extends TankComponent<IProps, IState> {\r\n  // 小屏幕下操作栏\r\n  showMore = false;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  showShare = () => {\r\n    ShareDialogModal.open(this.props.share);\r\n  };\r\n\r\n  delShare = () => {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        this.props.share.httpDel(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.props.onDeleteSuccess();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  toggleHandles = () => {\r\n    this.showMore = !this.showMore;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { share } = this.props;\r\n    const { showMore } = this;\r\n    return (\r\n      <div className=\"widget-share-bar\">\r\n        <div\r\n          onClick={(e) =>\r\n            SafeUtil.stopPropagationWrap(e)(\r\n              Sun.navigateTo(`/share/detail/${share.uuid}`)\r\n            )\r\n          }\r\n        >\r\n          <div className=\"media\">\r\n            <div className=\"pull-left\">\r\n              <div className=\"left-part\">\r\n                <span className=\"basic-span\">\r\n                  <img className=\"share-icon\" src={share.getIcon()} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/*在大屏下的操作栏*/}\r\n            <div className=\"pull-right visible-pc\">\r\n              <div className=\"right-part\">\r\n                <span className=\"share-operation\">\r\n                  <Tooltip title={Lang.t(\"share.shareDetail\")}>\r\n                    <InfoCircleOutlined\r\n                      className=\"btn-action mr5 text-theme\"\r\n                      onClick={(e) =>\r\n                        SafeUtil.stopPropagationWrap(e)(this.showShare())\r\n                      }\r\n                    />\r\n                  </Tooltip>\r\n                  <Tooltip title={Lang.t(\"delete\")}>\r\n                    <DeleteOutlined\r\n                      className=\"btn-action text-danger\"\r\n                      onClick={(e) =>\r\n                        SafeUtil.stopPropagationWrap(e)(this.delShare())\r\n                      }\r\n                    />\r\n                  </Tooltip>\r\n                </span>\r\n\r\n                <Tooltip title={Lang.t(\"share.shareTime\")}>\r\n                  <span className=\"share-date\">\r\n                    {DateUtil.simpleDateHourMinute(share.updateTime)}\r\n                  </span>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={Lang.t(\"share.expireTime\")}>\r\n                  <span className=\"share-date w110 text-center\">\r\n                    {share.expireInfinity\r\n                      ? Lang.t(\"share.noExpire\")\r\n                      : DateUtil.simpleDateHourMinute(share.expireTime)}\r\n                  </span>\r\n                </Tooltip>\r\n              </div>\r\n            </div>\r\n\r\n            {/*在小屏幕下的操作栏*/}\r\n            <div className=\"pull-right visible-mobile\">\r\n              <span\r\n                className=\"more-btn\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.toggleHandles())\r\n                }\r\n              >\r\n                <SmallDashOutlined className=\"btn-action navy f18\" />\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"media-body\">\r\n              <div className=\"middle-part\">\r\n                <span className=\"share-name\">\r\n                  {share.name}\r\n                  {share.hasExpired() ? (\r\n                    <span className=\"text-danger\">\r\n                      {Lang.t(\"share.expired\")}\r\n                    </span>\r\n                  ) : null}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Expanding>\r\n          {showMore ? (\r\n            <div className=\"more-panel\">\r\n              <div className=\"cell-btn text\">\r\n                <span>\r\n                  {Lang.t(\"share.shareTime\")}:{\" \"}\r\n                  {DateUtil.simpleDateHourMinute(share.createTime)}\r\n                </span>\r\n                <span className=\"ml10\">\r\n                  {share.expireInfinity\r\n                    ? Lang.t(\"share.noExpire\")\r\n                    : `${Lang.t(\"expireTime\")}：${DateUtil.simpleDateHourMinute(\r\n                        share.expireTime\r\n                      )}`}\r\n                </span>\r\n              </div>\r\n\r\n              <div\r\n                className=\"cell-btn\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.showShare())\r\n                }\r\n              >\r\n                <InfoCircleOutlined className=\"btn-action mr5\" />\r\n                {Lang.t(\"share.shareDetail\")}\r\n              </div>\r\n\r\n              <div\r\n                className=\"cell-btn red\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.delShare())\r\n                }\r\n              >\r\n                <DeleteOutlined className=\"btn-action\" />\r\n                {Lang.t(\"delete\")}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </Expanding>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Pagination } from \"antd\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport Share from \"../../common/model/share/Share\";\r\nimport ShareBar from \"./widget/ShareBar\";\r\n\r\nimport \"./List.less\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class List extends TankComponent<IProps, IState> {\r\n  pager = new Pager<Share>(this, Share, Pager.MAX_PAGE_SIZE);\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.pager.enableHistory();\r\n    this.refresh();\r\n  }\r\n\r\n  refresh = () => {\r\n    this.pager.httpList();\r\n  };\r\n\r\n  changePage = (page: number) => {\r\n    this.pager.page = page - 1; // page的页数0基\r\n    this.pager.httpList();\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { pager } = this;\r\n\r\n    return (\r\n      <div className=\"share-list\">\r\n        <TankTitle name={Lang.t(\"layout.myShare\")} />\r\n\r\n        {pager.data.map((share) => (\r\n          <ShareBar key={share.uuid!} share={share} onDeleteSuccess={this.refresh} />\r\n        ))}\r\n\r\n        <Pagination\r\n          className=\"mt10 pull-right\"\r\n          onChange={this.changePage}\r\n          current={pager.page + 1}\r\n          total={pager.totalItems}\r\n          pageSize={pager.pageSize}\r\n          hideOnSinglePage\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport \"./FrameLoading.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport {LoadingOutlined} from '@ant-design/icons';\r\n\r\ninterface IProps {\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\n/**\r\n * 主站加载控件。\r\n * 在主站加载过程中或者在工作台加载过程中使用\r\n * 该控件采用fixed布局，会占据全屏\r\n */\r\nexport default class FrameLoading extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    return (\r\n      <div className=\"app-frame-loading\">\r\n        <div className=\"loading-box\">\r\n          <div>\r\n            <LoadingOutlined className={'loading-icon'}/>\r\n          </div>\r\n          <div className={'loading-text'}>\r\n            加载中...\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport { Button, Col, Empty, Input, Modal, Row, Space } from \"antd\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport \"./Detail.less\";\r\nimport Share from \"../../common/model/share/Share\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport Matter from \"../../common/model/matter/Matter\";\r\nimport BrowserUtil from \"../../common/util/BrowserUtil\";\r\nimport SortDirection from \"../../common/model/base/SortDirection\";\r\nimport FrameLoading from \"../widget/FrameLoading\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport { ExclamationCircleFilled, DownloadOutlined, StopOutlined, LinkOutlined } from \"@ant-design/icons\";\r\nimport ShareDialogModal from \"./widget/ShareDialogModal\";\r\nimport DateUtil from \"../../common/util/DateUtil\";\r\nimport MatterPanel from \"../matter/widget/MatterPanel\";\r\nimport BreadcrumbModel from \"../../common/model/base/option/BreadcrumbModel\";\r\nimport BreadcrumbPanel from \"../widget/BreadcrumbPanel\";\r\nimport ImagePreviewer from \"../widget/previewer/ImagePreviewer\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\ninterface RouteParam {\r\n  uuid: string;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<RouteParam> {}\r\n\r\ninterface IState {}\r\n\r\nexport default class Detail extends TankComponent<IProps, IState> {\r\n  // 默认分享详情中分页大小\r\n  static sharePagerSize = 50;\r\n\r\n  //当前面包屑模型数组。\r\n  breadcrumbModels: BreadcrumbModel[] = [];\r\n\r\n  // 是否需要提取码\r\n  needShareCode = true;\r\n\r\n  share = new Share(this);\r\n  pager = new Pager<Matter>(this, Matter, Detail.sharePagerSize);\r\n  user = Moon.getSingleton().user;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    this.share.uuid = this.props.match.params.uuid;\r\n    //如果query中有rootUuid那么就更新.\r\n    this.share.rootUuid =\r\n      BrowserUtil.getQueryByName(\"shareRootUuid\") || this.share.rootUuid;\r\n\r\n    this.pager.enableHistory();\r\n    this.refresh();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: Readonly<IProps>, nextContext: any) {\r\n    if (this.props.location.search !== nextProps.location.search) {\r\n      this.pager.enableHistory();\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  refresh = () => {\r\n    const puuid = BrowserUtil.getQueryByName(\"puuid\") || Matter.MATTER_ROOT;\r\n    this.share.httpBrowse(puuid, this.share.rootUuid, () => {\r\n      if (puuid === Matter.MATTER_ROOT) {\r\n        this.pager.clear();\r\n        this.pager.totalItems = this.share.matters.length;\r\n        this.pager.data = this.share.matters;\r\n      }\r\n\r\n      //刷新面包屑\r\n      this.refreshBreadcrumbs();\r\n\r\n      this.needShareCode = false;\r\n      this.updateUI();\r\n    });\r\n\r\n    this.refreshMatterPager();\r\n  };\r\n\r\n  refreshMatterPager = () => {\r\n    //只有当鉴权通过，并且不是分享根目录时需要才去进行page请求，根目录下matters已经通过browse接口拿到了\r\n    const puuid = BrowserUtil.getQueryByName(\"puuid\");\r\n    if (!this.needShareCode && puuid && puuid !== Matter.MATTER_ROOT) {\r\n      const {\r\n        uuid: shareUuid,\r\n        code: shareCode,\r\n        rootUuid: shareRootUuid,\r\n      } = this.share;\r\n      this.pager.setFilterValues({\r\n        puuid,\r\n        shareUuid,\r\n        shareCode,\r\n        shareRootUuid,\r\n        orderCreateTime: SortDirection.DESC, // 默认以时间降序\r\n        orderDir: SortDirection.DESC, // 默认文件夹排在前面\r\n      });\r\n      this.pager.httpList();\r\n    }\r\n  };\r\n\r\n  getFiles = (value: string) => {\r\n    this.share.code = value;\r\n    this.refresh();\r\n  };\r\n\r\n  downloadZip = () => {\r\n    const puuid = BrowserUtil.getQueryByName(\"puuid\") || Matter.MATTER_ROOT;\r\n    this.share.downloadZip(puuid);\r\n  };\r\n\r\n  cancelShare = () => {\r\n    Modal.confirm({\r\n      title: Lang.t(\"share.cancelPrompt\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        this.share.httpDel(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          Sun.navigateTo(\"/share/list\");\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  previewImage = (matter: Matter) => {\r\n    let imageArray: string[] = [];\r\n    let startIndex = -1;\r\n    this.pager.data.forEach((item) => {\r\n      if (item.isImage()) {\r\n        imageArray.push(item.getPreviewUrl());\r\n        if (item.uuid === matter.uuid) {\r\n          startIndex = imageArray.length - 1;\r\n        }\r\n      }\r\n    });\r\n\r\n    ImagePreviewer.showMultiPhoto(imageArray, startIndex);\r\n  };\r\n\r\n  goToDirectory = (id?: string) => {\r\n    const paramId = this.props.match.params.uuid;\r\n    if (id) {\r\n      //share.rootUuid 一旦设置好了，只要根文件夹不换，那么就一直不会变。\r\n      const puuid = BrowserUtil.getQueryByName(\"puuid\");\r\n      if (!puuid || puuid === Matter.MATTER_ROOT) {\r\n        this.share.rootUuid = id;\r\n        this.pager.clear();\r\n      }\r\n\r\n      this.pager.setFilterValue(\"puuid\", id);\r\n      this.pager.page = 0;\r\n      const query = this.pager.getParams();\r\n      Sun.navigateQueryTo({ path: `/share/detail/${paramId}`, query });\r\n    } else {\r\n      // 回到分享根目录，先将rootUuid交给根目录\r\n      this.share.rootUuid = Matter.MATTER_ROOT;\r\n      this.pager.clear();\r\n      Sun.navigateQueryTo({ path: `/share/detail/${paramId}` });\r\n    }\r\n  };\r\n\r\n  refreshBreadcrumbs = () => {\r\n    let that = this;\r\n\r\n    //清空\r\n    that.breadcrumbModels = [];\r\n\r\n    that.breadcrumbModels.push({\r\n      name: Lang.t(\"layout.allFiles\"),\r\n      path: \"/share/detail/\" + this.share.uuid,\r\n      query: {},\r\n      displayDirect: false,\r\n    });\r\n\r\n    let pMatter = this.share.dirMatter;\r\n    while (pMatter && pMatter.uuid) {\r\n      //插入到最前面\r\n      let query = this.pager.getParams();\r\n      query[\"puuid\"] = pMatter.uuid;\r\n      that.breadcrumbModels.splice(1, 0, {\r\n        name: pMatter.name,\r\n        path: \"/share/detail/\" + this.share.uuid,\r\n        query: query,\r\n        displayDirect: false,\r\n      });\r\n      pMatter = pMatter.parent!;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { share, needShareCode, user, pager } = this;\r\n    if (share.detailLoading && needShareCode) return <FrameLoading />;\r\n    return (\r\n      <div className=\"share-detail\">\r\n        <TankTitle name={Lang.t(\"share.shareDetail\")} />\r\n        {needShareCode ? (\r\n          <div>\r\n            <Row>\r\n              <Col span={12} offset={6} className=\"mt100\">\r\n                <Input.Search\r\n                  placeholder={Lang.t(\"share.enterCode\")}\r\n                  enterButton={Lang.t(\"share.getFiles\")}\r\n                  size=\"large\"\r\n                  onSearch={this.getFiles}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <div className=\"share-block\">\r\n              <div className=\"upper\">\r\n                <div className=\"left-box\">\r\n                  <img className=\"share-icon\" src={share.getIcon()} />\r\n                  <span className=\"name\">\r\n                    {share.name}\r\n                    {share.hasExpired() ? (\r\n                      <span className=\"text-danger\">\r\n                        {Lang.t(\"share.expired\")}\r\n                      </span>\r\n                    ) : null}\r\n                  </span>\r\n                </div>\r\n                <div className=\"right-box\">\r\n                  <Space>\r\n                    <Button type=\"primary\" onClick={this.downloadZip}>\r\n                      <DownloadOutlined />\r\n                      {Lang.t(\"download\")}\r\n                    </Button>\r\n                    {user.uuid && user.uuid === share.userUuid ? (\r\n                      <>\r\n                        <Button danger onClick={this.cancelShare}>\r\n                          <StopOutlined />\r\n                          {Lang.t(\"share.cancelShare\")}\r\n                        </Button>\r\n                        <Button\r\n                          type=\"primary\"\r\n                          onClick={() => ShareDialogModal.open(share)}\r\n                        >\r\n                          <LinkOutlined />\r\n                          {Lang.t(\"share.getLink\")}\r\n                        </Button>\r\n                      </>\r\n                    ) : null}\r\n                  </Space>\r\n                </div>\r\n              </div>\r\n              <div className=\"share-info\">\r\n                <Space>\r\n                  <span>\r\n                    {Lang.t(\"share.sharer\")}: {share.username}\r\n                  </span>\r\n                  <span>\r\n                    {Lang.t(\"createTime\")}:{\" \"}\r\n                    {DateUtil.simpleDateHourMinute(share.createTime)}\r\n                  </span>\r\n                  <span>\r\n                    {share.expireInfinity\r\n                      ? Lang.t(\"share.noExpire\")\r\n                      : `${Lang.t(\r\n                          \"share.expireTime\"\r\n                        )}：${DateUtil.simpleDateHourMinute(share.expireTime)}`}\r\n                  </span>\r\n                </Space>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"breadcrumb-area\">\r\n              <BreadcrumbPanel breadcrumbModels={this.breadcrumbModels} />\r\n            </div>\r\n\r\n            {pager.data.length ? (\r\n              pager.data.map((matter) => (\r\n                <MatterPanel\r\n                  key={matter.uuid!}\r\n                  matter={matter}\r\n                  shareMode={true}\r\n                  onGoToDirectory={this.goToDirectory}\r\n                  onPreviewImage={this.previewImage}\r\n                />\r\n              ))\r\n            ) : (\r\n              <Empty description={Lang.t(\"share.noContent\")} />\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./BottomLayout.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport DefaultLogoPng from \"../../assets/image/logo.png\";\r\nimport Cookies from \"js-cookie\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class BottomLayout extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  static changeLang() {\r\n    if (Lang.getSingleton().lang === \"zh\") {\r\n      Lang.getSingleton().lang = \"en\";\r\n    } else {\r\n      Lang.getSingleton().lang = \"zh\";\r\n    }\r\n    Cookies.set(\"_lang\", Lang.getSingleton().lang);\r\n\r\n    Sun.updateFrame();\r\n  }\r\n\r\n  render() {\r\n    const { preference } = Moon.getSingleton();\r\n\r\n    return (\r\n      <div className=\"layout-bottom\">\r\n        <span className=\"item\">\r\n          <span dangerouslySetInnerHTML={{ __html: preference.copyright }} />\r\n        </span>\r\n        <span className=\"item\">\r\n          <span dangerouslySetInnerHTML={{ __html: preference.record }} />\r\n        </span>\r\n        <span className=\"item\">\r\n          <a className=\"text-theme\" onClick={BottomLayout.changeLang}>\r\n            {Lang.getSingleton().lang === \"zh\" ? \"English\" : \"中文\"}\r\n          </a>\r\n        </span>\r\n        {/*开源不易，请不要移除掉这里的代码，蓝眼云盘谢谢您! ^_^*/}\r\n        {/*It is not easy to open source，please do not remove the following code, thank you! ^_^ */}\r\n        <span className=\"brand\">\r\n          Powered by  <a target=\"_blank\" href=\"https://github.com/eyebluecn/tank\">\r\n            <img alt=\"logo\" className=\"w30\" src={DefaultLogoPng} />  {Lang.t(\"eyeblueTank\")}\r\n          </a>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import {ToolItem} from \"../types\";\r\nimport React from \"react\";\r\n\r\nexport default class MenuItem implements ToolItem {\r\n  name: string;\r\n  url: string;\r\n  icon: React.ReactNode;\r\n  active: boolean = false;\r\n\r\n\r\n  constructor(name: string, url: string, icon: React.ReactNode) {\r\n    this.name = name;\r\n    this.url = url;\r\n    this.icon = icon;\r\n\r\n    //当前的url完全一致，那么就高亮显示\r\n    if (url == \"/user/login\") {\r\n      this.active = window.location.pathname === url || window.location.pathname === \"/user/register\"\r\n    } else {\r\n      this.active = window.location.pathname === url\r\n    }\r\n\r\n  }\r\n}\r\n","/**\r\n * 管理当前所有的菜单\r\n */\r\nimport React from \"react\";\r\nimport MenuItem from './MenuItem';\r\nimport Moon from '../model/global/Moon';\r\nimport User from '../model/user/User';\r\nimport {UserRole} from '../model/user/UserRole';\r\nimport Sun from '../../common/model/global/Sun';\r\nimport {\r\n  AppstoreOutlined,\r\n  DashboardOutlined,\r\n  PoweroffOutlined,\r\n  SettingOutlined,\r\n  ShareAltOutlined,\r\n  TeamOutlined\r\n} from '@ant-design/icons';\r\nimport {LoginOutlined} from \"@ant-design/icons/lib\";\r\nimport Preference from \"../model/preference/Preference\";\r\nimport Lang from \"../model/global/Lang\";\r\n\r\n\r\nexport default class MenuManager {\r\n\r\n  //单例模式\r\n  private static singleton: MenuManager;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  static getSingleton(): MenuManager {\r\n    if (!MenuManager.singleton) {\r\n      //初始化一个mainLand.\r\n      MenuManager.singleton = new MenuManager();\r\n\r\n    }\r\n    return MenuManager.singleton;\r\n  }\r\n\r\n  /**\r\n   * 获取到当前高亮的菜单\r\n   */\r\n  getSelectedKeys(): string[] {\r\n\r\n    let keys: string[] = this.getMenuItems()\r\n      .filter((menuItem: MenuItem, index: number) => {\r\n        return menuItem.active;\r\n      }).map((menuItem: MenuItem, index: number) => {\r\n        return menuItem.url;\r\n      });\r\n\r\n    return keys;\r\n  }\r\n\r\n  /**\r\n   * 高亮某个菜单\r\n   */\r\n  selectMenu(url: string) {\r\n\r\n    this.getMenuItems().forEach((menuItem: MenuItem, index: number) => {\r\n      menuItem.active = menuItem.url === url;\r\n    });\r\n\r\n  }\r\n\r\n  getMenuItems(): MenuItem[] {\r\n    let user: User = Moon.getSingleton().user;\r\n    let preference: Preference = Moon.getSingleton().preference;\r\n\r\n    let menuItems: MenuItem[] = [];\r\n\r\n    if (!preference.installed) {\r\n      menuItems = [\r\n        new MenuItem(Lang.t(\"layout.install\"), '/install/index', <SettingOutlined/>),\r\n      ];\r\n    } else if (user.role === UserRole.GUEST) {\r\n      menuItems = [\r\n        new MenuItem(Lang.t(\"user.login\"), '/user/login', <LoginOutlined/>),\r\n      ];\r\n    } else {\r\n      menuItems.push(new MenuItem(Lang.t(\"layout.allFiles\"), '/matter/list', <AppstoreOutlined/>))\r\n      menuItems.push(new MenuItem(Lang.t(\"layout.myShare\"), '/share/list', <ShareAltOutlined/>))\r\n\r\n      if (user.role === UserRole.ADMINISTRATOR) {\r\n        menuItems.push(new MenuItem(Lang.t(\"layout.setting\"), '/preference/index', <SettingOutlined/>))\r\n        menuItems.push(new MenuItem(Lang.t(\"layout.dashboard\"), '/dashboard/index', <DashboardOutlined/>))\r\n        menuItems.push(new MenuItem(Lang.t(\"layout.users\"), `${Sun.getSingleton().isMobile ? '/mobile': ''}/user/list`, <TeamOutlined/>))\r\n      }\r\n      menuItems.push(new MenuItem(Lang.t(\"layout.logout\"), '/user/logout', <PoweroffOutlined/>))\r\n\r\n\r\n    }\r\n\r\n    return menuItems;\r\n\r\n  }\r\n\r\n}\r\n","import React from \"react\";\r\nimport { Modal } from \"antd\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport BottomLayout from \"../BottomLayout\";\r\nimport DefaultLogoPng from \"../../../assets/image/logo.png\";\r\nimport \"./AboutModal.less\";\r\n\r\ninterface IProps {\r\n  onSuccess: () => any,\r\n  onClose: () => any\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class AboutModal extends TankComponent<IProps, IState>{\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  static open = () => {\r\n    const modal = Modal.confirm({\r\n      className: \"about-modal\",\r\n      title: Lang.t(\"layout.about\"),\r\n      width: \"90vw\",\r\n      okCancel: false,\r\n      okText: Lang.t(\"confirm\"),\r\n      maskClosable: true,\r\n      content: (\r\n        <AboutModal\r\n          onSuccess={() => {\r\n            modal.destroy();\r\n          }}\r\n          onClose={() => {\r\n            modal.destroy();\r\n          }}\r\n        />)\r\n    })\r\n  };\r\n\r\n  changeLang = () => {\r\n    BottomLayout.changeLang();\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"box\">\r\n        <p className=\"link\" onClick={this.changeLang}>\r\n            {Lang.getSingleton().lang === \"zh\" ? \"English\" : \"中文\"}\r\n        </p>\r\n        <p className=\"brand\">\r\n          Powered by  <a target=\"_blank\" href=\"https://github.com/eyebluecn/tank\">\r\n          <img alt=\"logo\" className=\"w30\" src={DefaultLogoPng} />\r\n          {Lang.t(\"eyeblueTank\")}\r\n        </a>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./SideLayout.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport DefaultLogoPng from \"../../assets/image/logo.png\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserRole } from \"../../common/model/user/UserRole\";\r\nimport { Menu } from \"antd\";\r\nimport MenuItem from \"../../common/menu/MenuItem\";\r\nimport User from \"../../common/model/user/User\";\r\nimport MenuManager from \"../../common/menu/MenuManager\";\r\nimport { SelectParam } from \"antd/lib/menu\";\r\nimport { InfoCircleOutlined } from \"@ant-design/icons\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport AboutModal from \"./widget/AboutModal\";\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class SideLayout extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  onSelect(param: SelectParam) {\r\n    if (param.key === \"about\") {\r\n      AboutModal.open();\r\n      return;\r\n    }\r\n\r\n    let menuManager: MenuManager = MenuManager.getSingleton();\r\n    menuManager.selectMenu(param.key);\r\n\r\n    //打到对应的页面中。\r\n    if (param.key == \"/user/logout\") {\r\n      Sun.navigateTo(\"/user/login\");\r\n    } else {\r\n      Sun.navigateTo(param.key);\r\n    }\r\n\r\n    this.updateUI();\r\n  }\r\n\r\n  render() {\r\n    const menuManager: MenuManager = MenuManager.getSingleton();\r\n    const menuItems: MenuItem[] = menuManager.getMenuItems();\r\n    const preference: Preference = Moon.getSingleton().preference;\r\n    const user: User = Moon.getSingleton().user;\r\n\r\n    return (\r\n      <div\r\n        className={`layout-side ${\r\n          Sun.getSingleton().showDrawer ? \"show-drawer\" : \"\"\r\n        }`}\r\n      >\r\n        {preference.installed ? (\r\n          <div>\r\n            <div className=\"avatar-area\">\r\n              <Link className=\"username-text\" to={\"/user/detail/\" + user.uuid}>\r\n                <img\r\n                  alt=\"avatar\"\r\n                  className=\"avatar-middle\"\r\n                  src={user.getAvatarUrl()}\r\n                />\r\n              </Link>\r\n            </div>\r\n            <div className=\"username-area\">\r\n              {user.role === UserRole.GUEST ? (\r\n                \"未登录\"\r\n              ) : (\r\n                <Link to={\"/user/detail/\" + user.uuid}>\r\n                  <span className=\"username-text\">{user.username}</span>\r\n                </Link>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"install-area\">\r\n            <img alt=\"avatar\" className=\"install-logo\" src={DefaultLogoPng} />\r\n          </div>\r\n        )}\r\n\r\n        <Menu\r\n          theme=\"dark\"\r\n          selectedKeys={menuManager.getSelectedKeys()}\r\n          onSelect={this.onSelect.bind(this)}\r\n          mode=\"inline\"\r\n        >\r\n          {menuItems.map((menuItem: MenuItem, index: number) => {\r\n            return (\r\n              <Menu.Item key={menuItem.url}>\r\n                {menuItem.icon}\r\n                <span>{menuItem.name}</span>\r\n              </Menu.Item>\r\n            );\r\n          })}\r\n          <Menu.Item className=\"visible-xs\" key=\"about\">\r\n            <InfoCircleOutlined />\r\n            {Lang.t(\"layout.about\")}\r\n          </Menu.Item>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport \"./TopLayout.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport DefaultLogoPng from '../../assets/image/logo.png';\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport {MenuFoldOutlined, MenuUnfoldOutlined} from \"@ant-design/icons/lib\";\r\nimport ImageUtil from \"../../common/util/ImageUtil\";\r\n\r\ninterface IProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n\r\nexport default class TopLayout extends TankComponent <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n\r\n  goHome() {\r\n\r\n    Sun.navigateTo(\"/\")\r\n  }\r\n\r\n  //logo可以使用自定义的。\r\n  logoUrl() {\r\n\r\n    let preference: Preference = Moon.getSingleton().preference\r\n    if (preference.logoUrl) {\r\n      return ImageUtil.handleImageUrl(preference.logoUrl, false, 200, 200)\r\n\r\n    } else {\r\n      return DefaultLogoPng\r\n    }\r\n  }\r\n\r\n  toggleDrawer() {\r\n    Sun.getSingleton().showDrawer = !Sun.getSingleton().showDrawer\r\n    Sun.updateFrame()\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n\r\n    return (\r\n\r\n      <div className=\"layout-top\">\r\n\r\n        <div className=\"logo-title-area\" onClick={this.goHome.bind(this)}>\r\n          <img className=\"header-logo\" src={this.logoUrl()} alt=\"logo\"/>\r\n          <span className=\"header-title\">蓝眼云盘</span>\r\n        </div>\r\n\r\n        <div className=\"drawer-trigger\">\r\n          {\r\n            Sun.getSingleton().showDrawer ? (\r\n\r\n              <MenuFoldOutlined onClick={this.toggleDrawer.bind(this)}/>\r\n            ) : (\r\n              <MenuUnfoldOutlined onClick={this.toggleDrawer.bind(this)}/>\r\n            )\r\n          }\r\n        </div>\r\n\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport \"./ContentLayout.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\n\r\ninterface IProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class ContentLayout extends TankComponent <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    return (\r\n\r\n      <div id=\"layout-content\" className=\"layout-content\">\r\n        {this.props.children}\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport {Redirect, Route, RouteComponentProps, withRouter} from 'react-router-dom';\r\n\r\nimport './Frame.less';\r\nimport TankComponent from '../common/component/TankComponent';\r\nimport UserLogin from './user/Login';\r\nimport UserRegister from './user/Register';\r\n\r\nimport UserList from './user/List';\r\nimport MobileUserList from './user/MobileList';\r\nimport UserDetail from './user/Detail';\r\nimport UserEdit from './user/Edit';\r\nimport UserAuthentication from './user/Authentication';\r\n\r\nimport PreferenceIndex from './preference/Index';\r\nimport PreferenceEdit from './preference/Edit';\r\nimport PreferenceEngineEdit from './preference/PreviewEngineEdit';\r\n\r\nimport DashboardIndex from './dashboard/Index';\r\nimport InstallIndex from './install/Index';\r\n\r\nimport MatterList from './matter/List';\r\nimport MatterDetail from './matter/Detail';\r\n\r\n\r\nimport ShareList from './share/List';\r\nimport ShareDetail from './share/Detail';\r\nimport User from '../common/model/user/User';\r\nimport Moon from '../common/model/global/Moon';\r\nimport Sun from '../common/model/global/Sun';\r\nimport FrameLoading from \"./widget/FrameLoading\";\r\nimport Preference from \"../common/model/preference/Preference\";\r\nimport {WebResultCode} from \"../common/model/base/WebResultCode\";\r\nimport MessageBoxUtil from \"../common/util/MessageBoxUtil\";\r\nimport BottomLayout from \"./layout/BottomLayout\";\r\nimport SideLayout from \"./layout/SideLayout\";\r\nimport TopLayout from \"./layout/TopLayout\";\r\nimport ContentLayout from \"./layout/ContentLayout\";\r\n\r\ninterface IProps extends RouteComponentProps<{}> {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n\r\nclass RawFrame extends TankComponent<IProps, IState> {\r\n\r\n  user: User = Moon.getSingleton().user;\r\n\r\n  preference: Preference = Moon.getSingleton().preference;\r\n\r\n  //是否已经完成初始化\r\n  initialized: boolean = false\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    //装载全局的路由\r\n    Sun.getSingleton().reactRouter = this.props.history;\r\n    //装在全局Frame\r\n    Sun.getSingleton().frameComponent = this\r\n\r\n    this.initialize();\r\n\r\n  }\r\n\r\n\r\n  //获取当前登录者的信息\r\n  initialize() {\r\n    let that = this;\r\n    let pathname: string = that.props.location.pathname\r\n\r\n    this.preference.httpFetch(function () {\r\n\r\n      let whitePaths = ['/user/login', '/user/register'];\r\n      //如果当前本身是登录界面，那么不用去获取。\r\n      if (whitePaths.indexOf(pathname) == -1 && !pathname.startsWith(\"/user/authentication\")) {\r\n\r\n        that.user.httpInfo(null, null, function () {\r\n          that.initialized = true\r\n          that.updateUI();\r\n        });\r\n\r\n      } else {\r\n        that.initialized = true\r\n        that.updateUI();\r\n      }\r\n\r\n    }, function (errMessage: string, response: any) {\r\n\r\n      that.initialized = true\r\n      that.updateUI()\r\n      if (response && response.data && response.data[\"code\"] === WebResultCode.NOT_INSTALLED) {\r\n        MessageBoxUtil.warning(\"网站尚未安装，即将引导进入安装页面！\")\r\n        that.preference.installed = false\r\n        Sun.navigateTo(\"/install/index\")\r\n      }\r\n\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    let content: React.ReactNode;\r\n\r\n    if (this.initialized) {\r\n      content = (\r\n\r\n        <div className=\"pages-frame-inner\">\r\n\r\n          <SideLayout/>\r\n\r\n          <TopLayout/>\r\n\r\n          <ContentLayout>\r\n            {\r\n              this.preference.installed ? (\r\n                <div className=\"pages-content\">\r\n                  <Route exact path=\"/\" render={() =>\r\n                    <Redirect to=\"/matter/list\"/>\r\n                  }/>\r\n                  <Route path=\"/user/login\" component={UserLogin}/>\r\n                  <Route path=\"/user/register\" component={UserRegister}/>\r\n                  <Route path=\"/user/detail/:uuid\" component={UserDetail}/>\r\n                  <Route path=\"/user/list\" component={UserList}/>\r\n                  <Route path=\"/mobile/user/list\" component={MobileUserList}/>\r\n                  <Route path=\"/user/create\" component={UserEdit}/>\r\n                  <Route path=\"/user/edit/:uuid\" component={UserEdit}/>\r\n                  <Route path=\"/user/authentication/:authentication\" component={UserAuthentication}/>\r\n\r\n                  <Route path=\"/dashboard/index\" component={DashboardIndex}/>\r\n\r\n                  <Route path=\"/preference/index\" component={PreferenceIndex}/>\r\n                  <Route path=\"/preference/edit\" component={PreferenceEdit}/>\r\n                  <Route path=\"/preference/engine/edit\" component={PreferenceEngineEdit}/>\r\n\r\n                  <Route path=\"/matter/detail/:uuid\" component={MatterDetail}/>\r\n                  <Route exact path=\"/matter\" render={() =>\r\n                    <Redirect to=\"/matter/list\"/>\r\n                  }/>\r\n                  <Route path=\"/matter/list\" component={MatterList}/>\r\n\r\n                    <Route path=\"/share/list\" component={ShareList}/>\r\n                    <Route path=\"/share/detail/:uuid\" component={ShareDetail}/>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"pages-content\">\r\n                    <Route path=\"/install/index\" component={InstallIndex}/>\r\n                  </div>\r\n                )\r\n              }\r\n\r\n          </ContentLayout>\r\n\r\n          <BottomLayout/>\r\n\r\n        </div>\r\n      )\r\n    } else {\r\n      content = (\r\n        <FrameLoading/>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div className=\"pages-frame\">\r\n        {content}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Frame = withRouter<IProps, React.ComponentType<IProps>>(RawFrame);\r\nexport default Frame;\r\n","import React from 'react';\r\nimport {BrowserRouter as Router} from \"react-router-dom\";\r\nimport {ConfigProvider} from 'antd';\r\nimport Frame from \"./pages/Frame\";\r\nimport en_US from 'antd/es/locale/en_US';\r\n\r\n// global less 须放在Frame组件之后，不然会出现按需加载的less文件覆盖样式问题\r\nimport './App.less';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <ConfigProvider locale={en_US}>\r\n        <Frame/>\r\n      </ConfigProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// support IE >= 9\nimport 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/stable';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n\n","module.exports = __webpack_public_path__ + \"static/media/archive.77d78eb7.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/empty.babf4d08.svg\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}